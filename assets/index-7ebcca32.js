(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function UT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();var Ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function FT(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var M_={exports:{}},Bh={},U_={exports:{}},_e={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Xl=Symbol.for("react.element"),VT=Symbol.for("react.portal"),zT=Symbol.for("react.fragment"),BT=Symbol.for("react.strict_mode"),qT=Symbol.for("react.profiler"),$T=Symbol.for("react.provider"),WT=Symbol.for("react.context"),HT=Symbol.for("react.forward_ref"),KT=Symbol.for("react.suspense"),GT=Symbol.for("react.memo"),QT=Symbol.for("react.lazy"),cb=Symbol.iterator;function JT(t){return t===null||typeof t!="object"?null:(t=cb&&t[cb]||t["@@iterator"],typeof t=="function"?t:null)}var F_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V_=Object.assign,z_={};function na(t,e,n){this.props=t,this.context=e,this.refs=z_,this.updater=n||F_}na.prototype.isReactComponent={};na.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};na.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function B_(){}B_.prototype=na.prototype;function fg(t,e,n){this.props=t,this.context=e,this.refs=z_,this.updater=n||F_}var pg=fg.prototype=new B_;pg.constructor=fg;V_(pg,na.prototype);pg.isPureReactComponent=!0;var hb=Array.isArray,q_=Object.prototype.hasOwnProperty,mg={current:null},$_={key:!0,ref:!0,__self:!0,__source:!0};function W_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)q_.call(e,r)&&!$_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Xl,type:t,key:s,ref:o,props:i,_owner:mg.current}}function XT(t,e){return{$$typeof:Xl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xl}function YT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var db=/\/+/g;function uf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YT(""+t.key):e.toString(36)}function fc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Xl:case VT:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+uf(o,0):r,hb(i)?(n="",t!=null&&(n=t.replace(db,"$&/")+"/"),fc(i,e,n,"",function(u){return u})):i!=null&&(gg(i)&&(i=XT(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(db,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",hb(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+uf(s,a);o+=fc(s,e,n,l,i)}else if(l=JT(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+uf(s,a++),o+=fc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Lu(t,e,n){if(t==null)return t;var r=[],i=0;return fc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function ZT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rn={current:null},pc={transition:null},eN={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:pc,ReactCurrentOwner:mg};_e.Children={map:Lu,forEach:function(t,e,n){Lu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Lu(t,function(){e++}),e},toArray:function(t){return Lu(t,function(e){return e})||[]},only:function(t){if(!gg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=na;_e.Fragment=zT;_e.Profiler=qT;_e.PureComponent=fg;_e.StrictMode=BT;_e.Suspense=KT;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eN;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=V_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=mg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)q_.call(e,l)&&!$_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Xl,type:t.type,key:i,ref:s,props:r,_owner:o}};_e.createContext=function(t){return t={$$typeof:WT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$T,_context:t},t.Consumer=t};_e.createElement=W_;_e.createFactory=function(t){var e=W_.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:HT,render:t}};_e.isValidElement=gg;_e.lazy=function(t){return{$$typeof:QT,_payload:{_status:-1,_result:t},_init:ZT}};_e.memo=function(t,e){return{$$typeof:GT,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=pc.transition;pc.transition={};try{t()}finally{pc.transition=e}};_e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};_e.useCallback=function(t,e){return rn.current.useCallback(t,e)};_e.useContext=function(t){return rn.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return rn.current.useDeferredValue(t)};_e.useEffect=function(t,e){return rn.current.useEffect(t,e)};_e.useId=function(){return rn.current.useId()};_e.useImperativeHandle=function(t,e,n){return rn.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return rn.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return rn.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return rn.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return rn.current.useReducer(t,e,n)};_e.useRef=function(t){return rn.current.useRef(t)};_e.useState=function(t){return rn.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return rn.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return rn.current.useTransition()};_e.version="18.2.0";U_.exports=_e;var S=U_.exports;const It=dg(S),tN=UT({__proto__:null,default:It},[S]);/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var nN=S,rN=Symbol.for("react.element"),iN=Symbol.for("react.fragment"),sN=Object.prototype.hasOwnProperty,oN=nN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aN={key:!0,ref:!0,__self:!0,__source:!0};function H_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)sN.call(e,r)&&!aN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:rN,type:t,key:s,ref:o,props:i,_owner:oN.current}}Bh.Fragment=iN;Bh.jsx=H_;Bh.jsxs=H_;M_.exports=Bh;var c=M_.exports,Sp={},K_={exports:{}},En={},G_={exports:{}},Q_={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(t){function e(N,L){var H=N.length;N.push(L);e:for(;0<H;){var te=H-1>>>1,ge=N[te];if(0<i(ge,L))N[te]=L,N[H]=ge,H=te;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var L=N[0],H=N.pop();if(H!==L){N[0]=H;e:for(var te=0,ge=N.length,nt=ge>>>1;te<nt;){var Pe=2*(te+1)-1,Rt=N[Pe],ze=Pe+1,yt=N[ze];if(0>i(Rt,H))ze<ge&&0>i(yt,Rt)?(N[te]=yt,N[ze]=H,te=ze):(N[te]=Rt,N[Pe]=H,te=Pe);else if(ze<ge&&0>i(yt,H))N[te]=yt,N[ze]=H,te=ze;else break e}}return L}function i(N,L){var H=N.sortIndex-L.sortIndex;return H!==0?H:N.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,d=null,f=3,g=!1,v=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(N){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=N)r(u),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(u)}}function w(N){if(b=!1,y(N),!v)if(n(l)!==null)v=!0,U(k);else{var L=n(u);L!==null&&E(w,L.startTime-N)}}function k(N,L){v=!1,b&&(b=!1,m(O),O=-1),g=!0;var H=f;try{for(y(L),d=n(l);d!==null&&(!(d.expirationTime>L)||N&&!me());){var te=d.callback;if(typeof te=="function"){d.callback=null,f=d.priorityLevel;var ge=te(d.expirationTime<=L);L=t.unstable_now(),typeof ge=="function"?d.callback=ge:d===n(l)&&r(l),y(L)}else r(l);d=n(l)}if(d!==null)var nt=!0;else{var Pe=n(u);Pe!==null&&E(w,Pe.startTime-L),nt=!1}return nt}finally{d=null,f=H,g=!1}}var I=!1,A=null,O=-1,z=5,W=-1;function me(){return!(t.unstable_now()-W<z)}function K(){if(A!==null){var N=t.unstable_now();W=N;var L=!0;try{L=A(!0,N)}finally{L?ie():(I=!1,A=null)}}else I=!1}var ie;if(typeof p=="function")ie=function(){p(K)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,P=T.port2;T.port1.onmessage=K,ie=function(){P.postMessage(null)}}else ie=function(){x(K,0)};function U(N){A=N,I||(I=!0,ie())}function E(N,L){O=x(function(){N(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,U(k))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var H=f;f=L;try{return N()}finally{f=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,L){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var H=f;f=N;try{return L()}finally{f=H}},t.unstable_scheduleCallback=function(N,L,H){var te=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?te+H:te):H=te,N){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=H+ge,N={id:h++,callback:L,priorityLevel:N,startTime:H,expirationTime:ge,sortIndex:-1},H>te?(N.sortIndex=H,e(u,N),n(l)===null&&N===n(u)&&(b?(m(O),O=-1):b=!0,E(w,H-te))):(N.sortIndex=ge,e(l,N),v||g||(v=!0,U(k))),N},t.unstable_shouldYield=me,t.unstable_wrapCallback=function(N){var L=f;return function(){var H=f;f=L;try{return N.apply(this,arguments)}finally{f=H}}}})(Q_);G_.exports=Q_;var lN=G_.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var J_=S,xn=lN;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X_=new Set,cl={};function Ms(t,e){Lo(t,e),Lo(t+"Capture",e)}function Lo(t,e){for(cl[t]=e,t=0;t<e.length;t++)X_.add(e[t])}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xp=Object.prototype.hasOwnProperty,uN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fb={},pb={};function cN(t){return xp.call(pb,t)?!0:xp.call(fb,t)?!1:uN.test(t)?pb[t]=!0:(fb[t]=!0,!1)}function hN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dN(t,e,n,r){if(e===null||typeof e>"u"||hN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dt[t]=new sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dt[e]=new sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dt[t]=new sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dt[t]=new sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dt[t]=new sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dt[t]=new sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dt[t]=new sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dt[t]=new sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dt[t]=new sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var yg=/[\-:]([a-z])/g;function vg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yg,vg);Dt[e]=new sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yg,vg);Dt[e]=new sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yg,vg);Dt[e]=new sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dt[t]=new sn(t,1,!1,t.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dt[t]=new sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function bg(t,e,n,r){var i=Dt.hasOwnProperty(e)?Dt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dN(e,n,i,r)&&(n=null),r||i===null?cN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ei=J_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mu=Symbol.for("react.element"),ro=Symbol.for("react.portal"),io=Symbol.for("react.fragment"),wg=Symbol.for("react.strict_mode"),Cp=Symbol.for("react.profiler"),Y_=Symbol.for("react.provider"),Z_=Symbol.for("react.context"),_g=Symbol.for("react.forward_ref"),kp=Symbol.for("react.suspense"),Ep=Symbol.for("react.suspense_list"),Sg=Symbol.for("react.memo"),ai=Symbol.for("react.lazy"),e1=Symbol.for("react.offscreen"),mb=Symbol.iterator;function ba(t){return t===null||typeof t!="object"?null:(t=mb&&t[mb]||t["@@iterator"],typeof t=="function"?t:null)}var Ge=Object.assign,cf;function Oa(t){if(cf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cf=e&&e[1]||""}return`
`+cf+t}var hf=!1;function df(t,e){if(!t||hf)return"";hf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{hf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Oa(t):""}function fN(t){switch(t.tag){case 5:return Oa(t.type);case 16:return Oa("Lazy");case 13:return Oa("Suspense");case 19:return Oa("SuspenseList");case 0:case 2:case 15:return t=df(t.type,!1),t;case 11:return t=df(t.type.render,!1),t;case 1:return t=df(t.type,!0),t;default:return""}}function Tp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case io:return"Fragment";case ro:return"Portal";case Cp:return"Profiler";case wg:return"StrictMode";case kp:return"Suspense";case Ep:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Z_:return(t.displayName||"Context")+".Consumer";case Y_:return(t._context.displayName||"Context")+".Provider";case _g:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sg:return e=t.displayName||null,e!==null?e:Tp(t.type)||"Memo";case ai:e=t._payload,t=t._init;try{return Tp(t(e))}catch{}}return null}function pN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tp(e);case 8:return e===wg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ui(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function t1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mN(t){var e=t1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Uu(t){t._valueTracker||(t._valueTracker=mN(t))}function n1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=t1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Dc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Np(t,e){var n=e.checked;return Ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function gb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ui(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function r1(t,e){e=e.checked,e!=null&&bg(t,"checked",e,!1)}function Ip(t,e){r1(t,e);var n=Ui(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jp(t,e.type,n):e.hasOwnProperty("defaultValue")&&jp(t,e.type,Ui(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jp(t,e,n){(e!=="number"||Dc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Pa=Array.isArray;function bo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ui(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ap(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Pa(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ui(n)}}function i1(t,e){var n=Ui(e.value),r=Ui(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function bb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function s1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Op(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?s1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fu,o1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fu=Fu||document.createElement("div"),Fu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gN=["Webkit","ms","Moz","O"];Object.keys(Wa).forEach(function(t){gN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wa[e]=Wa[t]})});function a1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wa.hasOwnProperty(t)&&Wa[t]?(""+e).trim():e+"px"}function l1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=a1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var yN=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pp(t,e){if(e){if(yN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Dp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rp=null;function xg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lp=null,wo=null,_o=null;function wb(t){if(t=eu(t)){if(typeof Lp!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Kh(e),Lp(t.stateNode,t.type,e))}}function u1(t){wo?_o?_o.push(t):_o=[t]:wo=t}function c1(){if(wo){var t=wo,e=_o;if(_o=wo=null,wb(t),e)for(t=0;t<e.length;t++)wb(e[t])}}function h1(t,e){return t(e)}function d1(){}var ff=!1;function f1(t,e,n){if(ff)return t(e,n);ff=!0;try{return h1(t,e,n)}finally{ff=!1,(wo!==null||_o!==null)&&(d1(),c1())}}function dl(t,e){var n=t.stateNode;if(n===null)return null;var r=Kh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Mp=!1;if($r)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){Mp=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{Mp=!1}function vN(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Ha=!1,Rc=null,Lc=!1,Up=null,bN={onError:function(t){Ha=!0,Rc=t}};function wN(t,e,n,r,i,s,o,a,l){Ha=!1,Rc=null,vN.apply(bN,arguments)}function _N(t,e,n,r,i,s,o,a,l){if(wN.apply(this,arguments),Ha){if(Ha){var u=Rc;Ha=!1,Rc=null}else throw Error(B(198));Lc||(Lc=!0,Up=u)}}function Us(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function p1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _b(t){if(Us(t)!==t)throw Error(B(188))}function SN(t){var e=t.alternate;if(!e){if(e=Us(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return _b(i),t;if(s===r)return _b(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function m1(t){return t=SN(t),t!==null?g1(t):null}function g1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=g1(t);if(e!==null)return e;t=t.sibling}return null}var y1=xn.unstable_scheduleCallback,Sb=xn.unstable_cancelCallback,xN=xn.unstable_shouldYield,CN=xn.unstable_requestPaint,rt=xn.unstable_now,kN=xn.unstable_getCurrentPriorityLevel,Cg=xn.unstable_ImmediatePriority,v1=xn.unstable_UserBlockingPriority,Mc=xn.unstable_NormalPriority,EN=xn.unstable_LowPriority,b1=xn.unstable_IdlePriority,qh=null,br=null;function TN(t){if(br&&typeof br.onCommitFiberRoot=="function")try{br.onCommitFiberRoot(qh,t,void 0,(t.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:jN,NN=Math.log,IN=Math.LN2;function jN(t){return t>>>=0,t===0?32:31-(NN(t)/IN|0)|0}var Vu=64,zu=4194304;function Da(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Uc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Da(a):(s&=o,s!==0&&(r=Da(s)))}else o=n&~i,o!==0?r=Da(o):s!==0&&(r=Da(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yn(e),i=1<<n,r|=t[n],e&=~i;return r}function AN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ON(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Yn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=AN(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Fp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function w1(){var t=Vu;return Vu<<=1,!(Vu&4194240)&&(Vu=64),t}function pf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yn(e),t[e]=n}function PN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Yn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function kg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var je=0;function _1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var S1,Eg,x1,C1,k1,Vp=!1,Bu=[],Si=null,xi=null,Ci=null,fl=new Map,pl=new Map,ui=[],DN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xb(t,e){switch(t){case"focusin":case"focusout":Si=null;break;case"dragenter":case"dragleave":xi=null;break;case"mouseover":case"mouseout":Ci=null;break;case"pointerover":case"pointerout":fl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(e.pointerId)}}function _a(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=eu(e),e!==null&&Eg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function RN(t,e,n,r,i){switch(e){case"focusin":return Si=_a(Si,t,e,n,r,i),!0;case"dragenter":return xi=_a(xi,t,e,n,r,i),!0;case"mouseover":return Ci=_a(Ci,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return fl.set(s,_a(fl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,pl.set(s,_a(pl.get(s)||null,t,e,n,r,i)),!0}return!1}function E1(t){var e=os(t.target);if(e!==null){var n=Us(e);if(n!==null){if(e=n.tag,e===13){if(e=p1(n),e!==null){t.blockedOn=e,k1(t.priority,function(){x1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Rp=r,n.target.dispatchEvent(r),Rp=null}else return e=eu(n),e!==null&&Eg(e),t.blockedOn=n,!1;e.shift()}return!0}function Cb(t,e,n){mc(t)&&n.delete(e)}function LN(){Vp=!1,Si!==null&&mc(Si)&&(Si=null),xi!==null&&mc(xi)&&(xi=null),Ci!==null&&mc(Ci)&&(Ci=null),fl.forEach(Cb),pl.forEach(Cb)}function Sa(t,e){t.blockedOn===e&&(t.blockedOn=null,Vp||(Vp=!0,xn.unstable_scheduleCallback(xn.unstable_NormalPriority,LN)))}function ml(t){function e(i){return Sa(i,t)}if(0<Bu.length){Sa(Bu[0],t);for(var n=1;n<Bu.length;n++){var r=Bu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Si!==null&&Sa(Si,t),xi!==null&&Sa(xi,t),Ci!==null&&Sa(Ci,t),fl.forEach(e),pl.forEach(e),n=0;n<ui.length;n++)r=ui[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ui.length&&(n=ui[0],n.blockedOn===null);)E1(n),n.blockedOn===null&&ui.shift()}var So=ei.ReactCurrentBatchConfig,Fc=!0;function MN(t,e,n,r){var i=je,s=So.transition;So.transition=null;try{je=1,Tg(t,e,n,r)}finally{je=i,So.transition=s}}function UN(t,e,n,r){var i=je,s=So.transition;So.transition=null;try{je=4,Tg(t,e,n,r)}finally{je=i,So.transition=s}}function Tg(t,e,n,r){if(Fc){var i=zp(t,e,n,r);if(i===null)Cf(t,e,r,Vc,n),xb(t,r);else if(RN(i,t,e,n,r))r.stopPropagation();else if(xb(t,r),e&4&&-1<DN.indexOf(t)){for(;i!==null;){var s=eu(i);if(s!==null&&S1(s),s=zp(t,e,n,r),s===null&&Cf(t,e,r,Vc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Cf(t,e,r,null,n)}}var Vc=null;function zp(t,e,n,r){if(Vc=null,t=xg(r),t=os(t),t!==null)if(e=Us(t),e===null)t=null;else if(n=e.tag,n===13){if(t=p1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vc=t,null}function T1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kN()){case Cg:return 1;case v1:return 4;case Mc:case EN:return 16;case b1:return 536870912;default:return 16}default:return 16}}var gi=null,Ng=null,gc=null;function N1(){if(gc)return gc;var t,e=Ng,n=e.length,r,i="value"in gi?gi.value:gi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return gc=i.slice(t,1<r?1-r:void 0)}function yc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qu(){return!0}function kb(){return!1}function Tn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?qu:kb,this.isPropagationStopped=kb,this}return Ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qu)},persist:function(){},isPersistent:qu}),e}var ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ig=Tn(ra),Zl=Ge({},ra,{view:0,detail:0}),FN=Tn(Zl),mf,gf,xa,$h=Ge({},Zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xa&&(xa&&t.type==="mousemove"?(mf=t.screenX-xa.screenX,gf=t.screenY-xa.screenY):gf=mf=0,xa=t),mf)},movementY:function(t){return"movementY"in t?t.movementY:gf}}),Eb=Tn($h),VN=Ge({},$h,{dataTransfer:0}),zN=Tn(VN),BN=Ge({},Zl,{relatedTarget:0}),yf=Tn(BN),qN=Ge({},ra,{animationName:0,elapsedTime:0,pseudoElement:0}),$N=Tn(qN),WN=Ge({},ra,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),HN=Tn(WN),KN=Ge({},ra,{data:0}),Tb=Tn(KN),GN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=JN[t])?!!e[t]:!1}function jg(){return XN}var YN=Ge({},Zl,{key:function(t){if(t.key){var e=GN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?QN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jg,charCode:function(t){return t.type==="keypress"?yc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ZN=Tn(YN),eI=Ge({},$h,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nb=Tn(eI),tI=Ge({},Zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jg}),nI=Tn(tI),rI=Ge({},ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),iI=Tn(rI),sI=Ge({},$h,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oI=Tn(sI),aI=[9,13,27,32],Ag=$r&&"CompositionEvent"in window,Ka=null;$r&&"documentMode"in document&&(Ka=document.documentMode);var lI=$r&&"TextEvent"in window&&!Ka,I1=$r&&(!Ag||Ka&&8<Ka&&11>=Ka),Ib=String.fromCharCode(32),jb=!1;function j1(t,e){switch(t){case"keyup":return aI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var so=!1;function uI(t,e){switch(t){case"compositionend":return A1(e);case"keypress":return e.which!==32?null:(jb=!0,Ib);case"textInput":return t=e.data,t===Ib&&jb?null:t;default:return null}}function cI(t,e){if(so)return t==="compositionend"||!Ag&&j1(t,e)?(t=N1(),gc=Ng=gi=null,so=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return I1&&e.locale!=="ko"?null:e.data;default:return null}}var hI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ab(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hI[t.type]:e==="textarea"}function O1(t,e,n,r){u1(r),e=zc(e,"onChange"),0<e.length&&(n=new Ig("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ga=null,gl=null;function dI(t){q1(t,0)}function Wh(t){var e=lo(t);if(n1(e))return t}function fI(t,e){if(t==="change")return e}var P1=!1;if($r){var vf;if($r){var bf="oninput"in document;if(!bf){var Ob=document.createElement("div");Ob.setAttribute("oninput","return;"),bf=typeof Ob.oninput=="function"}vf=bf}else vf=!1;P1=vf&&(!document.documentMode||9<document.documentMode)}function Pb(){Ga&&(Ga.detachEvent("onpropertychange",D1),gl=Ga=null)}function D1(t){if(t.propertyName==="value"&&Wh(gl)){var e=[];O1(e,gl,t,xg(t)),f1(dI,e)}}function pI(t,e,n){t==="focusin"?(Pb(),Ga=e,gl=n,Ga.attachEvent("onpropertychange",D1)):t==="focusout"&&Pb()}function mI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wh(gl)}function gI(t,e){if(t==="click")return Wh(e)}function yI(t,e){if(t==="input"||t==="change")return Wh(e)}function vI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tr=typeof Object.is=="function"?Object.is:vI;function yl(t,e){if(tr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!xp.call(e,i)||!tr(t[i],e[i]))return!1}return!0}function Db(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rb(t,e){var n=Db(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Db(n)}}function R1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?R1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function L1(){for(var t=window,e=Dc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Dc(t.document)}return e}function Og(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function bI(t){var e=L1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&R1(n.ownerDocument.documentElement,n)){if(r!==null&&Og(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Rb(n,s);var o=Rb(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wI=$r&&"documentMode"in document&&11>=document.documentMode,oo=null,Bp=null,Qa=null,qp=!1;function Lb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qp||oo==null||oo!==Dc(r)||(r=oo,"selectionStart"in r&&Og(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qa&&yl(Qa,r)||(Qa=r,r=zc(Bp,"onSelect"),0<r.length&&(e=new Ig("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=oo)))}function $u(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ao={animationend:$u("Animation","AnimationEnd"),animationiteration:$u("Animation","AnimationIteration"),animationstart:$u("Animation","AnimationStart"),transitionend:$u("Transition","TransitionEnd")},wf={},M1={};$r&&(M1=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function Hh(t){if(wf[t])return wf[t];if(!ao[t])return t;var e=ao[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in M1)return wf[t]=e[n];return t}var U1=Hh("animationend"),F1=Hh("animationiteration"),V1=Hh("animationstart"),z1=Hh("transitionend"),B1=new Map,Mb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wi(t,e){B1.set(t,e),Ms(e,[t])}for(var _f=0;_f<Mb.length;_f++){var Sf=Mb[_f],_I=Sf.toLowerCase(),SI=Sf[0].toUpperCase()+Sf.slice(1);Wi(_I,"on"+SI)}Wi(U1,"onAnimationEnd");Wi(F1,"onAnimationIteration");Wi(V1,"onAnimationStart");Wi("dblclick","onDoubleClick");Wi("focusin","onFocus");Wi("focusout","onBlur");Wi(z1,"onTransitionEnd");Lo("onMouseEnter",["mouseout","mouseover"]);Lo("onMouseLeave",["mouseout","mouseover"]);Lo("onPointerEnter",["pointerout","pointerover"]);Lo("onPointerLeave",["pointerout","pointerover"]);Ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ms("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ra));function Ub(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_N(r,e,void 0,t),t.currentTarget=null}function q1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Ub(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Ub(i,a,u),s=l}}}if(Lc)throw t=Up,Lc=!1,Up=null,t}function Le(t,e){var n=e[Gp];n===void 0&&(n=e[Gp]=new Set);var r=t+"__bubble";n.has(r)||($1(e,t,2,!1),n.add(r))}function xf(t,e,n){var r=0;e&&(r|=4),$1(n,t,r,e)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function vl(t){if(!t[Wu]){t[Wu]=!0,X_.forEach(function(n){n!=="selectionchange"&&(xI.has(n)||xf(n,!1,t),xf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wu]||(e[Wu]=!0,xf("selectionchange",!1,e))}}function $1(t,e,n,r){switch(T1(e)){case 1:var i=MN;break;case 4:i=UN;break;default:i=Tg}n=i.bind(null,e,n,t),i=void 0,!Mp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Cf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=os(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}f1(function(){var u=s,h=xg(n),d=[];e:{var f=B1.get(t);if(f!==void 0){var g=Ig,v=t;switch(t){case"keypress":if(yc(n)===0)break e;case"keydown":case"keyup":g=ZN;break;case"focusin":v="focus",g=yf;break;case"focusout":v="blur",g=yf;break;case"beforeblur":case"afterblur":g=yf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Eb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=zN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=nI;break;case U1:case F1:case V1:g=$N;break;case z1:g=iI;break;case"scroll":g=FN;break;case"wheel":g=oI;break;case"copy":case"cut":case"paste":g=HN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Nb}var b=(e&4)!==0,x=!b&&t==="scroll",m=b?f!==null?f+"Capture":null:f;b=[];for(var p=u,y;p!==null;){y=p;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,m!==null&&(w=dl(p,m),w!=null&&b.push(bl(p,w,y)))),x)break;p=p.return}0<b.length&&(f=new g(f,v,null,n,h),d.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==Rp&&(v=n.relatedTarget||n.fromElement)&&(os(v)||v[Wr]))break e;if((g||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?os(v):null,v!==null&&(x=Us(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(b=Eb,w="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(b=Nb,w="onPointerLeave",m="onPointerEnter",p="pointer"),x=g==null?f:lo(g),y=v==null?f:lo(v),f=new b(w,p+"leave",g,n,h),f.target=x,f.relatedTarget=y,w=null,os(h)===u&&(b=new b(m,p+"enter",v,n,h),b.target=y,b.relatedTarget=x,w=b),x=w,g&&v)t:{for(b=g,m=v,p=0,y=b;y;y=Qs(y))p++;for(y=0,w=m;w;w=Qs(w))y++;for(;0<p-y;)b=Qs(b),p--;for(;0<y-p;)m=Qs(m),y--;for(;p--;){if(b===m||m!==null&&b===m.alternate)break t;b=Qs(b),m=Qs(m)}b=null}else b=null;g!==null&&Fb(d,f,g,b,!1),v!==null&&x!==null&&Fb(d,x,v,b,!0)}}e:{if(f=u?lo(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var k=fI;else if(Ab(f))if(P1)k=yI;else{k=mI;var I=pI}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=gI);if(k&&(k=k(t,u))){O1(d,k,n,h);break e}I&&I(t,f,u),t==="focusout"&&(I=f._wrapperState)&&I.controlled&&f.type==="number"&&jp(f,"number",f.value)}switch(I=u?lo(u):window,t){case"focusin":(Ab(I)||I.contentEditable==="true")&&(oo=I,Bp=u,Qa=null);break;case"focusout":Qa=Bp=oo=null;break;case"mousedown":qp=!0;break;case"contextmenu":case"mouseup":case"dragend":qp=!1,Lb(d,n,h);break;case"selectionchange":if(wI)break;case"keydown":case"keyup":Lb(d,n,h)}var A;if(Ag)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else so?j1(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(I1&&n.locale!=="ko"&&(so||O!=="onCompositionStart"?O==="onCompositionEnd"&&so&&(A=N1()):(gi=h,Ng="value"in gi?gi.value:gi.textContent,so=!0)),I=zc(u,O),0<I.length&&(O=new Tb(O,t,null,n,h),d.push({event:O,listeners:I}),A?O.data=A:(A=A1(n),A!==null&&(O.data=A)))),(A=lI?uI(t,n):cI(t,n))&&(u=zc(u,"onBeforeInput"),0<u.length&&(h=new Tb("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=A))}q1(d,e)})}function bl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=dl(t,n),s!=null&&r.unshift(bl(t,s,i)),s=dl(t,e),s!=null&&r.push(bl(t,s,i))),t=t.return}return r}function Qs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Fb(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=dl(n,s),l!=null&&o.unshift(bl(n,l,a))):i||(l=dl(n,s),l!=null&&o.push(bl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var CI=/\r\n?/g,kI=/\u0000|\uFFFD/g;function Vb(t){return(typeof t=="string"?t:""+t).replace(CI,`
`).replace(kI,"")}function Hu(t,e,n){if(e=Vb(e),Vb(t)!==e&&n)throw Error(B(425))}function Bc(){}var $p=null,Wp=null;function Hp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kp=typeof setTimeout=="function"?setTimeout:void 0,EI=typeof clearTimeout=="function"?clearTimeout:void 0,zb=typeof Promise=="function"?Promise:void 0,TI=typeof queueMicrotask=="function"?queueMicrotask:typeof zb<"u"?function(t){return zb.resolve(null).then(t).catch(NI)}:Kp;function NI(t){setTimeout(function(){throw t})}function kf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ml(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ml(e)}function ki(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Bb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ia=Math.random().toString(36).slice(2),fr="__reactFiber$"+ia,wl="__reactProps$"+ia,Wr="__reactContainer$"+ia,Gp="__reactEvents$"+ia,II="__reactListeners$"+ia,jI="__reactHandles$"+ia;function os(t){var e=t[fr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wr]||n[fr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Bb(t);t!==null;){if(n=t[fr])return n;t=Bb(t)}return e}t=n,n=t.parentNode}return null}function eu(t){return t=t[fr]||t[Wr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function lo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Kh(t){return t[wl]||null}var Qp=[],uo=-1;function Hi(t){return{current:t}}function Fe(t){0>uo||(t.current=Qp[uo],Qp[uo]=null,uo--)}function De(t,e){uo++,Qp[uo]=t.current,t.current=e}var Fi={},Qt=Hi(Fi),hn=Hi(!1),_s=Fi;function Mo(t,e){var n=t.type.contextTypes;if(!n)return Fi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function dn(t){return t=t.childContextTypes,t!=null}function qc(){Fe(hn),Fe(Qt)}function qb(t,e,n){if(Qt.current!==Fi)throw Error(B(168));De(Qt,e),De(hn,n)}function W1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,pN(t)||"Unknown",i));return Ge({},n,r)}function $c(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fi,_s=Qt.current,De(Qt,t),De(hn,hn.current),!0}function $b(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=W1(t,e,_s),r.__reactInternalMemoizedMergedChildContext=t,Fe(hn),Fe(Qt),De(Qt,t)):Fe(hn),De(hn,n)}var Rr=null,Gh=!1,Ef=!1;function H1(t){Rr===null?Rr=[t]:Rr.push(t)}function AI(t){Gh=!0,H1(t)}function Ki(){if(!Ef&&Rr!==null){Ef=!0;var t=0,e=je;try{var n=Rr;for(je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Rr=null,Gh=!1}catch(i){throw Rr!==null&&(Rr=Rr.slice(t+1)),y1(Cg,Ki),i}finally{je=e,Ef=!1}}return null}var co=[],ho=0,Wc=null,Hc=0,On=[],Pn=0,Ss=null,Lr=1,Mr="";function ts(t,e){co[ho++]=Hc,co[ho++]=Wc,Wc=t,Hc=e}function K1(t,e,n){On[Pn++]=Lr,On[Pn++]=Mr,On[Pn++]=Ss,Ss=t;var r=Lr;t=Mr;var i=32-Yn(r)-1;r&=~(1<<i),n+=1;var s=32-Yn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Lr=1<<32-Yn(e)+i|n<<i|r,Mr=s+t}else Lr=1<<s|n<<i|r,Mr=t}function Pg(t){t.return!==null&&(ts(t,1),K1(t,1,0))}function Dg(t){for(;t===Wc;)Wc=co[--ho],co[ho]=null,Hc=co[--ho],co[ho]=null;for(;t===Ss;)Ss=On[--Pn],On[Pn]=null,Mr=On[--Pn],On[Pn]=null,Lr=On[--Pn],On[Pn]=null}var Sn=null,vn=null,$e=!1,Gn=null;function G1(t,e){var n=Rn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Wb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Sn=t,vn=ki(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Sn=t,vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ss!==null?{id:Lr,overflow:Mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Rn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Sn=t,vn=null,!0):!1;default:return!1}}function Jp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xp(t){if($e){var e=vn;if(e){var n=e;if(!Wb(t,e)){if(Jp(t))throw Error(B(418));e=ki(n.nextSibling);var r=Sn;e&&Wb(t,e)?G1(r,n):(t.flags=t.flags&-4097|2,$e=!1,Sn=t)}}else{if(Jp(t))throw Error(B(418));t.flags=t.flags&-4097|2,$e=!1,Sn=t}}}function Hb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Sn=t}function Ku(t){if(t!==Sn)return!1;if(!$e)return Hb(t),$e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Hp(t.type,t.memoizedProps)),e&&(e=vn)){if(Jp(t))throw Q1(),Error(B(418));for(;e;)G1(t,e),e=ki(e.nextSibling)}if(Hb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vn=ki(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vn=null}}else vn=Sn?ki(t.stateNode.nextSibling):null;return!0}function Q1(){for(var t=vn;t;)t=ki(t.nextSibling)}function Uo(){vn=Sn=null,$e=!1}function Rg(t){Gn===null?Gn=[t]:Gn.push(t)}var OI=ei.ReactCurrentBatchConfig;function Wn(t,e){if(t&&t.defaultProps){e=Ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Kc=Hi(null),Gc=null,fo=null,Lg=null;function Mg(){Lg=fo=Gc=null}function Ug(t){var e=Kc.current;Fe(Kc),t._currentValue=e}function Yp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xo(t,e){Gc=t,Lg=fo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(cn=!0),t.firstContext=null)}function Un(t){var e=t._currentValue;if(Lg!==t)if(t={context:t,memoizedValue:e,next:null},fo===null){if(Gc===null)throw Error(B(308));fo=t,Gc.dependencies={lanes:0,firstContext:t}}else fo=fo.next=t;return e}var as=null;function Fg(t){as===null?as=[t]:as.push(t)}function J1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Fg(e)):(n.next=i.next,i.next=n),e.interleaved=n,Hr(t,r)}function Hr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var li=!1;function Vg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ei(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ke&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Hr(t,n)}return i=r.interleaved,i===null?(e.next=e,Fg(r)):(e.next=i.next,i.next=e),r.interleaved=e,Hr(t,n)}function vc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kg(t,n)}}function Kb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qc(t,e,n,r){var i=t.updateQueue;li=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=u=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,b=a;switch(f=e,g=n,b.tag){case 1:if(v=b.payload,typeof v=="function"){d=v.call(g,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,f=typeof v=="function"?v.call(g,d,f):v,f==null)break e;d=Ge({},d,f);break e;case 2:li=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=g,l=d):h=h.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Cs|=o,t.lanes=o,t.memoizedState=d}}function Gb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var Y1=new J_.Component().refs;function Zp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qh={isMounted:function(t){return(t=t._reactInternals)?Us(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nn(),i=Ni(t),s=zr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ei(t,s,i),e!==null&&(Zn(e,t,i,r),vc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nn(),i=Ni(t),s=zr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ei(t,s,i),e!==null&&(Zn(e,t,i,r),vc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nn(),r=Ni(t),i=zr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ei(t,i,r),e!==null&&(Zn(e,t,r,n),vc(e,t,r))}};function Qb(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!yl(n,r)||!yl(i,s):!0}function Z1(t,e,n){var r=!1,i=Fi,s=e.contextType;return typeof s=="object"&&s!==null?s=Un(s):(i=dn(e)?_s:Qt.current,r=e.contextTypes,s=(r=r!=null)?Mo(t,i):Fi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Jb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qh.enqueueReplaceState(e,e.state,null)}function em(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Y1,Vg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Un(s):(s=dn(e)?_s:Qt.current,i.context=Mo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Zp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Qh.enqueueReplaceState(i,i.state,null),Qc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ca(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===Y1&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Gu(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Xb(t){var e=t._init;return e(t._payload)}function eS(t){function e(m,p){if(t){var y=m.deletions;y===null?(m.deletions=[p],m.flags|=16):y.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=Ii(m,p),m.index=0,m.sibling=null,m}function s(m,p,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<p?(m.flags|=2,p):y):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,y,w){return p===null||p.tag!==6?(p=Pf(y,m.mode,w),p.return=m,p):(p=i(p,y),p.return=m,p)}function l(m,p,y,w){var k=y.type;return k===io?h(m,p,y.props.children,w,y.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ai&&Xb(k)===p.type)?(w=i(p,y.props),w.ref=Ca(m,p,y),w.return=m,w):(w=Cc(y.type,y.key,y.props,null,m.mode,w),w.ref=Ca(m,p,y),w.return=m,w)}function u(m,p,y,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Df(y,m.mode,w),p.return=m,p):(p=i(p,y.children||[]),p.return=m,p)}function h(m,p,y,w,k){return p===null||p.tag!==7?(p=gs(y,m.mode,w,k),p.return=m,p):(p=i(p,y),p.return=m,p)}function d(m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Pf(""+p,m.mode,y),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Mu:return y=Cc(p.type,p.key,p.props,null,m.mode,y),y.ref=Ca(m,null,p),y.return=m,y;case ro:return p=Df(p,m.mode,y),p.return=m,p;case ai:var w=p._init;return d(m,w(p._payload),y)}if(Pa(p)||ba(p))return p=gs(p,m.mode,y,null),p.return=m,p;Gu(m,p)}return null}function f(m,p,y,w){var k=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:a(m,p,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Mu:return y.key===k?l(m,p,y,w):null;case ro:return y.key===k?u(m,p,y,w):null;case ai:return k=y._init,f(m,p,k(y._payload),w)}if(Pa(y)||ba(y))return k!==null?null:h(m,p,y,w,null);Gu(m,y)}return null}function g(m,p,y,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(y)||null,a(p,m,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Mu:return m=m.get(w.key===null?y:w.key)||null,l(p,m,w,k);case ro:return m=m.get(w.key===null?y:w.key)||null,u(p,m,w,k);case ai:var I=w._init;return g(m,p,y,I(w._payload),k)}if(Pa(w)||ba(w))return m=m.get(y)||null,h(p,m,w,k,null);Gu(p,w)}return null}function v(m,p,y,w){for(var k=null,I=null,A=p,O=p=0,z=null;A!==null&&O<y.length;O++){A.index>O?(z=A,A=null):z=A.sibling;var W=f(m,A,y[O],w);if(W===null){A===null&&(A=z);break}t&&A&&W.alternate===null&&e(m,A),p=s(W,p,O),I===null?k=W:I.sibling=W,I=W,A=z}if(O===y.length)return n(m,A),$e&&ts(m,O),k;if(A===null){for(;O<y.length;O++)A=d(m,y[O],w),A!==null&&(p=s(A,p,O),I===null?k=A:I.sibling=A,I=A);return $e&&ts(m,O),k}for(A=r(m,A);O<y.length;O++)z=g(A,m,O,y[O],w),z!==null&&(t&&z.alternate!==null&&A.delete(z.key===null?O:z.key),p=s(z,p,O),I===null?k=z:I.sibling=z,I=z);return t&&A.forEach(function(me){return e(m,me)}),$e&&ts(m,O),k}function b(m,p,y,w){var k=ba(y);if(typeof k!="function")throw Error(B(150));if(y=k.call(y),y==null)throw Error(B(151));for(var I=k=null,A=p,O=p=0,z=null,W=y.next();A!==null&&!W.done;O++,W=y.next()){A.index>O?(z=A,A=null):z=A.sibling;var me=f(m,A,W.value,w);if(me===null){A===null&&(A=z);break}t&&A&&me.alternate===null&&e(m,A),p=s(me,p,O),I===null?k=me:I.sibling=me,I=me,A=z}if(W.done)return n(m,A),$e&&ts(m,O),k;if(A===null){for(;!W.done;O++,W=y.next())W=d(m,W.value,w),W!==null&&(p=s(W,p,O),I===null?k=W:I.sibling=W,I=W);return $e&&ts(m,O),k}for(A=r(m,A);!W.done;O++,W=y.next())W=g(A,m,O,W.value,w),W!==null&&(t&&W.alternate!==null&&A.delete(W.key===null?O:W.key),p=s(W,p,O),I===null?k=W:I.sibling=W,I=W);return t&&A.forEach(function(K){return e(m,K)}),$e&&ts(m,O),k}function x(m,p,y,w){if(typeof y=="object"&&y!==null&&y.type===io&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Mu:e:{for(var k=y.key,I=p;I!==null;){if(I.key===k){if(k=y.type,k===io){if(I.tag===7){n(m,I.sibling),p=i(I,y.props.children),p.return=m,m=p;break e}}else if(I.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ai&&Xb(k)===I.type){n(m,I.sibling),p=i(I,y.props),p.ref=Ca(m,I,y),p.return=m,m=p;break e}n(m,I);break}else e(m,I);I=I.sibling}y.type===io?(p=gs(y.props.children,m.mode,w,y.key),p.return=m,m=p):(w=Cc(y.type,y.key,y.props,null,m.mode,w),w.ref=Ca(m,p,y),w.return=m,m=w)}return o(m);case ro:e:{for(I=y.key;p!==null;){if(p.key===I)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(m,p.sibling),p=i(p,y.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=Df(y,m.mode,w),p.return=m,m=p}return o(m);case ai:return I=y._init,x(m,p,I(y._payload),w)}if(Pa(y))return v(m,p,y,w);if(ba(y))return b(m,p,y,w);Gu(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,y),p.return=m,m=p):(n(m,p),p=Pf(y,m.mode,w),p.return=m,m=p),o(m)):n(m,p)}return x}var Fo=eS(!0),tS=eS(!1),tu={},wr=Hi(tu),_l=Hi(tu),Sl=Hi(tu);function ls(t){if(t===tu)throw Error(B(174));return t}function zg(t,e){switch(De(Sl,e),De(_l,t),De(wr,tu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Op(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Op(e,t)}Fe(wr),De(wr,e)}function Vo(){Fe(wr),Fe(_l),Fe(Sl)}function nS(t){ls(Sl.current);var e=ls(wr.current),n=Op(e,t.type);e!==n&&(De(_l,t),De(wr,n))}function Bg(t){_l.current===t&&(Fe(wr),Fe(_l))}var We=Hi(0);function Jc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Tf=[];function qg(){for(var t=0;t<Tf.length;t++)Tf[t]._workInProgressVersionPrimary=null;Tf.length=0}var bc=ei.ReactCurrentDispatcher,Nf=ei.ReactCurrentBatchConfig,xs=0,Ke=null,dt=null,bt=null,Xc=!1,Ja=!1,xl=0,PI=0;function Lt(){throw Error(B(321))}function $g(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tr(t[n],e[n]))return!1;return!0}function Wg(t,e,n,r,i,s){if(xs=s,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bc.current=t===null||t.memoizedState===null?MI:UI,t=n(r,i),Ja){s=0;do{if(Ja=!1,xl=0,25<=s)throw Error(B(301));s+=1,bt=dt=null,e.updateQueue=null,bc.current=FI,t=n(r,i)}while(Ja)}if(bc.current=Yc,e=dt!==null&&dt.next!==null,xs=0,bt=dt=Ke=null,Xc=!1,e)throw Error(B(300));return t}function Hg(){var t=xl!==0;return xl=0,t}function hr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ke.memoizedState=bt=t:bt=bt.next=t,bt}function Fn(){if(dt===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var e=bt===null?Ke.memoizedState:bt.next;if(e!==null)bt=e,dt=t;else{if(t===null)throw Error(B(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},bt===null?Ke.memoizedState=bt=t:bt=bt.next=t}return bt}function Cl(t,e){return typeof e=="function"?e(t):e}function If(t){var e=Fn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=dt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((xs&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ke.lanes|=h,Cs|=h}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,tr(r,e.memoizedState)||(cn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ke.lanes|=s,Cs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function jf(t){var e=Fn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);tr(s,e.memoizedState)||(cn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function rS(){}function iS(t,e){var n=Ke,r=Fn(),i=e(),s=!tr(r.memoizedState,i);if(s&&(r.memoizedState=i,cn=!0),r=r.queue,Kg(aS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,kl(9,oS.bind(null,n,r,i,e),void 0,null),wt===null)throw Error(B(349));xs&30||sS(n,e,i)}return i}function sS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function oS(t,e,n,r){e.value=n,e.getSnapshot=r,lS(e)&&uS(t)}function aS(t,e,n){return n(function(){lS(e)&&uS(t)})}function lS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tr(t,n)}catch{return!0}}function uS(t){var e=Hr(t,1);e!==null&&Zn(e,t,1,-1)}function Yb(t){var e=hr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cl,lastRenderedState:t},e.queue=t,t=t.dispatch=LI.bind(null,Ke,t),[e.memoizedState,t]}function kl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function cS(){return Fn().memoizedState}function wc(t,e,n,r){var i=hr();Ke.flags|=t,i.memoizedState=kl(1|e,n,void 0,r===void 0?null:r)}function Jh(t,e,n,r){var i=Fn();r=r===void 0?null:r;var s=void 0;if(dt!==null){var o=dt.memoizedState;if(s=o.destroy,r!==null&&$g(r,o.deps)){i.memoizedState=kl(e,n,s,r);return}}Ke.flags|=t,i.memoizedState=kl(1|e,n,s,r)}function Zb(t,e){return wc(8390656,8,t,e)}function Kg(t,e){return Jh(2048,8,t,e)}function hS(t,e){return Jh(4,2,t,e)}function dS(t,e){return Jh(4,4,t,e)}function fS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pS(t,e,n){return n=n!=null?n.concat([t]):null,Jh(4,4,fS.bind(null,e,t),n)}function Gg(){}function mS(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$g(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gS(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$g(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function yS(t,e,n){return xs&21?(tr(n,e)||(n=w1(),Ke.lanes|=n,Cs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,cn=!0),t.memoizedState=n)}function DI(t,e){var n=je;je=n!==0&&4>n?n:4,t(!0);var r=Nf.transition;Nf.transition={};try{t(!1),e()}finally{je=n,Nf.transition=r}}function vS(){return Fn().memoizedState}function RI(t,e,n){var r=Ni(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bS(t))wS(e,n);else if(n=J1(t,e,n,r),n!==null){var i=nn();Zn(n,t,r,i),_S(n,e,r)}}function LI(t,e,n){var r=Ni(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bS(t))wS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,tr(a,o)){var l=e.interleaved;l===null?(i.next=i,Fg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=J1(t,e,i,r),n!==null&&(i=nn(),Zn(n,t,r,i),_S(n,e,r))}}function bS(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function wS(t,e){Ja=Xc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _S(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kg(t,n)}}var Yc={readContext:Un,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},MI={readContext:Un,useCallback:function(t,e){return hr().memoizedState=[t,e===void 0?null:e],t},useContext:Un,useEffect:Zb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wc(4194308,4,fS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wc(4194308,4,t,e)},useInsertionEffect:function(t,e){return wc(4,2,t,e)},useMemo:function(t,e){var n=hr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=hr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=RI.bind(null,Ke,t),[r.memoizedState,t]},useRef:function(t){var e=hr();return t={current:t},e.memoizedState=t},useState:Yb,useDebugValue:Gg,useDeferredValue:function(t){return hr().memoizedState=t},useTransition:function(){var t=Yb(!1),e=t[0];return t=DI.bind(null,t[1]),hr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ke,i=hr();if($e){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),wt===null)throw Error(B(349));xs&30||sS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Zb(aS.bind(null,r,s,t),[t]),r.flags|=2048,kl(9,oS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=hr(),e=wt.identifierPrefix;if($e){var n=Mr,r=Lr;n=(r&~(1<<32-Yn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=PI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},UI={readContext:Un,useCallback:mS,useContext:Un,useEffect:Kg,useImperativeHandle:pS,useInsertionEffect:hS,useLayoutEffect:dS,useMemo:gS,useReducer:If,useRef:cS,useState:function(){return If(Cl)},useDebugValue:Gg,useDeferredValue:function(t){var e=Fn();return yS(e,dt.memoizedState,t)},useTransition:function(){var t=If(Cl)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:rS,useSyncExternalStore:iS,useId:vS,unstable_isNewReconciler:!1},FI={readContext:Un,useCallback:mS,useContext:Un,useEffect:Kg,useImperativeHandle:pS,useInsertionEffect:hS,useLayoutEffect:dS,useMemo:gS,useReducer:jf,useRef:cS,useState:function(){return jf(Cl)},useDebugValue:Gg,useDeferredValue:function(t){var e=Fn();return dt===null?e.memoizedState=t:yS(e,dt.memoizedState,t)},useTransition:function(){var t=jf(Cl)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:rS,useSyncExternalStore:iS,useId:vS,unstable_isNewReconciler:!1};function zo(t,e){try{var n="",r=e;do n+=fN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Af(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function tm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var VI=typeof WeakMap=="function"?WeakMap:Map;function SS(t,e,n){n=zr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){eh||(eh=!0,cm=r),tm(t,e)},n}function xS(t,e,n){n=zr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){tm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){tm(t,e),typeof r!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function e0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new VI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ej.bind(null,t,e,n),e.then(t,t))}function t0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function n0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zr(-1,1),e.tag=2,Ei(n,e,1))),n.lanes|=1),t)}var zI=ei.ReactCurrentOwner,cn=!1;function Zt(t,e,n,r){e.child=t===null?tS(e,null,n,r):Fo(e,t.child,n,r)}function r0(t,e,n,r,i){n=n.render;var s=e.ref;return xo(e,i),r=Wg(t,e,n,r,s,i),n=Hg(),t!==null&&!cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kr(t,e,i)):($e&&n&&Pg(e),e.flags|=1,Zt(t,e,r,i),e.child)}function i0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ny(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,CS(t,e,s,r,i)):(t=Cc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:yl,n(o,r)&&t.ref===e.ref)return Kr(t,e,i)}return e.flags|=1,t=Ii(s,r),t.ref=e.ref,t.return=e,e.child=t}function CS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(yl(s,r)&&t.ref===e.ref)if(cn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(cn=!0);else return e.lanes=t.lanes,Kr(t,e,i)}return nm(t,e,n,r,i)}function kS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(mo,gn),gn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(mo,gn),gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,De(mo,gn),gn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,De(mo,gn),gn|=r;return Zt(t,e,i,n),e.child}function ES(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function nm(t,e,n,r,i){var s=dn(n)?_s:Qt.current;return s=Mo(e,s),xo(e,i),n=Wg(t,e,n,r,s,i),r=Hg(),t!==null&&!cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kr(t,e,i)):($e&&r&&Pg(e),e.flags|=1,Zt(t,e,n,i),e.child)}function s0(t,e,n,r,i){if(dn(n)){var s=!0;$c(e)}else s=!1;if(xo(e,i),e.stateNode===null)_c(t,e),Z1(e,n,r),em(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Un(u):(u=dn(n)?_s:Qt.current,u=Mo(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Jb(e,o,r,u),li=!1;var f=e.memoizedState;o.state=f,Qc(e,r,o,i),l=e.memoizedState,a!==r||f!==l||hn.current||li?(typeof h=="function"&&(Zp(e,n,h,r),l=e.memoizedState),(a=li||Qb(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,X1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Wn(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Un(l):(l=dn(n)?_s:Qt.current,l=Mo(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Jb(e,o,r,l),li=!1,f=e.memoizedState,o.state=f,Qc(e,r,o,i);var v=e.memoizedState;a!==d||f!==v||hn.current||li?(typeof g=="function"&&(Zp(e,n,g,r),v=e.memoizedState),(u=li||Qb(e,n,u,r,f,v,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return rm(t,e,n,r,s,i)}function rm(t,e,n,r,i,s){ES(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&$b(e,n,!1),Kr(t,e,s);r=e.stateNode,zI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Fo(e,t.child,null,s),e.child=Fo(e,null,a,s)):Zt(t,e,a,s),e.memoizedState=r.state,i&&$b(e,n,!0),e.child}function TS(t){var e=t.stateNode;e.pendingContext?qb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&qb(t,e.context,!1),zg(t,e.containerInfo)}function o0(t,e,n,r,i){return Uo(),Rg(i),e.flags|=256,Zt(t,e,n,r),e.child}var im={dehydrated:null,treeContext:null,retryLane:0};function sm(t){return{baseLanes:t,cachePool:null,transitions:null}}function NS(t,e,n){var r=e.pendingProps,i=We.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),De(We,i&1),t===null)return Xp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Zh(o,r,0,null),t=gs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=sm(n),e.memoizedState=im,t):Qg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return BI(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ii(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ii(a,s):(s=gs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?sm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=im,r}return s=t.child,t=s.sibling,r=Ii(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Qg(t,e){return e=Zh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qu(t,e,n,r){return r!==null&&Rg(r),Fo(e,t.child,null,n),t=Qg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function BI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Af(Error(B(422))),Qu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Zh({mode:"visible",children:r.children},i,0,null),s=gs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Fo(e,t.child,null,o),e.child.memoizedState=sm(o),e.memoizedState=im,s);if(!(e.mode&1))return Qu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=Af(s,r,void 0),Qu(t,e,o,r)}if(a=(o&t.childLanes)!==0,cn||a){if(r=wt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Hr(t,i),Zn(r,t,i,-1))}return ty(),r=Af(Error(B(421))),Qu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=tj.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,vn=ki(i.nextSibling),Sn=e,$e=!0,Gn=null,t!==null&&(On[Pn++]=Lr,On[Pn++]=Mr,On[Pn++]=Ss,Lr=t.id,Mr=t.overflow,Ss=e),e=Qg(e,r.children),e.flags|=4096,e)}function a0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Yp(t.return,e,n)}function Of(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function IS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Zt(t,e,r.children,n),r=We.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&a0(t,n,e);else if(t.tag===19)a0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(De(We,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Jc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Of(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Jc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Of(e,!0,n,null,s);break;case"together":Of(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _c(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Kr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Cs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Ii(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ii(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function qI(t,e,n){switch(e.tag){case 3:TS(e),Uo();break;case 5:nS(e);break;case 1:dn(e.type)&&$c(e);break;case 4:zg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;De(Kc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(De(We,We.current&1),e.flags|=128,null):n&e.child.childLanes?NS(t,e,n):(De(We,We.current&1),t=Kr(t,e,n),t!==null?t.sibling:null);De(We,We.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return IS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(We,We.current),r)break;return null;case 22:case 23:return e.lanes=0,kS(t,e,n)}return Kr(t,e,n)}var jS,om,AS,OS;jS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};om=function(){};AS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ls(wr.current);var s=null;switch(n){case"input":i=Np(t,i),r=Np(t,r),s=[];break;case"select":i=Ge({},i,{value:void 0}),r=Ge({},r,{value:void 0}),s=[];break;case"textarea":i=Ap(t,i),r=Ap(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Bc)}Pp(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(cl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(cl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Le("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};OS=function(t,e,n,r){n!==r&&(e.flags|=4)};function ka(t,e){if(!$e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $I(t,e,n){var r=e.pendingProps;switch(Dg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(e),null;case 1:return dn(e.type)&&qc(),Mt(e),null;case 3:return r=e.stateNode,Vo(),Fe(hn),Fe(Qt),qg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ku(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gn!==null&&(fm(Gn),Gn=null))),om(t,e),Mt(e),null;case 5:Bg(e);var i=ls(Sl.current);if(n=e.type,t!==null&&e.stateNode!=null)AS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return Mt(e),null}if(t=ls(wr.current),Ku(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[fr]=e,r[wl]=s,t=(e.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(i=0;i<Ra.length;i++)Le(Ra[i],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":gb(r,s),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Le("invalid",r);break;case"textarea":vb(r,s),Le("invalid",r)}Pp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Hu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Hu(r.textContent,a,t),i=["children",""+a]):cl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Le("scroll",r)}switch(n){case"input":Uu(r),yb(r,s,!0);break;case"textarea":Uu(r),bb(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Bc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=s1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[fr]=e,t[wl]=r,jS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Dp(n,r),n){case"dialog":Le("cancel",t),Le("close",t),i=r;break;case"iframe":case"object":case"embed":Le("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ra.length;i++)Le(Ra[i],t);i=r;break;case"source":Le("error",t),i=r;break;case"img":case"image":case"link":Le("error",t),Le("load",t),i=r;break;case"details":Le("toggle",t),i=r;break;case"input":gb(t,r),i=Np(t,r),Le("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ge({},r,{value:void 0}),Le("invalid",t);break;case"textarea":vb(t,r),i=Ap(t,r),Le("invalid",t);break;default:i=r}Pp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?l1(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&o1(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&hl(t,l):typeof l=="number"&&hl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(cl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Le("scroll",t):l!=null&&bg(t,s,l,o))}switch(n){case"input":Uu(t),yb(t,r,!1);break;case"textarea":Uu(t),bb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ui(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?bo(t,!!r.multiple,s,!1):r.defaultValue!=null&&bo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Bc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mt(e),null;case 6:if(t&&e.stateNode!=null)OS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=ls(Sl.current),ls(wr.current),Ku(e)){if(r=e.stateNode,n=e.memoizedProps,r[fr]=e,(s=r.nodeValue!==n)&&(t=Sn,t!==null))switch(t.tag){case 3:Hu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Hu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fr]=e,e.stateNode=r}return Mt(e),null;case 13:if(Fe(We),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($e&&vn!==null&&e.mode&1&&!(e.flags&128))Q1(),Uo(),e.flags|=98560,s=!1;else if(s=Ku(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[fr]=e}else Uo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mt(e),s=!1}else Gn!==null&&(fm(Gn),Gn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||We.current&1?pt===0&&(pt=3):ty())),e.updateQueue!==null&&(e.flags|=4),Mt(e),null);case 4:return Vo(),om(t,e),t===null&&vl(e.stateNode.containerInfo),Mt(e),null;case 10:return Ug(e.type._context),Mt(e),null;case 17:return dn(e.type)&&qc(),Mt(e),null;case 19:if(Fe(We),s=e.memoizedState,s===null)return Mt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ka(s,!1);else{if(pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Jc(t),o!==null){for(e.flags|=128,ka(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De(We,We.current&1|2),e.child}t=t.sibling}s.tail!==null&&rt()>Bo&&(e.flags|=128,r=!0,ka(s,!1),e.lanes=4194304)}else{if(!r)if(t=Jc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ka(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!$e)return Mt(e),null}else 2*rt()-s.renderingStartTime>Bo&&n!==1073741824&&(e.flags|=128,r=!0,ka(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=rt(),e.sibling=null,n=We.current,De(We,r?n&1|2:n&1),e):(Mt(e),null);case 22:case 23:return ey(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gn&1073741824&&(Mt(e),e.subtreeFlags&6&&(e.flags|=8192)):Mt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function WI(t,e){switch(Dg(e),e.tag){case 1:return dn(e.type)&&qc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vo(),Fe(hn),Fe(Qt),qg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Bg(e),null;case 13:if(Fe(We),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Uo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe(We),null;case 4:return Vo(),null;case 10:return Ug(e.type._context),null;case 22:case 23:return ey(),null;case 24:return null;default:return null}}var Ju=!1,$t=!1,HI=typeof WeakSet=="function"?WeakSet:Set,X=null;function po(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xe(t,e,r)}else n.current=null}function PS(t,e,n){try{n()}catch(r){Xe(t,e,r)}}var l0=!1;function KI(t,e){if($p=Fc,t=L1(),Og(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,d=t,f=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++h===r&&(l=o),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wp={focusedElem:t,selectionRange:n},Fc=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,x=v.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?b:Wn(e.type,b),x);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(w){Xe(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return v=l0,l0=!1,v}function Xa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&PS(e,n,s)}i=i.next}while(i!==r)}}function Xh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function am(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function DS(t){var e=t.alternate;e!==null&&(t.alternate=null,DS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fr],delete e[wl],delete e[Gp],delete e[II],delete e[jI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function RS(t){return t.tag===5||t.tag===3||t.tag===4}function u0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||RS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bc));else if(r!==4&&(t=t.child,t!==null))for(lm(t,e,n),t=t.sibling;t!==null;)lm(t,e,n),t=t.sibling}function um(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(um(t,e,n),t=t.sibling;t!==null;)um(t,e,n),t=t.sibling}var Et=null,Kn=!1;function ii(t,e,n){for(n=n.child;n!==null;)LS(t,e,n),n=n.sibling}function LS(t,e,n){if(br&&typeof br.onCommitFiberUnmount=="function")try{br.onCommitFiberUnmount(qh,n)}catch{}switch(n.tag){case 5:$t||po(n,e);case 6:var r=Et,i=Kn;Et=null,ii(t,e,n),Et=r,Kn=i,Et!==null&&(Kn?(t=Et,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Et.removeChild(n.stateNode));break;case 18:Et!==null&&(Kn?(t=Et,n=n.stateNode,t.nodeType===8?kf(t.parentNode,n):t.nodeType===1&&kf(t,n),ml(t)):kf(Et,n.stateNode));break;case 4:r=Et,i=Kn,Et=n.stateNode.containerInfo,Kn=!0,ii(t,e,n),Et=r,Kn=i;break;case 0:case 11:case 14:case 15:if(!$t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&PS(n,e,o),i=i.next}while(i!==r)}ii(t,e,n);break;case 1:if(!$t&&(po(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Xe(n,e,a)}ii(t,e,n);break;case 21:ii(t,e,n);break;case 22:n.mode&1?($t=(r=$t)||n.memoizedState!==null,ii(t,e,n),$t=r):ii(t,e,n);break;default:ii(t,e,n)}}function c0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new HI),e.forEach(function(r){var i=nj.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Et=a.stateNode,Kn=!1;break e;case 3:Et=a.stateNode.containerInfo,Kn=!0;break e;case 4:Et=a.stateNode.containerInfo,Kn=!0;break e}a=a.return}if(Et===null)throw Error(B(160));LS(s,o,i),Et=null,Kn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Xe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)MS(e,t),e=e.sibling}function MS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qn(e,t),lr(t),r&4){try{Xa(3,t,t.return),Xh(3,t)}catch(b){Xe(t,t.return,b)}try{Xa(5,t,t.return)}catch(b){Xe(t,t.return,b)}}break;case 1:qn(e,t),lr(t),r&512&&n!==null&&po(n,n.return);break;case 5:if(qn(e,t),lr(t),r&512&&n!==null&&po(n,n.return),t.flags&32){var i=t.stateNode;try{hl(i,"")}catch(b){Xe(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&r1(i,s),Dp(a,o);var u=Dp(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?l1(i,d):h==="dangerouslySetInnerHTML"?o1(i,d):h==="children"?hl(i,d):bg(i,h,d,u)}switch(a){case"input":Ip(i,s);break;case"textarea":i1(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?bo(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?bo(i,!!s.multiple,s.defaultValue,!0):bo(i,!!s.multiple,s.multiple?[]:"",!1))}i[wl]=s}catch(b){Xe(t,t.return,b)}}break;case 6:if(qn(e,t),lr(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){Xe(t,t.return,b)}}break;case 3:if(qn(e,t),lr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ml(e.containerInfo)}catch(b){Xe(t,t.return,b)}break;case 4:qn(e,t),lr(t);break;case 13:qn(e,t),lr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Yg=rt())),r&4&&c0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?($t=(u=$t)||h,qn(e,t),$t=u):qn(e,t),lr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(X=t,h=t.child;h!==null;){for(d=X=h;X!==null;){switch(f=X,g=f.child,f.tag){case 0:case 11:case 14:case 15:Xa(4,f,f.return);break;case 1:po(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){Xe(r,n,b)}}break;case 5:po(f,f.return);break;case 22:if(f.memoizedState!==null){d0(d);continue}}g!==null?(g.return=f,X=g):d0(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=a1("display",o))}catch(b){Xe(t,t.return,b)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(b){Xe(t,t.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:qn(e,t),lr(t),r&4&&c0(t);break;case 21:break;default:qn(e,t),lr(t)}}function lr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(RS(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(hl(i,""),r.flags&=-33);var s=u0(t);um(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=u0(t);lm(t,a,o);break;default:throw Error(B(161))}}catch(l){Xe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function GI(t,e,n){X=t,US(t)}function US(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ju;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||$t;a=Ju;var u=$t;if(Ju=o,($t=l)&&!u)for(X=i;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?f0(i):l!==null?(l.return=o,X=l):f0(i);for(;s!==null;)X=s,US(s),s=s.sibling;X=i,Ju=a,$t=u}h0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,X=s):h0(t)}}function h0(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$t||Xh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$t)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Wn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Gb(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Gb(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&ml(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}$t||e.flags&512&&am(e)}catch(f){Xe(e,e.return,f)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function d0(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function f0(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xh(4,e)}catch(l){Xe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Xe(e,i,l)}}var s=e.return;try{am(e)}catch(l){Xe(e,s,l)}break;case 5:var o=e.return;try{am(e)}catch(l){Xe(e,o,l)}}}catch(l){Xe(e,e.return,l)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var QI=Math.ceil,Zc=ei.ReactCurrentDispatcher,Jg=ei.ReactCurrentOwner,Ln=ei.ReactCurrentBatchConfig,ke=0,wt=null,ut=null,At=0,gn=0,mo=Hi(0),pt=0,El=null,Cs=0,Yh=0,Xg=0,Ya=null,an=null,Yg=0,Bo=1/0,Dr=null,eh=!1,cm=null,Ti=null,Xu=!1,yi=null,th=0,Za=0,hm=null,Sc=-1,xc=0;function nn(){return ke&6?rt():Sc!==-1?Sc:Sc=rt()}function Ni(t){return t.mode&1?ke&2&&At!==0?At&-At:OI.transition!==null?(xc===0&&(xc=w1()),xc):(t=je,t!==0||(t=window.event,t=t===void 0?16:T1(t.type)),t):1}function Zn(t,e,n,r){if(50<Za)throw Za=0,hm=null,Error(B(185));Yl(t,n,r),(!(ke&2)||t!==wt)&&(t===wt&&(!(ke&2)&&(Yh|=n),pt===4&&ci(t,At)),fn(t,r),n===1&&ke===0&&!(e.mode&1)&&(Bo=rt()+500,Gh&&Ki()))}function fn(t,e){var n=t.callbackNode;ON(t,e);var r=Uc(t,t===wt?At:0);if(r===0)n!==null&&Sb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Sb(n),e===1)t.tag===0?AI(p0.bind(null,t)):H1(p0.bind(null,t)),TI(function(){!(ke&6)&&Ki()}),n=null;else{switch(_1(r)){case 1:n=Cg;break;case 4:n=v1;break;case 16:n=Mc;break;case 536870912:n=b1;break;default:n=Mc}n=HS(n,FS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function FS(t,e){if(Sc=-1,xc=0,ke&6)throw Error(B(327));var n=t.callbackNode;if(Co()&&t.callbackNode!==n)return null;var r=Uc(t,t===wt?At:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=nh(t,r);else{e=r;var i=ke;ke|=2;var s=zS();(wt!==t||At!==e)&&(Dr=null,Bo=rt()+500,ms(t,e));do try{YI();break}catch(a){VS(t,a)}while(1);Mg(),Zc.current=s,ke=i,ut!==null?e=0:(wt=null,At=0,e=pt)}if(e!==0){if(e===2&&(i=Fp(t),i!==0&&(r=i,e=dm(t,i))),e===1)throw n=El,ms(t,0),ci(t,r),fn(t,rt()),n;if(e===6)ci(t,r);else{if(i=t.current.alternate,!(r&30)&&!JI(i)&&(e=nh(t,r),e===2&&(s=Fp(t),s!==0&&(r=s,e=dm(t,s))),e===1))throw n=El,ms(t,0),ci(t,r),fn(t,rt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:ns(t,an,Dr);break;case 3:if(ci(t,r),(r&130023424)===r&&(e=Yg+500-rt(),10<e)){if(Uc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){nn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Kp(ns.bind(null,t,an,Dr),e);break}ns(t,an,Dr);break;case 4:if(ci(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Yn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*QI(r/1960))-r,10<r){t.timeoutHandle=Kp(ns.bind(null,t,an,Dr),r);break}ns(t,an,Dr);break;case 5:ns(t,an,Dr);break;default:throw Error(B(329))}}}return fn(t,rt()),t.callbackNode===n?FS.bind(null,t):null}function dm(t,e){var n=Ya;return t.current.memoizedState.isDehydrated&&(ms(t,e).flags|=256),t=nh(t,e),t!==2&&(e=an,an=n,e!==null&&fm(e)),t}function fm(t){an===null?an=t:an.push.apply(an,t)}function JI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!tr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ci(t,e){for(e&=~Xg,e&=~Yh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yn(e),r=1<<n;t[n]=-1,e&=~r}}function p0(t){if(ke&6)throw Error(B(327));Co();var e=Uc(t,0);if(!(e&1))return fn(t,rt()),null;var n=nh(t,e);if(t.tag!==0&&n===2){var r=Fp(t);r!==0&&(e=r,n=dm(t,r))}if(n===1)throw n=El,ms(t,0),ci(t,e),fn(t,rt()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ns(t,an,Dr),fn(t,rt()),null}function Zg(t,e){var n=ke;ke|=1;try{return t(e)}finally{ke=n,ke===0&&(Bo=rt()+500,Gh&&Ki())}}function ks(t){yi!==null&&yi.tag===0&&!(ke&6)&&Co();var e=ke;ke|=1;var n=Ln.transition,r=je;try{if(Ln.transition=null,je=1,t)return t()}finally{je=r,Ln.transition=n,ke=e,!(ke&6)&&Ki()}}function ey(){gn=mo.current,Fe(mo)}function ms(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,EI(n)),ut!==null)for(n=ut.return;n!==null;){var r=n;switch(Dg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qc();break;case 3:Vo(),Fe(hn),Fe(Qt),qg();break;case 5:Bg(r);break;case 4:Vo();break;case 13:Fe(We);break;case 19:Fe(We);break;case 10:Ug(r.type._context);break;case 22:case 23:ey()}n=n.return}if(wt=t,ut=t=Ii(t.current,null),At=gn=e,pt=0,El=null,Xg=Yh=Cs=0,an=Ya=null,as!==null){for(e=0;e<as.length;e++)if(n=as[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}as=null}return t}function VS(t,e){do{var n=ut;try{if(Mg(),bc.current=Yc,Xc){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xc=!1}if(xs=0,bt=dt=Ke=null,Ja=!1,xl=0,Jg.current=null,n===null||n.return===null){pt=1,El=e,ut=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=At,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=t0(o);if(g!==null){g.flags&=-257,n0(g,o,a,s,e),g.mode&1&&e0(s,u,e),e=g,l=u;var v=e.updateQueue;if(v===null){var b=new Set;b.add(l),e.updateQueue=b}else v.add(l);break e}else{if(!(e&1)){e0(s,u,e),ty();break e}l=Error(B(426))}}else if($e&&a.mode&1){var x=t0(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),n0(x,o,a,s,e),Rg(zo(l,a));break e}}s=l=zo(l,a),pt!==4&&(pt=2),Ya===null?Ya=[s]:Ya.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=SS(s,l,e);Kb(s,m);break e;case 1:a=l;var p=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ti===null||!Ti.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=xS(s,a,e);Kb(s,w);break e}}s=s.return}while(s!==null)}qS(n)}catch(k){e=k,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(1)}function zS(){var t=Zc.current;return Zc.current=Yc,t===null?Yc:t}function ty(){(pt===0||pt===3||pt===2)&&(pt=4),wt===null||!(Cs&268435455)&&!(Yh&268435455)||ci(wt,At)}function nh(t,e){var n=ke;ke|=2;var r=zS();(wt!==t||At!==e)&&(Dr=null,ms(t,e));do try{XI();break}catch(i){VS(t,i)}while(1);if(Mg(),ke=n,Zc.current=r,ut!==null)throw Error(B(261));return wt=null,At=0,pt}function XI(){for(;ut!==null;)BS(ut)}function YI(){for(;ut!==null&&!xN();)BS(ut)}function BS(t){var e=WS(t.alternate,t,gn);t.memoizedProps=t.pendingProps,e===null?qS(t):ut=e,Jg.current=null}function qS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=WI(n,e),n!==null){n.flags&=32767,ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,ut=null;return}}else if(n=$I(n,e,gn),n!==null){ut=n;return}if(e=e.sibling,e!==null){ut=e;return}ut=e=t}while(e!==null);pt===0&&(pt=5)}function ns(t,e,n){var r=je,i=Ln.transition;try{Ln.transition=null,je=1,ZI(t,e,n,r)}finally{Ln.transition=i,je=r}return null}function ZI(t,e,n,r){do Co();while(yi!==null);if(ke&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(PN(t,s),t===wt&&(ut=wt=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xu||(Xu=!0,HS(Mc,function(){return Co(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ln.transition,Ln.transition=null;var o=je;je=1;var a=ke;ke|=4,Jg.current=null,KI(t,n),MS(n,t),bI(Wp),Fc=!!$p,Wp=$p=null,t.current=n,GI(n),CN(),ke=a,je=o,Ln.transition=s}else t.current=n;if(Xu&&(Xu=!1,yi=t,th=i),s=t.pendingLanes,s===0&&(Ti=null),TN(n.stateNode),fn(t,rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(eh)throw eh=!1,t=cm,cm=null,t;return th&1&&t.tag!==0&&Co(),s=t.pendingLanes,s&1?t===hm?Za++:(Za=0,hm=t):Za=0,Ki(),null}function Co(){if(yi!==null){var t=_1(th),e=Ln.transition,n=je;try{if(Ln.transition=null,je=16>t?16:t,yi===null)var r=!1;else{if(t=yi,yi=null,th=0,ke&6)throw Error(B(331));var i=ke;for(ke|=4,X=t.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(X=u;X!==null;){var h=X;switch(h.tag){case 0:case 11:case 15:Xa(8,h,s)}var d=h.child;if(d!==null)d.return=h,X=d;else for(;X!==null;){h=X;var f=h.sibling,g=h.return;if(DS(h),h===u){X=null;break}if(f!==null){f.return=g,X=f;break}X=g}}}var v=s.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var x=b.sibling;b.sibling=null,b=x}while(b!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Xa(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,X=m;break e}X=s.return}}var p=t.current;for(X=p;X!==null;){o=X;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,X=y;else e:for(o=p;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xh(9,a)}}catch(k){Xe(a,a.return,k)}if(a===o){X=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,X=w;break e}X=a.return}}if(ke=i,Ki(),br&&typeof br.onPostCommitFiberRoot=="function")try{br.onPostCommitFiberRoot(qh,t)}catch{}r=!0}return r}finally{je=n,Ln.transition=e}}return!1}function m0(t,e,n){e=zo(n,e),e=SS(t,e,1),t=Ei(t,e,1),e=nn(),t!==null&&(Yl(t,1,e),fn(t,e))}function Xe(t,e,n){if(t.tag===3)m0(t,t,n);else for(;e!==null;){if(e.tag===3){m0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ti===null||!Ti.has(r))){t=zo(n,t),t=xS(e,t,1),e=Ei(e,t,1),t=nn(),e!==null&&(Yl(e,1,t),fn(e,t));break}}e=e.return}}function ej(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nn(),t.pingedLanes|=t.suspendedLanes&n,wt===t&&(At&n)===n&&(pt===4||pt===3&&(At&130023424)===At&&500>rt()-Yg?ms(t,0):Xg|=n),fn(t,e)}function $S(t,e){e===0&&(t.mode&1?(e=zu,zu<<=1,!(zu&130023424)&&(zu=4194304)):e=1);var n=nn();t=Hr(t,e),t!==null&&(Yl(t,e,n),fn(t,n))}function tj(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$S(t,n)}function nj(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),$S(t,n)}var WS;WS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||hn.current)cn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return cn=!1,qI(t,e,n);cn=!!(t.flags&131072)}else cn=!1,$e&&e.flags&1048576&&K1(e,Hc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_c(t,e),t=e.pendingProps;var i=Mo(e,Qt.current);xo(e,n),i=Wg(null,e,r,t,i,n);var s=Hg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dn(r)?(s=!0,$c(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Vg(e),i.updater=Qh,e.stateNode=i,i._reactInternals=e,em(e,r,t,n),e=rm(null,e,r,!0,s,n)):(e.tag=0,$e&&s&&Pg(e),Zt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_c(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ij(r),t=Wn(r,t),i){case 0:e=nm(null,e,r,t,n);break e;case 1:e=s0(null,e,r,t,n);break e;case 11:e=r0(null,e,r,t,n);break e;case 14:e=i0(null,e,r,Wn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),nm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),s0(t,e,r,i,n);case 3:e:{if(TS(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,X1(t,e),Qc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=zo(Error(B(423)),e),e=o0(t,e,r,n,i);break e}else if(r!==i){i=zo(Error(B(424)),e),e=o0(t,e,r,n,i);break e}else for(vn=ki(e.stateNode.containerInfo.firstChild),Sn=e,$e=!0,Gn=null,n=tS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Uo(),r===i){e=Kr(t,e,n);break e}Zt(t,e,r,n)}e=e.child}return e;case 5:return nS(e),t===null&&Xp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Hp(r,i)?o=null:s!==null&&Hp(r,s)&&(e.flags|=32),ES(t,e),Zt(t,e,o,n),e.child;case 6:return t===null&&Xp(e),null;case 13:return NS(t,e,n);case 4:return zg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fo(e,null,r,n):Zt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),r0(t,e,r,i,n);case 7:return Zt(t,e,e.pendingProps,n),e.child;case 8:return Zt(t,e,e.pendingProps.children,n),e.child;case 12:return Zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,De(Kc,r._currentValue),r._currentValue=o,s!==null)if(tr(s.value,o)){if(s.children===i.children&&!hn.current){e=Kr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=zr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Yp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Yp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Zt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,xo(e,n),i=Un(i),r=r(i),e.flags|=1,Zt(t,e,r,n),e.child;case 14:return r=e.type,i=Wn(r,e.pendingProps),i=Wn(r.type,i),i0(t,e,r,i,n);case 15:return CS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),_c(t,e),e.tag=1,dn(r)?(t=!0,$c(e)):t=!1,xo(e,n),Z1(e,r,i),em(e,r,i,n),rm(null,e,r,!0,t,n);case 19:return IS(t,e,n);case 22:return kS(t,e,n)}throw Error(B(156,e.tag))};function HS(t,e){return y1(t,e)}function rj(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,e,n,r){return new rj(t,e,n,r)}function ny(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ij(t){if(typeof t=="function")return ny(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_g)return 11;if(t===Sg)return 14}return 2}function Ii(t,e){var n=t.alternate;return n===null?(n=Rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")ny(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case io:return gs(n.children,i,s,e);case wg:o=8,i|=8;break;case Cp:return t=Rn(12,n,e,i|2),t.elementType=Cp,t.lanes=s,t;case kp:return t=Rn(13,n,e,i),t.elementType=kp,t.lanes=s,t;case Ep:return t=Rn(19,n,e,i),t.elementType=Ep,t.lanes=s,t;case e1:return Zh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y_:o=10;break e;case Z_:o=9;break e;case _g:o=11;break e;case Sg:o=14;break e;case ai:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Rn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function gs(t,e,n,r){return t=Rn(7,t,r,e),t.lanes=n,t}function Zh(t,e,n,r){return t=Rn(22,t,r,e),t.elementType=e1,t.lanes=n,t.stateNode={isHidden:!1},t}function Pf(t,e,n){return t=Rn(6,t,null,e),t.lanes=n,t}function Df(t,e,n){return e=Rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sj(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pf(0),this.expirationTimes=pf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ry(t,e,n,r,i,s,o,a,l){return t=new sj(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Rn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vg(s),t}function oj(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ro,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function KS(t){if(!t)return Fi;t=t._reactInternals;e:{if(Us(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(dn(n))return W1(t,n,e)}return e}function GS(t,e,n,r,i,s,o,a,l){return t=ry(n,r,!0,t,i,s,o,a,l),t.context=KS(null),n=t.current,r=nn(),i=Ni(n),s=zr(r,i),s.callback=e??null,Ei(n,s,i),t.current.lanes=i,Yl(t,i,r),fn(t,r),t}function ed(t,e,n,r){var i=e.current,s=nn(),o=Ni(i);return n=KS(n),e.context===null?e.context=n:e.pendingContext=n,e=zr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ei(i,e,o),t!==null&&(Zn(t,i,o,s),vc(t,i,o)),o}function rh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function g0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function iy(t,e){g0(t,e),(t=t.alternate)&&g0(t,e)}function aj(){return null}var QS=typeof reportError=="function"?reportError:function(t){console.error(t)};function sy(t){this._internalRoot=t}td.prototype.render=sy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));ed(t,e,null,null)};td.prototype.unmount=sy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ks(function(){ed(null,t,null,null)}),e[Wr]=null}};function td(t){this._internalRoot=t}td.prototype.unstable_scheduleHydration=function(t){if(t){var e=C1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ui.length&&e!==0&&e<ui[n].priority;n++);ui.splice(n,0,t),n===0&&E1(t)}};function oy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function y0(){}function lj(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=rh(o);s.call(u)}}var o=GS(e,r,t,0,null,!1,!1,"",y0);return t._reactRootContainer=o,t[Wr]=o.current,vl(t.nodeType===8?t.parentNode:t),ks(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=rh(l);a.call(u)}}var l=ry(t,0,!1,null,null,!1,!1,"",y0);return t._reactRootContainer=l,t[Wr]=l.current,vl(t.nodeType===8?t.parentNode:t),ks(function(){ed(e,l,n,r)}),l}function rd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=rh(o);a.call(l)}}ed(e,o,t,i)}else o=lj(n,e,t,i,r);return rh(o)}S1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Da(e.pendingLanes);n!==0&&(kg(e,n|1),fn(e,rt()),!(ke&6)&&(Bo=rt()+500,Ki()))}break;case 13:ks(function(){var r=Hr(t,1);if(r!==null){var i=nn();Zn(r,t,1,i)}}),iy(t,1)}};Eg=function(t){if(t.tag===13){var e=Hr(t,134217728);if(e!==null){var n=nn();Zn(e,t,134217728,n)}iy(t,134217728)}};x1=function(t){if(t.tag===13){var e=Ni(t),n=Hr(t,e);if(n!==null){var r=nn();Zn(n,t,e,r)}iy(t,e)}};C1=function(){return je};k1=function(t,e){var n=je;try{return je=t,e()}finally{je=n}};Lp=function(t,e,n){switch(e){case"input":if(Ip(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Kh(r);if(!i)throw Error(B(90));n1(r),Ip(r,i)}}}break;case"textarea":i1(t,n);break;case"select":e=n.value,e!=null&&bo(t,!!n.multiple,e,!1)}};h1=Zg;d1=ks;var uj={usingClientEntryPoint:!1,Events:[eu,lo,Kh,u1,c1,Zg]},Ea={findFiberByHostInstance:os,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},cj={bundleType:Ea.bundleType,version:Ea.version,rendererPackageName:Ea.rendererPackageName,rendererConfig:Ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ei.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=m1(t),t===null?null:t.stateNode},findFiberByHostInstance:Ea.findFiberByHostInstance||aj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yu.isDisabled&&Yu.supportsFiber)try{qh=Yu.inject(cj),br=Yu}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uj;En.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oy(e))throw Error(B(200));return oj(t,e,null,n)};En.createRoot=function(t,e){if(!oy(t))throw Error(B(299));var n=!1,r="",i=QS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ry(t,1,!1,null,null,n,!1,r,i),t[Wr]=e.current,vl(t.nodeType===8?t.parentNode:t),new sy(e)};En.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=m1(e),t=t===null?null:t.stateNode,t};En.flushSync=function(t){return ks(t)};En.hydrate=function(t,e,n){if(!nd(e))throw Error(B(200));return rd(null,t,e,!0,n)};En.hydrateRoot=function(t,e,n){if(!oy(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=QS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=GS(e,null,t,1,n??null,i,!1,s,o),t[Wr]=e.current,vl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new td(e)};En.render=function(t,e,n){if(!nd(e))throw Error(B(200));return rd(null,t,e,!1,n)};En.unmountComponentAtNode=function(t){if(!nd(t))throw Error(B(40));return t._reactRootContainer?(ks(function(){rd(null,null,t,!1,function(){t._reactRootContainer=null,t[Wr]=null})}),!0):!1};En.unstable_batchedUpdates=Zg;En.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nd(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return rd(t,e,n,!1,r)};En.version="18.2.0-next-9e3b772b8-20220608";function JS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JS)}catch(t){console.error(t)}}JS(),K_.exports=En;var ay=K_.exports,v0=ay;Sp.createRoot=v0.createRoot,Sp.hydrateRoot=v0.hydrateRoot;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const XS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},hj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},YS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(f=64)),r.push(n[h],n[d],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const a=i<t.length?n[t.charAt(i)]:64;++i;const l=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||a==null||l==null)throw new dj;const u=s<<2|o>>4;if(r.push(u),a!==64){const h=o<<4&240|a>>2;if(r.push(h),l!==64){const d=a<<6&192|l;r.push(d)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fj=function(t){const e=XS(t);return YS.encodeByteArray(e,!0)},ih=function(t){return fj(t).replace(/\./g,"")},ZS=function(t){try{return YS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function pj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mj=()=>pj().__FIREBASE_DEFAULTS__,gj=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ZS(t[1]);return e&&JSON.parse(e)},id=()=>{try{return mj()||gj()||yj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ex=t=>{var e,n;return(n=(e=id())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},tx=t=>{const e=ex(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},nx=()=>{var t;return(t=id())===null||t===void 0?void 0:t.config},rx=t=>{var e;return(e=id())===null||e===void 0?void 0:e[`_${t}`]};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ix(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[ih(JSON.stringify(n)),ih(JSON.stringify(o)),a].join(".")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function wj(){var t;const e=(t=id())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _j(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Sj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xj(){const t=Jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Cj(){try{return typeof indexedDB=="object"}catch{return!1}}function kj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ej="FirebaseError";class Nr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Ej,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nu.prototype.create)}}class nu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Tj(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Nr(i,a,r)}}function Tj(t,e){return t.replace(Nj,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Nj=/\{\$([^}]+)}/g;function Ij(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(b0(s)&&b0(o)){if(!sh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function b0(t){return t!==null&&typeof t=="object"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ru(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function La(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[r,i]=n.split("=");e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function Ma(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function jj(t,e){const n=new Aj(t,e);return n.subscribe.bind(n)}class Aj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Oj(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Rf),i.error===void 0&&(i.error=Rf),i.complete===void 0&&(i.complete=Rf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Oj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rf(){}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Qe(t){return t&&t._delegate?t._delegate:t}class Vi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const rs="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Pj=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const n=new vj;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Rj(t))try{this.getOrInitializeService({instanceIdentifier:rs})}catch{}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const i=this.getOrInitializeService({instanceIdentifier:r});n.resolve(i)}catch{}}}}clearInstance(t=rs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=rs){return this.instances.has(t)}getOptions(t=rs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&s.resolve(r)}return r}onInit(t,e){var n;const r=this.normalizeInstanceIdentifier(e),i=(n=this.onInitCallbacks.get(r))!==null&&n!==void 0?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const r of n)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Dj(t),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=rs){return this.component?this.component.multipleInstances?t:rs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Dj(t){return t===rs?void 0:t}function Rj(t){return t.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Pj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const Mj={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},Uj=Se.INFO,Fj={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},Vj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Fj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ly{constructor(e){this.name=e,this._logLevel=Uj,this._logHandler=Vj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Mj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const zj=(t,e)=>e.some(n=>t instanceof n);let w0,_0;function Bj(){return w0||(w0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qj(){return _0||(_0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sx=new WeakMap,pm=new WeakMap,ox=new WeakMap,Lf=new WeakMap,uy=new WeakMap;function $j(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ji(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&sx.set(n,t)}).catch(()=>{}),uy.set(e,t),e}function Wj(t){if(pm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});pm.set(t,e)}let mm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ox.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Hj(t){mm=t(mm)}function Kj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mf(this),e,...n);return ox.set(r,e.sort?e.sort():[e]),ji(r)}:qj().includes(t)?function(...e){return t.apply(Mf(this),e),ji(sx.get(this))}:function(...e){return ji(t.apply(Mf(this),e))}}function Gj(t){return typeof t=="function"?Kj(t):(t instanceof IDBTransaction&&Wj(t),zj(t,Bj())?new Proxy(t,mm):t)}function ji(t){if(t instanceof IDBRequest)return $j(t);if(Lf.has(t))return Lf.get(t);const e=Gj(t);return e!==t&&(Lf.set(t,e),uy.set(e,t)),e}const Mf=t=>uy.get(t);function Qj(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ji(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ji(o.result),l.oldVersion,l.newVersion,ji(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Jj=["get","getKey","getAll","getAllKeys","count"],Xj=["put","add","delete","clear"],Uf=new Map;function S0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Uf.get(e))return Uf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Xj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Jj.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Uf.set(e,s),s}Hj(t=>({...t,get:(e,n,r)=>S0(e,n)||t.get(e,n,r),has:(e,n)=>!!S0(e,n)||t.has(e,n)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Zj(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function Zj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gm="@firebase/app",x0="0.9.20";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Es=new ly("@firebase/app"),eA="@firebase/app-compat",tA="@firebase/analytics-compat",nA="@firebase/analytics",rA="@firebase/app-check-compat",iA="@firebase/app-check",sA="@firebase/auth",oA="@firebase/auth-compat",aA="@firebase/database",lA="@firebase/database-compat",uA="@firebase/functions",cA="@firebase/functions-compat",hA="@firebase/installations",dA="@firebase/installations-compat",fA="@firebase/messaging",pA="@firebase/messaging-compat",mA="@firebase/performance",gA="@firebase/performance-compat",yA="@firebase/remote-config",vA="@firebase/remote-config-compat",bA="@firebase/storage",wA="@firebase/storage-compat",_A="@firebase/firestore",SA="@firebase/firestore-compat",xA="firebase",CA="10.5.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ym="[DEFAULT]",kA={[gm]:"fire-core",[eA]:"fire-core-compat",[nA]:"fire-analytics",[tA]:"fire-analytics-compat",[iA]:"fire-app-check",[rA]:"fire-app-check-compat",[sA]:"fire-auth",[oA]:"fire-auth-compat",[aA]:"fire-rtdb",[lA]:"fire-rtdb-compat",[uA]:"fire-fn",[cA]:"fire-fn-compat",[hA]:"fire-iid",[dA]:"fire-iid-compat",[fA]:"fire-fcm",[pA]:"fire-fcm-compat",[mA]:"fire-perf",[gA]:"fire-perf-compat",[yA]:"fire-rc",[vA]:"fire-rc-compat",[bA]:"fire-gcs",[wA]:"fire-gcs-compat",[_A]:"fire-fst",[SA]:"fire-fst-compat","fire-js":"fire-js",[xA]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const oh=new Map,vm=new Map;function EA(t,e){try{t.container.addComponent(e)}catch(n){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ts(t){const e=t.name;if(vm.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;vm.set(e,t);for(const n of oh.values())EA(n,t);return!0}function sd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const TA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ai=new nu("app","Firebase",TA);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class NA{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Fs=CA;function ax(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ym,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ai.create("bad-app-name",{appName:String(i)});if(n||(n=nx()),!n)throw Ai.create("no-options");const s=oh.get(i);if(s){if(sh(n,s.options)&&sh(r,s.config))return s;throw Ai.create("duplicate-app",{appName:i})}const o=new Lj(i);for(const l of vm.values())o.addComponent(l);const a=new NA(n,r,o);return oh.set(i,a),a}function cy(t=ym){const e=oh.get(t);if(!e&&t===ym&&nx())return ax();if(!e)throw Ai.create("no-app",{appName:t});return e}function _r(t,e,n){var r;let i=(r=kA[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(a.join(" "));return}Ts(new Vi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const IA="firebase-heartbeat-database",jA=1,Tl="firebase-heartbeat-store";let Ff=null;function lx(){return Ff||(Ff=Qj(IA,jA,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Tl)}}}).catch(t=>{throw Ai.create("idb-open",{originalErrorMessage:t.message})})),Ff}async function AA(t){try{return await(await lx()).transaction(Tl).objectStore(Tl).get(ux(t))}catch(e){if(e instanceof Nr)Es.warn(e.message);else{const n=Ai.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Es.warn(n.message)}}}async function C0(t,e){try{const n=(await lx()).transaction(Tl,"readwrite");await n.objectStore(Tl).put(e,ux(t)),await n.done}catch(n){if(n instanceof Nr)Es.warn(n.message);else{const r=Ai.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Es.warn(r.message)}}}function ux(t){return`${t.name}!${t.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const OA=1024,PA=30*24*60*60*1e3;class DA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=k0();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(r=>r.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const i=new Date(r.date).valueOf();return Date.now()-i<=PA}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=k0(),{heartbeatsToSend:n,unsentEntries:r}=RA(this._heartbeatsCache.heartbeats),i=ih(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function k0(){return new Date().toISOString().substring(0,10)}function RA(t,e=OA){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),E0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),E0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class LA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Cj()?kj().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await AA(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return C0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return C0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function E0(t){return ih(JSON.stringify({version:2,heartbeats:t})).length}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function MA(t){Ts(new Vi("platform-logger",e=>new Yj(e),"PRIVATE")),Ts(new Vi("heartbeat",e=>new DA(e),"PRIVATE")),_r(gm,x0,t),_r(gm,x0,"esm2017"),_r("fire-js","")}MA("");function hy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function T0(t){return t!==void 0&&t.enterprise!==void 0}class UA{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function cx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FA=cx,hx=new nu("auth","Firebase",cx());/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ah=new ly("@firebase/auth");function VA(t,...e){ah.logLevel<=Se.WARN&&ah.warn(`Auth (${Fs}): ${t}`,...e)}function kc(t,...e){ah.logLevel<=Se.ERROR&&ah.error(`Auth (${Fs}): ${t}`,...e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Vn(t,...e){throw dy(t,...e)}function Sr(t,...e){return dy(t,...e)}function dx(t,e,n){const r=Object.assign(Object.assign({},FA()),{[e]:n});return new nu("auth","Firebase",r).create(e,{appName:t.name})}function zA(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Vn(t,"argument-error"),dx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return hx.create(t,...e)}function le(t,e,...n){if(!t)throw dy(e,...n)}function Ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kc(e),new Error(e)}function Gr(t,e){t||Ur(e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function bm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function BA(){return N0()==="http:"||N0()==="https:"}function N0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function qA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BA()||_j()||"connection"in navigator)?navigator.onLine:!0}function $A(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class iu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gr(n>e,"Short delay should be less than long delay!"),this.isMobile=bj()||Sj()}get(){return qA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function fy(t,e){Gr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const WA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const HA=new iu(3e4,6e4);function Vs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function zs(t,e,n,r,i={}){return px(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ru(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),fx.fetch()(mx(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function px(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},WA),e);try{const i=new KA(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Zu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Zu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Zu(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw dx(t,h,u);Vn(t,h)}}catch(i){if(i instanceof Nr)throw i;Vn(t,"network-request-failed",{message:String(i)})}}async function su(t,e,n,r,i={}){const s=await zs(t,e,n,r,i);return"mfaPendingCredential"in s&&Vn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function mx(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?fy(t.config,i):`${t.config.apiScheme}://${i}`}class KA{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Sr(this.auth,"network-request-failed")),HA.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Sr(t,e,r);return i.customData._tokenResponse=n,i}async function GA(t,e){return zs(t,"GET","/v2/recaptchaConfig",Vs(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function QA(t,e){return zs(t,"POST","/v1/accounts:delete",e)}async function JA(t,e){return zs(t,"POST","/v1/accounts:lookup",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function el(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XA(t,e=!1){const n=Qe(t),r=await n.getIdToken(e),i=py(r);le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:el(Vf(i.auth_time)),issuedAtTime:el(Vf(i.iat)),expirationTime:el(Vf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Vf(t){return Number(t)*1e3}function py(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const i=ZS(n);return i?JSON.parse(i):(kc("Failed to decode base64 JWT payload"),null)}catch(i){return kc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function YA(t){const e=py(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Nl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Nr&&ZA(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ZA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=el(this.lastLoginAt),this.creationTime=el(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function lh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Nl(t,JA(n,{idToken:r}));le(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?rO(s.providerUserInfo):[],a=nO(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new gx(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function tO(t){const e=Qe(t);await lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nO(t,e){return[...t.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function rO(t){return t.map(e=>{var{providerId:n}=e,r=hy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function iO(t,e){const n=await px(t,{},async()=>{const r=ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=mx(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",fx.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return le(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await iO(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Il;return r&&(le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(le(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(le(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Il,this.toJSON())}_performRefresh(){return Ur("not implemented")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function si(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ys{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=hy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new gx(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Nl(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return XA(this,e)}reload(){return tO(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ys(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Nl(this,QA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,h;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:y,emailVerified:w,isAnonymous:k,providerData:I,stsTokenManager:A}=n;le(y&&A,e,"internal-error");const O=Il.fromJSON(this.name,A);le(typeof y=="string",e,"internal-error"),si(d,e.name),si(f,e.name),le(typeof w=="boolean",e,"internal-error"),le(typeof k=="boolean",e,"internal-error"),si(g,e.name),si(v,e.name),si(b,e.name),si(x,e.name),si(m,e.name),si(p,e.name);const z=new ys({uid:y,auth:e,email:f,emailVerified:w,displayName:d,isAnonymous:k,photoURL:v,phoneNumber:g,tenantId:b,stsTokenManager:O,createdAt:m,lastLoginAt:p});return I&&Array.isArray(I)&&(z.providerData=I.map(W=>Object.assign({},W))),x&&(z._redirectEventId=x),z}static async _fromIdTokenResponse(e,n,r=!1){const i=new Il;i.updateFromServerResponse(n);const s=new ys({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await lh(s),s}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const I0=new Map;function Fr(t){Gr(t instanceof Function,"Expected a class definition");let e=I0.get(t);return e?(Gr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,I0.set(t,e),e)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}yx.type="NONE";const j0=yx;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ec(t,e,n){return`firebase:${t}:${e}:${n}`}class ko{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ec(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ec("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ys._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ko(Fr(j0),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Fr(j0);const o=Ec(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){const d=ys._fromJSON(e,h);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ko(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ko(s,e,r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function A0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Sx(e))return"Blackberry";if(xx(e))return"Webos";if(my(e))return"Safari";if((e.includes("chrome/")||bx(e))&&!e.includes("edge/"))return"Chrome";if(_x(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function vx(t=Jt()){return/firefox\//i.test(t)}function my(t=Jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bx(t=Jt()){return/crios\//i.test(t)}function wx(t=Jt()){return/iemobile/i.test(t)}function _x(t=Jt()){return/android/i.test(t)}function Sx(t=Jt()){return/blackberry/i.test(t)}function xx(t=Jt()){return/webos/i.test(t)}function od(t=Jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sO(t=Jt()){var e;return od(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oO(){return xj()&&document.documentMode===10}function Cx(t=Jt()){return od(t)||_x(t)||xx(t)||Sx(t)||/windows phone/i.test(t)||wx(t)}function aO(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function kx(t,e=[]){let n;switch(t){case"Browser":n=A0(Jt());break;case"Worker":n=`${A0(Jt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fs}/${r}`}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function uO(t,e={}){return zs(t,"GET","/v2/passwordPolicy",Vs(t,e))}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const cO=6;class hO{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:cO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dO{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O0(this),this.idTokenSubscription=new O0(this),this.beforeStateQueue=new lO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ko.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&l!=null&&l.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$A()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Qe(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uO(this),n=new hO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fr(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await ko.create(this,[Fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&VA(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Gi(t){return Qe(t)}class O0{constructor(e){this.auth=e,this.observer=null,this.addObserver=jj(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function fO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Ex(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Sr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",fO().appendChild(r)})}function pO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const mO="https://www.google.com/recaptcha/enterprise.js?render=",gO="recaptcha-enterprise",yO="NO_RECAPTCHA";class vO{constructor(e){this.type=gO,this.auth=Gi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{GA(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new UA(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;T0(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(yO)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&T0(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}Ex(mO+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function uh(t,e,n,r=!1){const i=new vO(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function bO(t,e){const n=sd(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(sh(i,e??{}))return r;Vn(r,"already-initialized")}return n.initialize({options:e})}function wO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function _O(t,e,n){const r=Gi(t);le(r._canInitEmulator,r,"emulator-config-failed"),le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Tx(e),{host:o,port:a}=SO(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||xO()}function Tx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function SO(t){const e=Tx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:P0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:P0(o)}}}function P0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function xO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,n){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}async function CO(t,e){return zs(t,"POST","/v1/accounts:update",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function zf(t,e){return su(t,"POST","/v1/accounts:signInWithPassword",Vs(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function kO(t,e){return su(t,"POST","/v1/accounts:signInWithEmailLink",Vs(t,e))}async function EO(t,e){return su(t,"POST","/v1/accounts:signInWithEmailLink",Vs(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jl extends gy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new jl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new jl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&n!=null&&n.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await uh(e,r,"signInWithPassword");return zf(e,i)}else return zf(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await uh(e,r,"signInWithPassword");return zf(e,s)}else return Promise.reject(i)});case"emailLink":return kO(e,{email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return CO(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return EO(e,{idToken:n,email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Eo(t,e){return su(t,"POST","/v1/accounts:signInWithIdp",Vs(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const TO="http://localhost";class Ns extends gy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=hy(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ns(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Eo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Eo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Eo(e,n)}buildRequest(){const e={requestUri:TO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ru(n)}return e}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function NO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IO(t){const e=La(Ma(t)).link,n=e?La(Ma(e)).deep_link_id:null,r=La(Ma(t)).deep_link_id;return(r?La(Ma(r)).link:null)||r||n||e||t}class yy{constructor(e){var n,r,i,s,o,a;const l=La(Ma(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,d=NO((i=l.mode)!==null&&i!==void 0?i:null);le(u&&h&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=IO(e);try{return new yy(n)}catch{return null}}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sa{constructor(){this.providerId=sa.PROVIDER_ID}static credential(e,n){return jl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=yy.parseLink(n);return le(r,"argument-error"),jl._fromEmailAndCode(e,r.code,r.tenantId)}}sa.PROVIDER_ID="password";sa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ou extends vy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hi extends ou{constructor(){super("facebook.com")}static credential(e){return Ns._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";hi.PROVIDER_ID="facebook.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qn extends ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ns._fromParams({providerId:Qn.PROVIDER_ID,signInMethod:Qn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qn.credentialFromTaggedObject(e)}static credentialFromError(e){return Qn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qn.credential(n,r)}catch{return null}}}Qn.GOOGLE_SIGN_IN_METHOD="google.com";Qn.PROVIDER_ID="google.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class di extends ou{constructor(){super("github.com")}static credential(e){return Ns._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return di.credential(e.oauthAccessToken)}catch{return null}}}di.GITHUB_SIGN_IN_METHOD="github.com";di.PROVIDER_ID="github.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fi extends ou{constructor(){super("twitter.com")}static credential(e,n){return Ns._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fi.credential(n,r)}catch{return null}}}fi.TWITTER_SIGN_IN_METHOD="twitter.com";fi.PROVIDER_ID="twitter.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Bf(t,e){return su(t,"POST","/v1/accounts:signUp",Vs(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ys._fromIdTokenResponse(e,r,i),o=D0(r);return new Is({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=D0(r);return new Is({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function D0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ch extends Nr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ch(e,n,r,i)}}function Nx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(t,i,e,r):i})}async function jO(t,e,n=!1){const r=await Nl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Is._forOperation(t,"link",r)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function AO(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Nl(t,Nx(r,i,e,t),n);le(s.idToken,r,"internal-error");const o=py(s.idToken);le(o,r,"internal-error");const{sub:a}=o;return le(t.uid===a,r,"user-mismatch"),Is._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Vn(r,"user-mismatch"),s}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Ix(t,e,n=!1){const r="signIn",i=await Nx(t,r,e),s=await Is._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function OO(t,e){return Ix(Gi(t),e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function jx(t){const e=Gi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function PO(t,e,n){var r;const i=Gi(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await uh(i,s,"signUpPassword");o=Bf(i,u)}else o=Bf(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const h=await uh(i,s,"signUpPassword");return Bf(i,h)}throw u});const a=await o.catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&jx(t),u}),l=await Is._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function DO(t,e,n){return OO(Qe(t),sa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&jx(t),r})}function RO(t,e,n,r){return Qe(t).onIdTokenChanged(e,n,r)}function LO(t,e,n){return Qe(t).beforeAuthStateChanged(e,n)}function MO(t,e,n,r){return Qe(t).onAuthStateChanged(e,n,r)}function UO(t){return Qe(t).signOut()}const hh="__sak";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ax{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function FO(){const t=Jt();return my(t)||od(t)}const VO=1e3,zO=10;class Ox extends Ax{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=FO()&&aO(),this.fallbackToPolling=Cx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);oO()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,zO):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},VO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ox.type="LOCAL";const BO=Ox;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Px extends Ax{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Px.type="SESSION";const Dx=Px;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function qO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ad{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ad(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await qO(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ad.receivers=[];/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function by(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $O{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=by("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function xr(){return window}function WO(t){xr().location.href=t}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Rx(){return typeof xr().WorkerGlobalScope<"u"&&typeof xr().importScripts=="function"}async function HO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function GO(){return Rx()?self:null}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Lx="firebaseLocalStorageDb",QO=1,dh="firebaseLocalStorage",Mx="fbase_key";class au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ld(t,e){return t.transaction([dh],e?"readwrite":"readonly").objectStore(dh)}function JO(){const t=indexedDB.deleteDatabase(Lx);return new au(t).toPromise()}function wm(){const t=indexedDB.open(Lx,QO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(dh,{keyPath:Mx})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(dh)?e(r):(r.close(),await JO(),e(await wm()))})})}async function R0(t,e,n){const r=ld(t,!0).put({[Mx]:e,value:n});return new au(r).toPromise()}async function XO(t,e){const n=ld(t,!1).get(e),r=await new au(n).toPromise();return r===void 0?null:r.value}function L0(t,e){const n=ld(t,!0).delete(e);return new au(n).toPromise()}const YO=800,ZO=3;class Ux{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ZO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ad._getInstance(GO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await HO(),!this.activeServiceWorker)return;this.sender=new $O(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wm();return await R0(e,hh,"1"),await L0(e,hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>R0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>XO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>L0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ld(i,!1).getAll();return new au(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ux.type="LOCAL";const eP=Ux;new iu(3e4,6e4);/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Fx(t,e){return e?Fr(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wy extends gy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tP(t){return Ix(t.auth,new wy(t),t.bypassAuthState)}function nP(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),AO(n,new wy(t),t.bypassAuthState)}async function rP(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),jO(n,new wy(t),t.bypassAuthState)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vx{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tP;case"linkViaPopup":case"linkViaRedirect":return rP;case"reauthViaPopup":case"reauthViaRedirect":return nP;default:Vn(this.auth,"internal-error")}}resolve(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const iP=new iu(2e3,1e4);async function zx(t,e,n){const r=Gi(t);zA(t,e,vy);const i=Fx(r,n);return new us(r,"signInViaPopup",e,i).executeNotNull()}class us extends Vx{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,us.currentPopupAction&&us.currentPopupAction.cancel(),us.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){Gr(this.filter.length===1,"Popup operations only handle one event");const e=by();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,us.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iP.get())};e()}}us.currentPopupAction=null;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const sP="pendingRedirect",Tc=new Map;class oP extends Vx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Tc.get(this.auth._key());if(!e){try{const n=await aP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(n){e=()=>Promise.reject(n)}Tc.set(this.auth._key(),e)}return this.bypassAuthState||Tc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aP(t,e){const n=cP(e),r=uP(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function lP(t,e){Tc.set(t._key(),e)}function uP(t){return Fr(t._redirectPersistence)}function cP(t){return Ec(sP,t.config.apiKey,t.name)}async function hP(t,e,n=!1){const r=Gi(t),i=Fx(r,e),s=await new oP(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const dP=10*60*1e3;class fP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Bx(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Sr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dP&&this.cachedEventUids.clear(),this.cachedEventUids.has(M0(e))}saveEventToCache(e){this.cachedEventUids.add(M0(e)),this.lastProcessedEventTime=Date.now()}}function M0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Bx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bx(t);default:return!1}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function mP(t,e={}){return zs(t,"GET","/v1/projects",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const gP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yP=/^https?/;async function vP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mP(t);for(const n of e)try{if(bP(n))return}catch{}Vn(t,"unauthorized-domain")}function bP(t){const e=bm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!yP.test(n))return!1;if(gP.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wP=new iu(3e4,6e4);function U0(){const t=xr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _P(t){return new Promise((e,n)=>{var r,i,s;function o(){U0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U0(),n(Sr(t,"network-request-failed"))},timeout:wP.get()})}if(!((i=(r=xr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=xr().gapi)===null||s===void 0)&&s.load)o();else{const a=pO("iframefcb");return xr()[a]=()=>{gapi.load?o():n(Sr(t,"network-request-failed"))},Ex(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Nc=null,e})}let Nc=null;function SP(t){return Nc=Nc||_P(t),Nc}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xP=new iu(5e3,15e3),CP="__/auth/iframe",kP="emulator/auth/iframe",EP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NP(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fy(e,kP):`https://${t.config.authDomain}/${CP}`,r={apiKey:e.apiKey,appName:t.name,v:Fs},i=TP.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ru(r).slice(1)}`}async function IP(t){const e=await SP(t),n=xr().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:NP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EP,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Sr(t,"network-request-failed"),a=xr().setTimeout(()=>{s(o)},xP.get());function l(){xr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const jP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AP=500,OP=600,PP="_blank",DP="http://localhost";class F0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RP(t,e,n,r=AP,i=OP){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},jP),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Jt().toLowerCase();n&&(a=bx(u)?PP:n),vx(u)&&(e=e||DP,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[g,v])=>`${f}${g}=${v},`,"");if(sO(u)&&a!=="_self")return LP(e||"",a),new F0(null);const d=window.open(e||"",a,h);le(d,t,"popup-blocked");try{d.focus()}catch{}return new F0(d)}function LP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const MP="__/auth/handler",UP="emulator/auth/handler",FP=encodeURIComponent("fac");async function V0(t,e,n,r,i,s){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fs,eventId:i};if(e instanceof vy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Ij(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries(s||{}))o[h]=d}if(e instanceof ou){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${FP}=${encodeURIComponent(l)}`:"";return`${VP(t)}?${ru(a).slice(1)}${u}`}function VP({config:t}){return t.emulator?fy(t,UP):`https://${t.authDomain}/${MP}`}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const qf="webStorageSupport";class zP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dx,this._completeRedirectFn=hP,this._overrideRedirectResult=lP}async _openPopup(e,n,r,i){var s;Gr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await V0(e,n,r,bm(),i);return RP(e,o,by())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await V0(e,n,r,bm(),i);return WO(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Gr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await IP(e),r=new fP(e);return n.register("authEvent",i=>(le(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qf,{type:qf},r=>{var i;const s=(i=r==null?void 0:r[0])===null||i===void 0?void 0:i[qf];s!==void 0&&n(!!s),Vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Cx()||my()||od()}}const BP=zP;var z0="@firebase/auth",B0="1.3.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function $P(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function WP(t){Ts(new Vi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kx(t)},u=new dO(r,i,s,l);return wO(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ts(new Vi("auth-internal",e=>{const n=Gi(e.getProvider("auth").getImmediate());return(r=>new qP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_r(z0,B0,$P(t)),_r(z0,B0,"esm2017")}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const HP=5*60,KP=rx("authIdTokenMaxAge")||HP;let q0=null;const GP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>KP)return;const i=n==null?void 0:n.token;q0!==i&&(q0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ie(t=cy()){const e=sd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=bO(t,{popupRedirectResolver:BP,persistence:[eP,BO,Dx]}),r=rx("authTokenSyncURL");if(r){const s=GP(r);LO(n,s,()=>s(n.currentUser)),RO(n,o=>s(o))}const i=ex("auth");return i&&_O(n,`http://${i}`),n}WP("Browser");/**
* @remix-run/router v1.9.0
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function Al(){return Al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Al.apply(this,arguments)}var vi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(vi||(vi={}));const $0="popstate";function QP(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return _m("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:fh(i)}return XP(e,n,null,t)}function it(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _y(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JP(){return Math.random().toString(36).substr(2,8)}function W0(t,e){return{usr:t.state,key:t.key,idx:e}}function _m(t,e,n,r){return n===void 0&&(n=null),Al({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?oa(e):e,{state:n,key:e&&e.key||r||JP()})}function fh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function oa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function XP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=vi.Pop,l=null,u=h();u==null&&(u=0,o.replaceState(Al({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=vi.Pop;let x=h(),m=x==null?null:x-u;u=x,l&&l({action:a,location:b.location,delta:m})}function f(x,m){a=vi.Push;let p=_m(b.location,x,m);n&&n(p,x),u=h()+1;let y=W0(p,u),w=b.createHref(p);try{o.pushState(y,"",w)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(w)}s&&l&&l({action:a,location:b.location,delta:1})}function g(x,m){a=vi.Replace;let p=_m(b.location,x,m);n&&n(p,x),u=h();let y=W0(p,u),w=b.createHref(p);o.replaceState(y,"",w),s&&l&&l({action:a,location:b.location,delta:0})}function v(x){let m=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof x=="string"?x:fh(x);return it(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let b={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener($0,d),l=x,()=>{i.removeEventListener($0,d),l=null}},createHref(x){return e(i,x)},createURL:v,encodeLocation(x){let m=v(x);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:g,go(x){return o.go(x)}};return b}var H0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(H0||(H0={}));function YP(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?oa(e):e,i=Sy(r.pathname||"/",n);if(i==null)return null;let s=qx(t);ZP(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=lD(s[a],hD(i));return o}function qx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(it(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Oi([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(it(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),qx(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:oD(u,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of $x(s.path))i(s,o,l)}),e}function $x(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=$x(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function ZP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:aD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const eD=/^:\w+$/,tD=3,nD=2,rD=1,iD=10,sD=-2,K0=t=>t==="*";function oD(t,e){let n=t.split("/"),r=n.length;return n.some(K0)&&(r+=sD),e&&(r+=nD),n.filter(i=>!K0(i)).reduce((i,s)=>i+(eD.test(s)?tD:s===""?rD:iD),r)}function aD(t,e){return t.length===e.length&&t.slice(0,-1).every((n,r)=>n===e[r])?t[t.length-1]-e[e.length-1]:0}function lD(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=uD({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!h)return null;Object.assign(r,h.params);let d=a.route;s.push({params:r,pathname:Oi([i,h.pathname]),pathnameBase:mD(Oi([i,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(i=Oi([i,h.pathnameBase]))}return s}function uD(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=cD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,u,h)=>{if(u==="*"){let d=a[h]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return l[u]=dD(a[h]||"",u),l},{}),pathname:s,pathnameBase:o,pattern:t}}function cD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),_y(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,o)=>(r.push(o),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function hD(t){try{return decodeURI(t)}catch(e){return _y(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function dD(t,e){try{return decodeURIComponent(t)}catch(n){return _y(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Sy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function fD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?oa(t):t;return{pathname:n?n.startsWith("/")?n:pD(n,e):e,search:gD(r),hash:yD(i)}}function pD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function $f(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xy(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Cy(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=oa(t):(i=Al({},t),it(!i.pathname||!i.pathname.includes("?"),$f("?","pathname","search",i)),it(!i.pathname||!i.pathname.includes("#"),$f("#","pathname","hash",i)),it(!i.search||!i.search.includes("#"),$f("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=fD(i,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const Oi=t=>t.join("/").replace(/\/\/+/g,"/"),mD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function vD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Wx=["post","put","patch","delete"];new Set(Wx);const bD=["get",...Wx];new Set(bD);/**
* React Router v6.16.0
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function ph(){return ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ph.apply(this,arguments)}const ky=S.createContext(null),wD=S.createContext(null),aa=S.createContext(null),ud=S.createContext(null),ti=S.createContext({outlet:null,matches:[],isDataRoute:!1}),Hx=S.createContext(null);function _D(t,e){let{relative:n}=e===void 0?{}:e;la()||it(!1);let{basename:r,navigator:i}=S.useContext(aa),{hash:s,pathname:o,search:a}=Gx(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Oi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function la(){return S.useContext(ud)!=null}function lu(){return la()||it(!1),S.useContext(ud).location}function Kx(t){S.useContext(aa).static||S.useLayoutEffect(t)}function Ir(){let{isDataRoute:t}=S.useContext(ti);return t?RD():SD()}function SD(){la()||it(!1);let t=S.useContext(ky),{basename:e,navigator:n}=S.useContext(aa),{matches:r}=S.useContext(ti),{pathname:i}=lu(),s=JSON.stringify(xy(r).map(a=>a.pathnameBase)),o=S.useRef(!1);return Kx(()=>{o.current=!0}),S.useCallback(function(a,l){if(l===void 0&&(l={}),!o.current)return;if(typeof a=="number"){n.go(a);return}let u=Cy(a,JSON.parse(s),i,l.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Oi([e,u.pathname])),(l.replace?n.replace:n.push)(u,l.state,l)},[e,n,s,i,t])}function xD(){let{matches:t}=S.useContext(ti),e=t[t.length-1];return e?e.params:{}}function Gx(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=S.useContext(ti),{pathname:i}=lu(),s=JSON.stringify(xy(r).map(o=>o.pathnameBase));return S.useMemo(()=>Cy(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function CD(t,e){return kD(t,e)}function kD(t,e,n){la()||it(!1);let{navigator:r}=S.useContext(aa),{matches:i}=S.useContext(ti),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=lu(),u;if(e){var h;let b=typeof e=="string"?oa(e):e;a==="/"||(h=b.pathname)!=null&&h.startsWith(a)||it(!1),u=b}else u=l;let d=u.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",g=YP(t,{pathname:f}),v=jD(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Oi([a,r.encodeLocation?r.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?a:Oi([a,r.encodeLocation?r.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n);return e&&v?S.createElement(ud.Provider,{value:{location:ph({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:vi.Pop}},v):v}function ED(){let t=DD(),e=vD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:r},n):null,i)}const TD=S.createElement(ED,null);class ND extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?S.createElement(ti.Provider,{value:this.props.routeContext},S.createElement(Hx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ID(t){let{routeContext:e,match:n,children:r}=t,i=S.useContext(ky);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(ti.Provider,{value:e},r)}function jD(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||it(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let h=l.route.id?o==null?void 0:o[l.route.id]:null,d=null;n&&(d=l.route.errorElement||TD);let f=e.concat(s.slice(0,u+1)),g=()=>{let v;return h?v=d:l.route.Component?v=S.createElement(l.route.Component,null):l.route.element?v=l.route.element:v=a,S.createElement(ID,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:v})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?S.createElement(ND,{location:n.location,revalidation:n.revalidation,component:d,error:h,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var Qx=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Qx||{}),mh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(mh||{});function AD(t){let e=S.useContext(ky);return e||it(!1),e}function OD(t){let e=S.useContext(wD);return e||it(!1),e}function PD(t){let e=S.useContext(ti);return e||it(!1),e}function Jx(t){let e=PD(),n=e.matches[e.matches.length-1];return n.route.id||it(!1),n.route.id}function DD(){var t;let e=S.useContext(Hx),n=OD(mh.UseRouteError),r=Jx(mh.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function RD(){let{router:t}=AD(Qx.UseNavigateStable),e=Jx(mh.UseNavigateStable),n=S.useRef(!1);return Kx(()=>{n.current=!0}),S.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,ph({fromRouteId:e},i)))},[t,e])}function LD(t){let{to:e,replace:n,state:r,relative:i}=t;la()||it(!1);let{matches:s}=S.useContext(ti),{pathname:o}=lu(),a=Ir(),l=Cy(e,xy(s).map(h=>h.pathnameBase),o,i==="path"),u=JSON.stringify(l);return S.useEffect(()=>a(JSON.parse(u),{replace:n,state:r,relative:i}),[a,u,i,n,r]),null}function cr(t){it(!1)}function MD(t){let{basename:e="/",children:n=null,location:r,navigationType:i=vi.Pop,navigator:s,static:o=!1}=t;la()&&it(!1);let a=e.replace(/^\/*/,"/"),l=S.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=oa(r));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:g="default"}=r,v=S.useMemo(()=>{let b=Sy(u,a);return b==null?null:{location:{pathname:b,search:h,hash:d,state:f,key:g},navigationType:i}},[a,u,h,d,f,g,i]);return v==null?null:S.createElement(aa.Provider,{value:l},S.createElement(ud.Provider,{children:n,value:v}))}function UD(t){let{children:e,location:n}=t;return CD(Sm(e),n)}new Promise(()=>{});function Sm(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let s=[...e,i];if(r.type===S.Fragment){n.push.apply(n,Sm(r.props.children,s));return}r.type!==cr&&it(!1),!r.props.index||!r.props.children||it(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Sm(r.props.children,s)),n.push(o)}),n}/**
* React Router DOM v6.16.0
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function xm(){return xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xm.apply(this,arguments)}function FD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function VD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zD(t,e){return t.button===0&&(!e||e==="_self")&&!VD(t)}const BD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],qD="startTransition",G0=tN[qD];function $D(t){let{basename:e,children:n,future:r,window:i}=t,s=S.useRef();s.current==null&&(s.current=QP({window:i,v5Compat:!0}));let o=s.current,[a,l]=S.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=S.useCallback(d=>{u&&G0?G0(()=>l(d)):l(d)},[l,u]);return S.useLayoutEffect(()=>o.listen(h),[o,h]),S.createElement(MD,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const WD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bt=S.forwardRef(function(t,e){let{onClick:n,relative:r,reloadDocument:i,replace:s,state:o,target:a,to:l,preventScrollReset:u}=t,h=FD(t,BD),{basename:d}=S.useContext(aa),f,g=!1;if(typeof l=="string"&&HD.test(l)&&(f=l,WD))try{let m=new URL(window.location.href),p=l.startsWith("//")?new URL(m.protocol+l):new URL(l),y=Sy(p.pathname,d);p.origin===m.origin&&y!=null?l=y+p.search+p.hash:g=!0}catch{}let v=_D(l,{relative:r}),b=KD(l,{replace:s,state:o,target:a,preventScrollReset:u,relative:r});function x(m){n&&n(m),m.defaultPrevented||b(m)}return S.createElement("a",xm({},h,{href:f||v,onClick:g||i?n:x,ref:e,target:a}))});var Q0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(Q0||(Q0={}));var J0;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(J0||(J0={}));function KD(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=Ir(),l=lu(),u=Gx(t,{relative:o});return S.useCallback(h=>{if(zD(h,n)){h.preventDefault();let d=r!==void 0?r:fh(l)===fh(u);a(t,{replace:d,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}const uu=S.createContext(),Xx=()=>S.useContext(uu),Js=({children:t})=>{const{user:e,isLoadingAuth:n}=S.useContext(uu);return n?null:e?t:c.jsx(LD,{to:"/login",replace:!0})},GD="_container_cnomo_1",QD="_nav_cnomo_9",JD="_logoContainer_cnomo_15",XD="_logo_cnomo_15",YD="_logoTitle_cnomo_25",ZD="_linksContainer_cnomo_40",eR="_link_cnomo_40",tR="_homeImgContainer_cnomo_60",nR="_homeImg_cnomo_60",rR="_linkBtn_cnomo_75",In={container:GD,nav:QD,logoContainer:JD,logo:XD,logoTitle:YD,linksContainer:ZD,link:eR,homeImgContainer:tR,homeImg:nR,linkBtn:rR},iR="_loading_xrayy_1",sR="_spinner_xrayy_9",oR="_spin_xrayy_9",X0={loading:iR,spinner:sR,spin:oR},Yx=()=>c.jsxs("div",{className:X0.loading,children:[c.jsx("div",{className:X0.spinner}),c.jsx("h2",{children:"Loading..."})]}),aR=()=>{const{user:t}=S.useContext(uu),e=Ir(),[n,r]=S.useState(!0);return S.useEffect(()=>{t?e("/feed"):r(!1)},[t,e]),c.jsx("div",{className:In.container,children:n?c.jsx(Yx,{}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:In.nav,children:[c.jsxs("div",{className:In.logoContainer,children:[c.jsx("img",{src:"/public/logo.jpg",alt:"Your Logo",className:In.logo}),c.jsx("div",{className:In.logoTitle,children:c.jsx("h1",{children:"TAKE OFF"})})]}),c.jsxs("div",{className:In.linksContainer,children:[c.jsx("button",{className:In.linkBtn,children:c.jsx(Bt,{to:"/register",className:In.link,children:"JOIN NOW"})}),c.jsx("button",{className:In.linkBtn,children:c.jsx(Bt,{to:"/login",className:In.link,children:"SIGN IN"})})]})]}),c.jsx("div",{className:In.homeImgContainer,children:c.jsx("img",{alt:"home",className:In.homeImg,src:"/public/homepage.svg"})})]})})},lR="_loginForm_tpvyz_5",uR="_formContent_tpvyz_15",cR="_formInput_tpvyz_19",hR="_errors_tpvyz_23",dR="_signInBtn_tpvyz_28",fR="_dividerContainer_tpvyz_43",pR="_divider_tpvyz_43",mR="_dividerContent_tpvyz_59",gR="_googleSignIn_tpvyz_67",yR="_registerContainer_tpvyz_81",vR="_formGroup_tpvyz_98",bR="_error_tpvyz_23",wR="_passwordContainer_tpvyz_162",_R="_registerButton_tpvyz_1",SR="_GSignInBtn_tpvyz_197",ur={loginForm:lR,formContent:uR,formInput:cR,errors:hR,signInBtn:dR,dividerContainer:fR,divider:pR,dividerContent:mR,googleSignIn:gR,registerContainer:yR,formGroup:vR,error:bR,passwordContainer:wR,registerButton:_R,GSignInBtn:SR};var cu=t=>t.type==="checkbox",go=t=>t instanceof Date,en=t=>t==null;const Zx=t=>typeof t=="object";var gt=t=>!en(t)&&!Array.isArray(t)&&Zx(t)&&!go(t),xR=t=>gt(t)&&t.target?cu(t.target)?t.target.checked:t.target.value:t,CR=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,kR=(t,e)=>t.has(CR(e)),ER=t=>{const e=t.constructor&&t.constructor.prototype;return gt(e)&&e.hasOwnProperty("isPrototypeOf")},Ey=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Pr(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Ey&&(t instanceof Blob||t instanceof FileList))&&(n||gt(t)))if(e=n?[]:{},!n&&!ER(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Pr(t[r]));else return t;return e}var hu=t=>Array.isArray(t)?t.filter(Boolean):[],at=t=>t===void 0,ee=(t,e,n)=>{if(!e||!gt(t))return n;const r=hu(e.split(/[,[\].]+?/)).reduce((i,s)=>en(i)?i:i[s],t);return at(r)||r===t?at(t[e])?n:t[e]:r},cs=t=>typeof t=="boolean";const Y0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Jn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},jr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};It.createContext(null);var TR=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Jn.all&&(e._proxyFormState[o]=!r||Jn.all),n&&(n[o]=!0),t[o]}});return i},jn=t=>gt(t)&&!Object.keys(t).length,NR=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return jn(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||Jn.all))},Wf=t=>Array.isArray(t)?t:[t];function IR(t){const e=It.useRef(t);e.current=t,It.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var mr=t=>typeof t=="string",jR=(t,e,n,r,i)=>mr(t)?(r&&e.watch.add(t),ee(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),ee(n,s))):(r&&(e.watchAll=!0),n),Ty=t=>/^\w*$/.test(t),eC=t=>hu(t.replace(/["|']|\]/g,"").split(/\.|\[/));function Be(t,e,n){let r=-1;const i=Ty(e)?[e]:eC(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=gt(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t}var AR=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{};const Cm=(t,e,n)=>{for(const r of n||Object.keys(t)){const i=ee(t,r);if(i){const{_f:s,...o}=i;if(s&&e(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else gt(o)&&Cm(o,e)}}};var Z0=t=>({isOnSubmit:!t||t===Jn.onSubmit,isOnBlur:t===Jn.onBlur,isOnChange:t===Jn.onChange,isOnAll:t===Jn.all,isOnTouch:t===Jn.onTouched}),ew=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),OR=(t,e,n)=>{const r=hu(ee(t,n));return Be(r,"root",e[n]),Be(t,n,r),t},Ny=t=>t.type==="file",bi=t=>typeof t=="function",gh=t=>{if(!Ey)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Ic=t=>mr(t),Iy=t=>t.type==="radio",yh=t=>t instanceof RegExp;const tw={value:!1,isValid:!1},nw={value:!0,isValid:!0};var tC=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!at(t[0].attributes.value)?at(t[0].value)||t[0].value===""?nw:{value:t[0].value,isValid:!0}:nw:tw}return tw};const rw={isValid:!1,value:null};var nC=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,rw):rw;function iw(t,e,n="validate"){if(Ic(t)||Array.isArray(t)&&t.every(Ic)||cs(t)&&!t)return{type:n,message:Ic(t)?t:"",ref:e}}var Xs=t=>gt(t)&&!yh(t)?t:{value:t,message:""},sw=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:h,max:d,pattern:f,validate:g,name:v,valueAsNumber:b,mount:x,disabled:m}=t._f,p=ee(e,v);if(!x||m)return{};const y=o?o[0]:s,w=K=>{r&&y.reportValidity&&(y.setCustomValidity(cs(K)?"":K||""),y.reportValidity())},k={},I=Iy(s),A=cu(s),O=I||A,z=(b||Ny(s))&&at(s.value)&&at(p)||gh(s)&&s.value===""||p===""||Array.isArray(p)&&!p.length,W=AR.bind(null,v,n,k),me=(K,ie,T,P=jr.maxLength,U=jr.minLength)=>{const E=K?ie:T;k[v]={type:K?P:U,message:E,ref:s,...W(K?P:U,E)}};if(i?!Array.isArray(p)||!p.length:a&&(!O&&(z||en(p))||cs(p)&&!p||A&&!tC(o).isValid||I&&!nC(o).isValid)){const{value:K,message:ie}=Ic(a)?{value:!!a,message:a}:Xs(a);if(K&&(k[v]={type:jr.required,message:ie,ref:y,...W(jr.required,ie)},!n))return w(ie),k}if(!z&&(!en(h)||!en(d))){let K,ie;const T=Xs(d),P=Xs(h);if(!en(p)&&!isNaN(p)){const U=s.valueAsNumber||p&&+p;en(T.value)||(K=U>T.value),en(P.value)||(ie=U<P.value)}else{const U=s.valueAsDate||new Date(p),E=H=>new Date(new Date().toDateString()+" "+H),N=s.type=="time",L=s.type=="week";mr(T.value)&&p&&(K=N?E(p)>E(T.value):L?p>T.value:U>new Date(T.value)),mr(P.value)&&p&&(ie=N?E(p)<E(P.value):L?p<P.value:U<new Date(P.value))}if((K||ie)&&(me(!!K,T.message,P.message,jr.max,jr.min),!n))return w(k[v].message),k}if((l||u)&&!z&&(mr(p)||i&&Array.isArray(p))){const K=Xs(l),ie=Xs(u),T=!en(K.value)&&p.length>+K.value,P=!en(ie.value)&&p.length<+ie.value;if((T||P)&&(me(T,K.message,ie.message),!n))return w(k[v].message),k}if(f&&!z&&mr(p)){const{value:K,message:ie}=Xs(f);if(yh(K)&&!p.match(K)&&(k[v]={type:jr.pattern,message:ie,ref:s,...W(jr.pattern,ie)},!n))return w(ie),k}if(g){if(bi(g)){const K=await g(p,e),ie=iw(K,y);if(ie&&(k[v]={...ie,...W(jr.validate,ie.message)},!n))return w(ie.message),k}else if(gt(g)){let K={};for(const ie in g){if(!jn(K)&&!n)break;const T=iw(await g[ie](p,e),y,ie);T&&(K={...T,...W(ie,T.message)},w(T.message),n&&(k[v]=K))}if(!jn(K)&&(k[v]={ref:y,...K},!n))return k}}return w(!0),k};function PR(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=at(t)?r++:t[e[r++]];return t}function DR(t){for(const e in t)if(t.hasOwnProperty(e)&&!at(t[e]))return!1;return!0}function kt(t,e){const n=Array.isArray(e)?e:Ty(e)?[e]:eC(e),r=n.length===1?t:PR(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(gt(r)&&jn(r)||Array.isArray(r)&&DR(r))&&kt(t,n.slice(0,-1)),t}function Hf(){let t=[];return{get observers(){return t},next:e=>{for(const n of t)n.next&&n.next(e)},subscribe:e=>(t.push(e),{unsubscribe:()=>{t=t.filter(n=>n!==e)}}),unsubscribe:()=>{t=[]}}}var vh=t=>en(t)||!Zx(t);function hs(t,e){if(vh(t)||vh(e))return t===e;if(go(t)&&go(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(go(s)&&go(o)||gt(s)&&gt(o)||Array.isArray(s)&&Array.isArray(o)?!hs(s,o):s!==o)return!1}}return!0}var rC=t=>t.type==="select-multiple",RR=t=>Iy(t)||cu(t),Kf=t=>gh(t)&&t.isConnected,iC=t=>{for(const e in t)if(bi(t[e]))return!0;return!1};function bh(t,e={}){const n=Array.isArray(t);if(gt(t)||n)for(const r in t)Array.isArray(t[r])||gt(t[r])&&!iC(t[r])?(e[r]=Array.isArray(t[r])?[]:{},bh(t[r],e[r])):en(t[r])||(e[r]=!0);return e}function sC(t,e,n){const r=Array.isArray(t);if(gt(t)||r)for(const i in t)Array.isArray(t[i])||gt(t[i])&&!iC(t[i])?at(e)||vh(n[i])?n[i]=Array.isArray(t[i])?bh(t[i],[]):{...bh(t[i])}:sC(t[i],en(e)?{}:e[i],n[i]):n[i]=!hs(t[i],e[i]);return n}var Gf=(t,e)=>sC(t,e,bh(e)),oC=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>at(t)?t:e?t===""?NaN:t&&+t:n&&mr(t)?new Date(t):r?r(t):t;function Qf(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return Ny(e)?e.files:Iy(e)?nC(t.refs).value:rC(e)?[...e.selectedOptions].map(({value:n})=>n):cu(e)?tC(t.refs).value:oC(at(e.value)?t.ref.value:e.value,t)}var LR=(t,e,n,r)=>{const i={};for(const s of t){const o=ee(e,s);o&&Be(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Ta=t=>at(t)?t:yh(t)?t.source:gt(t)?yh(t.value)?t.value.source:t.value:t,MR=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function ow(t,e,n){const r=ee(t,n);if(r||Ty(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=ee(e,s),a=ee(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var UR=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,FR=(t,e)=>!hu(ee(t,e)).length&&kt(t,e);const VR={mode:Jn.onSubmit,reValidateMode:Jn.onChange,shouldFocusError:!0};function zR(t={},e){let n={...VR,...t},r={submitCount:0,isDirty:!1,isLoading:bi(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},s=gt(n.defaultValues)||gt(n.values)?Pr(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:Pr(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,h=0;const d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Hf(),array:Hf(),state:Hf()},g=t.resetOptions&&t.resetOptions.keepDirtyValues,v=Z0(n.mode),b=Z0(n.reValidateMode),x=n.criteriaMode===Jn.all,m=C=>j=>{clearTimeout(h),h=setTimeout(C,j)},p=async C=>{if(d.isValid||C){const j=n.resolver?jn((await z()).errors):await me(i,!0);j!==r.isValid&&f.state.next({isValid:j})}},y=C=>d.isValidating&&f.state.next({isValidating:C}),w=(C,j=[],_,q,F=!0,R=!0)=>{if(q&&_){if(a.action=!0,R&&Array.isArray(ee(i,C))){const Q=_(ee(i,C),q.argA,q.argB);F&&Be(i,C,Q)}if(R&&Array.isArray(ee(r.errors,C))){const Q=_(ee(r.errors,C),q.argA,q.argB);F&&Be(r.errors,C,Q),FR(r.errors,C)}if(d.touchedFields&&R&&Array.isArray(ee(r.touchedFields,C))){const Q=_(ee(r.touchedFields,C),q.argA,q.argB);F&&Be(r.touchedFields,C,Q)}d.dirtyFields&&(r.dirtyFields=Gf(s,o)),f.state.next({name:C,isDirty:ie(C,j),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Be(o,C,j)},k=(C,j)=>{Be(r.errors,C,j),f.state.next({errors:r.errors})},I=(C,j,_,q)=>{const F=ee(i,C);if(F){const R=ee(o,C,at(_)?ee(s,C):_);at(R)||q&&q.defaultChecked||j?Be(o,C,j?R:Qf(F._f)):U(C,R),a.mount&&p()}},A=(C,j,_,q,F)=>{let R=!1,Q=!1;const xe={name:C};if(!_||q){d.isDirty&&(Q=r.isDirty,r.isDirty=xe.isDirty=ie(),R=Q!==xe.isDirty);const Ee=hs(ee(s,C),j);Q=ee(r.dirtyFields,C),Ee?kt(r.dirtyFields,C):Be(r.dirtyFields,C,!0),xe.dirtyFields=r.dirtyFields,R=R||d.dirtyFields&&Q!==!Ee}if(_){const Ee=ee(r.touchedFields,C);Ee||(Be(r.touchedFields,C,_),xe.touchedFields=r.touchedFields,R=R||d.touchedFields&&Ee!==_)}return R&&F&&f.state.next(xe),R?xe:{}},O=(C,j,_,q)=>{const F=ee(r.errors,C),R=d.isValid&&cs(j)&&r.isValid!==j;if(t.delayError&&_?(u=m(()=>k(C,_)),u(t.delayError)):(clearTimeout(h),u=null,_?Be(r.errors,C,_):kt(r.errors,C)),(_?!hs(F,_):F)||!jn(q)||R){const Q={...q,...R&&cs(j)?{isValid:j}:{},errors:r.errors,name:C};r={...r,...Q},f.state.next(Q)}y(!1)},z=async C=>n.resolver(o,n.context,LR(C||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),W=async C=>{const{errors:j}=await z(C);if(C)for(const _ of C){const q=ee(j,_);q?Be(r.errors,_,q):kt(r.errors,_)}else r.errors=j;return j},me=async(C,j,_={valid:!0})=>{for(const q in C){const F=C[q];if(F){const{_f:R,...Q}=F;if(R){const xe=l.array.has(R.name),Ee=await sw(F,o,x,n.shouldUseNativeValidation&&!j,xe);if(Ee[R.name]&&(_.valid=!1,j))break;!j&&(ee(Ee,R.name)?xe?OR(r.errors,Ee,R.name):Be(r.errors,R.name,Ee[R.name]):kt(r.errors,R.name))}Q&&await me(Q,j,_)}}return _.valid},K=()=>{for(const C of l.unMount){const j=ee(i,C);j&&(j._f.refs?j._f.refs.every(_=>!Kf(_)):!Kf(j._f.ref))&&ze(C)}l.unMount=new Set},ie=(C,j)=>(C&&j&&Be(o,C,j),!hs(te(),s)),T=(C,j,_)=>jR(C,l,{...a.mount?o:at(j)?s:mr(C)?{[C]:j}:j},_,j),P=C=>hu(ee(a.mount?o:s,C,t.shouldUnregister?ee(s,C,[]):[])),U=(C,j,_={})=>{const q=ee(i,C);let F=j;if(q){const R=q._f;R&&(!R.disabled&&Be(o,C,oC(j,R)),F=gh(R.ref)&&en(j)?"":j,rC(R.ref)?[...R.ref.options].forEach(Q=>Q.selected=F.includes(Q.value)):R.refs?cu(R.ref)?R.refs.length>1?R.refs.forEach(Q=>(!Q.defaultChecked||!Q.disabled)&&(Q.checked=Array.isArray(F)?!!F.find(xe=>xe===Q.value):F===Q.value)):R.refs[0]&&(R.refs[0].checked=!!F):R.refs.forEach(Q=>Q.checked=Q.value===F):Ny(R.ref)?R.ref.value="":(R.ref.value=F,R.ref.type||f.values.next({name:C,values:{...o}})))}(_.shouldDirty||_.shouldTouch)&&A(C,F,_.shouldTouch,_.shouldDirty,!0),_.shouldValidate&&H(C)},E=(C,j,_)=>{for(const q in j){const F=j[q],R=`${C}.${q}`,Q=ee(i,R);(l.array.has(C)||!vh(F)||Q&&!Q._f)&&!go(F)?E(R,F,_):U(R,F,_)}},N=(C,j,_={})=>{const q=ee(i,C),F=l.array.has(C),R=Pr(j);Be(o,C,R),F?(f.array.next({name:C,values:{...o}}),(d.isDirty||d.dirtyFields)&&_.shouldDirty&&f.state.next({name:C,dirtyFields:Gf(s,o),isDirty:ie(C,R)})):q&&!q._f&&!en(R)?E(C,R,_):U(C,R,_),ew(C,l)&&f.state.next({...r}),f.values.next({name:C,values:{...o}}),!a.mount&&e()},L=async C=>{const j=C.target;let _=j.name,q=!0;const F=ee(i,_),R=()=>j.type?Qf(F._f):xR(C);if(F){let Q,xe;const Ee=R(),zn=C.type===Y0.BLUR||C.type===Y0.FOCUS_OUT,of=!MR(F._f)&&!n.resolver&&!ee(r.errors,_)&&!F._f.deps||UR(zn,ee(r.touchedFields,_),r.isSubmitted,b,v),Ks=ew(_,l,zn);Be(o,_,Ee),zn?(F._f.onBlur&&F._f.onBlur(C),u&&u(0)):F._f.onChange&&F._f.onChange(C);const es=A(_,Ee,zn,!1),af=!jn(es)||Ks;if(!zn&&f.values.next({name:_,type:C.type,values:{...o}}),of)return d.isValid&&p(),af&&f.state.next({name:_,...Ks?{}:es});if(!zn&&Ks&&f.state.next({...r}),y(!0),n.resolver){const{errors:Gs}=await z([_]),Au=ow(r.errors,i,_),Ou=ow(Gs,i,Au.name||_);Q=Ou.error,_=Ou.name,xe=jn(Gs)}else Q=(await sw(F,o,x,n.shouldUseNativeValidation))[_],q=Number.isNaN(Ee)||Ee===ee(o,_,Ee),q&&(Q?xe=!1:d.isValid&&(xe=await me(i,!0)));q&&(F._f.deps&&H(F._f.deps),O(_,xe,Q,es))}},H=async(C,j={})=>{let _,q;const F=Wf(C);if(y(!0),n.resolver){const R=await W(at(C)?C:F);_=jn(R),q=C?!F.some(Q=>ee(R,Q)):_}else C?(q=(await Promise.all(F.map(async R=>{const Q=ee(i,R);return await me(Q&&Q._f?{[R]:Q}:Q)}))).every(Boolean),!(!q&&!r.isValid)&&p()):q=_=await me(i);return f.state.next({...!mr(C)||d.isValid&&_!==r.isValid?{}:{name:C},...n.resolver||!C?{isValid:_}:{},errors:r.errors,isValidating:!1}),j.shouldFocus&&!q&&Cm(i,R=>R&&ee(r.errors,R),C?F:l.mount),q},te=C=>{const j={...s,...a.mount?o:{}};return at(C)?j:mr(C)?ee(j,C):C.map(_=>ee(j,_))},ge=(C,j)=>({invalid:!!ee((j||r).errors,C),isDirty:!!ee((j||r).dirtyFields,C),isTouched:!!ee((j||r).touchedFields,C),error:ee((j||r).errors,C)}),nt=C=>{C&&Wf(C).forEach(j=>kt(r.errors,j)),f.state.next({errors:C?r.errors:{}})},Pe=(C,j,_)=>{const q=(ee(i,C,{_f:{}})._f||{}).ref;Be(r.errors,C,{...j,ref:q}),f.state.next({name:C,errors:r.errors,isValid:!1}),_&&_.shouldFocus&&q&&q.focus&&q.focus()},Rt=(C,j)=>bi(C)?f.values.subscribe({next:_=>C(T(void 0,j),_)}):T(C,j,!0),ze=(C,j={})=>{for(const _ of C?Wf(C):l.mount)l.mount.delete(_),l.array.delete(_),j.keepValue||(kt(i,_),kt(o,_)),!j.keepError&&kt(r.errors,_),!j.keepDirty&&kt(r.dirtyFields,_),!j.keepTouched&&kt(r.touchedFields,_),!n.shouldUnregister&&!j.keepDefaultValue&&kt(s,_);f.values.next({values:{...o}}),f.state.next({...r,...j.keepDirty?{isDirty:ie()}:{}}),!j.keepIsValid&&p()},yt=({disabled:C,name:j,field:_,fields:q})=>{if(cs(C)){const F=C?void 0:ee(o,j,Qf(_?_._f:ee(q,j)._f));Be(o,j,F),A(j,F,!1,!1,!0)}},on=(C,j={})=>{let _=ee(i,C);const q=cs(j.disabled);return Be(i,C,{..._||{},_f:{..._&&_._f?_._f:{ref:{name:C}},name:C,mount:!0,...j}}),l.mount.add(C),_?yt({field:_,disabled:j.disabled,name:C}):I(C,!0,j.value),{...q?{disabled:j.disabled}:{},...n.progressive?{required:!!j.required,min:Ta(j.min),max:Ta(j.max),minLength:Ta(j.minLength),maxLength:Ta(j.maxLength),pattern:Ta(j.pattern)}:{},name:C,onChange:L,onBlur:L,ref:F=>{if(F){on(C,j),_=ee(i,C);const R=at(F.value)&&F.querySelectorAll&&F.querySelectorAll("input,select,textarea")[0]||F,Q=RR(R),xe=_._f.refs||[];if(Q?xe.find(Ee=>Ee===R):R===_._f.ref)return;Be(i,C,{_f:{..._._f,...Q?{refs:[...xe.filter(Kf),R,...Array.isArray(ee(s,C))?[{}]:[]],ref:{type:R.type,name:C}}:{ref:R}}}),I(C,!1,void 0,R)}else _=ee(i,C,{}),_._f&&(_._f.mount=!1),(n.shouldUnregister||j.shouldUnregister)&&!(kR(l.array,C)&&a.action)&&l.unMount.add(C)}}},Zi=()=>n.shouldFocusError&&Cm(i,C=>C&&ee(r.errors,C),l.mount),ni=(C,j)=>async _=>{_&&(_.preventDefault&&_.preventDefault(),_.persist&&_.persist());let q=Pr(o);if(f.state.next({isSubmitting:!0}),n.resolver){const{errors:F,values:R}=await z();r.errors=F,q=R}else await me(i);kt(r.errors,"root"),jn(r.errors)?(f.state.next({errors:{}}),await C(q,_)):(j&&await j({...r.errors},_),Zi(),setTimeout(Zi)),f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:jn(r.errors),submitCount:r.submitCount+1,errors:r.errors})},mn=(C,j={})=>{ee(i,C)&&(at(j.defaultValue)?N(C,ee(s,C)):(N(C,j.defaultValue),Be(s,C,j.defaultValue)),j.keepTouched||kt(r.touchedFields,C),j.keepDirty||(kt(r.dirtyFields,C),r.isDirty=j.defaultValue?ie(C,ee(s,C)):ie()),j.keepError||(kt(r.errors,C),d.isValid&&p()),f.state.next({...r}))},or=(C,j={})=>{const _=C?Pr(C):s,q=Pr(_),F=C&&!jn(C)?q:s;if(j.keepDefaultValues||(s=_),!j.keepValues){if(j.keepDirtyValues||g)for(const R of l.mount)ee(r.dirtyFields,R)?Be(F,R,ee(o,R)):N(R,ee(F,R));else{if(Ey&&at(C))for(const R of l.mount){const Q=ee(i,R);if(Q&&Q._f){const xe=Array.isArray(Q._f.refs)?Q._f.refs[0]:Q._f.ref;if(gh(xe)){const Ee=xe.closest("form");if(Ee){Ee.reset();break}}}}i={}}o=t.shouldUnregister?j.keepDefaultValues?Pr(s):{}:Pr(F),f.array.next({values:{...F}}),f.values.next({values:{...F}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!d.isValid||!!j.keepIsValid,a.watch=!!t.shouldUnregister,f.state.next({submitCount:j.keepSubmitCount?r.submitCount:0,isDirty:j.keepDirty?r.isDirty:!!(j.keepDefaultValues&&!hs(C,s)),isSubmitted:j.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:j.keepDirtyValues?r.dirtyFields:j.keepDefaultValues&&C?Gf(s,C):{},touchedFields:j.keepTouched?r.touchedFields:{},errors:j.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},ri=(C,j)=>or(bi(C)?C(o):C,j);return{control:{register:on,unregister:ze,getFieldState:ge,handleSubmit:ni,setError:Pe,_executeSchema:z,_getWatch:T,_getDirty:ie,_updateValid:p,_removeUnmounted:K,_updateFieldArray:w,_updateDisabledField:yt,_getFieldArray:P,_reset:or,_resetDefaultValues:()=>bi(n.defaultValues)&&n.defaultValues().then(C=>{ri(C,n.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:C=>{r={...r,...C}},_subjects:f,_proxyFormState:d,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(C){a=C},get _defaultValues(){return s},get _names(){return l},set _names(C){l=C},get _formState(){return r},set _formState(C){r=C},get _options(){return n},set _options(C){n={...n,...C}}},trigger:H,register:on,handleSubmit:ni,watch:Rt,setValue:N,getValues:te,reset:ri,resetField:mn,clearErrors:nt,unregister:ze,setError:Pe,setFocus:(C,j={})=>{const _=ee(i,C),q=_&&_._f;if(q){const F=q.refs?q.refs[0]:q.ref;F.focus&&(F.focus(),j.shouldSelect&&F.select())}},getFieldState:ge}}function jy(t={}){const e=It.useRef(),n=It.useRef(),[r,i]=It.useState({isDirty:!1,isValidating:!1,isLoading:bi(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:bi(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...zR(t,()=>i(o=>({...o}))),formState:r});const s=e.current.control;return s._options=t,IR({subject:s._subjects.state,next:o=>{NR(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),It.useEffect(()=>{t.values&&!hs(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values):s._resetDefaultValues()},[t.values,s]),It.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=TR(r,s),e.current}var aC={exports:{}},lC={};/**
* @license React
* use-sync-external-store-shim.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var qo=S;function BR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qR=typeof Object.is=="function"?Object.is:BR,$R=qo.useState,WR=qo.useEffect,HR=qo.useLayoutEffect,KR=qo.useDebugValue;function GR(t,e){var n=e(),r=$R({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return HR(function(){i.value=n,i.getSnapshot=e,Jf(i)&&s({inst:i})},[t,n,e]),WR(function(){return Jf(i)&&s({inst:i}),t(function(){Jf(i)&&s({inst:i})})},[t]),KR(n),n}function Jf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qR(t,n)}catch{return!0}}function QR(t,e){return e()}var JR=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?QR:GR;lC.useSyncExternalStore=qo.useSyncExternalStore!==void 0?qo.useSyncExternalStore:JR;aC.exports=lC;var XR=aC.exports;/**
* @license React
* use-sync-external-store-shim/with-selector.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var cd=S,YR=XR;YR.useSyncExternalStore;cd.useRef;cd.useEffect;cd.useMemo;cd.useDebugValue;function ZR(t){t()}let uC=ZR;const e2=t=>uC=t,t2=()=>uC,aw=Symbol.for("react-redux-context"),lw=typeof globalThis<"u"?globalThis:{};function n2(){var t;if(!S.createContext)return{};const e=(t=lw[aw])!=null?t:lw[aw]=new Map;let n=e.get(S.createContext);return n||(n=S.createContext(null),e.set(S.createContext,n)),n}const r2=n2();var cC={exports:{}},Oe={};/** @license React v16.13.1
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var St=typeof Symbol=="function"&&Symbol.for,Ay=St?Symbol.for("react.element"):60103,Oy=St?Symbol.for("react.portal"):60106,hd=St?Symbol.for("react.fragment"):60107,dd=St?Symbol.for("react.strict_mode"):60108,fd=St?Symbol.for("react.profiler"):60114,pd=St?Symbol.for("react.provider"):60109,md=St?Symbol.for("react.context"):60110,Py=St?Symbol.for("react.async_mode"):60111,gd=St?Symbol.for("react.concurrent_mode"):60111,yd=St?Symbol.for("react.forward_ref"):60112,vd=St?Symbol.for("react.suspense"):60113,i2=St?Symbol.for("react.suspense_list"):60120,bd=St?Symbol.for("react.memo"):60115,wd=St?Symbol.for("react.lazy"):60116,s2=St?Symbol.for("react.block"):60121,o2=St?Symbol.for("react.fundamental"):60117,a2=St?Symbol.for("react.responder"):60118,l2=St?Symbol.for("react.scope"):60119;function Nn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ay:switch(t=t.type,t){case Py:case gd:case hd:case fd:case dd:case vd:return t;default:switch(t=t&&t.$$typeof,t){case md:case yd:case wd:case bd:case pd:return t;default:return e}}case Oy:return e}}}function hC(t){return Nn(t)===gd}Oe.AsyncMode=Py;Oe.ConcurrentMode=gd;Oe.ContextConsumer=md;Oe.ContextProvider=pd;Oe.Element=Ay;Oe.ForwardRef=yd;Oe.Fragment=hd;Oe.Lazy=wd;Oe.Memo=bd;Oe.Portal=Oy;Oe.Profiler=fd;Oe.StrictMode=dd;Oe.Suspense=vd;Oe.isAsyncMode=function(t){return hC(t)||Nn(t)===Py};Oe.isConcurrentMode=hC;Oe.isContextConsumer=function(t){return Nn(t)===md};Oe.isContextProvider=function(t){return Nn(t)===pd};Oe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ay};Oe.isForwardRef=function(t){return Nn(t)===yd};Oe.isFragment=function(t){return Nn(t)===hd};Oe.isLazy=function(t){return Nn(t)===wd};Oe.isMemo=function(t){return Nn(t)===bd};Oe.isPortal=function(t){return Nn(t)===Oy};Oe.isProfiler=function(t){return Nn(t)===fd};Oe.isStrictMode=function(t){return Nn(t)===dd};Oe.isSuspense=function(t){return Nn(t)===vd};Oe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===hd||t===gd||t===fd||t===dd||t===vd||t===i2||typeof t=="object"&&t!==null&&(t.$$typeof===wd||t.$$typeof===bd||t.$$typeof===pd||t.$$typeof===md||t.$$typeof===yd||t.$$typeof===o2||t.$$typeof===a2||t.$$typeof===l2||t.$$typeof===s2)};Oe.typeOf=Nn;cC.exports=Oe;var u2=cC.exports,dC=u2,c2={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},h2={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},fC={};fC[dC.ForwardRef]=c2;fC[dC.Memo]=h2;function d2(){const t=t2();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const uw={notify(){},get:()=>[]};function f2(t,e){let n,r=uw;function i(d){return l(),r.subscribe(d)}function s(){r.notify()}function o(){h.onStateChange&&h.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=d2())}function u(){n&&(n(),n=void 0,r.clear(),r=uw)}const h={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return h}const p2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",m2=p2?S.useLayoutEffect:S.useEffect;function g2({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",noopCheck:s="once"}){const o=S.useMemo(()=>{const u=f2(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:s}},[t,r,i,s]),a=S.useMemo(()=>t.getState(),[t]);m2(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=e||r2;return S.createElement(l.Provider,{value:o},n)}e2(ay.unstable_batchedUpdates);var y2="firebase",v2="10.5.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/_r(y2,v2,"app");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pC="firebasestorage.googleapis.com",mC="storageBucket",b2=2*60*1e3,w2=10*60*1e3;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tt extends Nr{constructor(e,n,r=0){super(Xf(e),`Firebase Storage: ${n} (${Xf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,tt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Xf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ze;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ze||(Ze={}));function Xf(t){return"storage/"+t}function Dy(){const t="An unknown error occurred, please check the error payload for server response.";return new tt(Ze.UNKNOWN,t)}function _2(t){return new tt(Ze.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function S2(t){return new tt(Ze.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function x2(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new tt(Ze.UNAUTHENTICATED,t)}function C2(){return new tt(Ze.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function k2(t){return new tt(Ze.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function E2(){return new tt(Ze.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function T2(){return new tt(Ze.CANCELED,"User canceled the upload/download.")}function N2(t){return new tt(Ze.INVALID_URL,"Invalid URL '"+t+"'.")}function I2(t){return new tt(Ze.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function j2(){return new tt(Ze.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+mC+"' property when initializing the app?")}function A2(){return new tt(Ze.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function O2(){return new tt(Ze.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function P2(t){return new tt(Ze.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function km(t){return new tt(Ze.INVALID_ARGUMENT,t)}function gC(){return new tt(Ze.APP_DELETED,"The Firebase app was deleted.")}function D2(t){return new tt(Ze.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function tl(t,e){return new tt(Ze.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Na(t){throw new tt(Ze.INTERNAL_ERROR,"Internal error: "+t)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=bn.makeFromUrl(e,n)}catch{return new bn(e,"")}if(r.path==="")return r;throw I2(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(y){y.path.charAt(y.path.length-1)==="/"&&(y.path_=y.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(y){y.path_=decodeURIComponent(y.path)}const h="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${d}/${h}/b/${i}/o${f}`,"i"),v={bucket:1,path:3},b=n===pC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",m=new RegExp(`^https?://${b}/${i}/${x}`,"i"),p=[{regex:a,indices:l,postModify:s},{regex:g,indices:v,postModify:u},{regex:m,indices:{bucket:1,path:2},postModify:u}];for(let y=0;y<p.length;y++){const w=p[y],k=w.regex.exec(e);if(k){const I=k[w.indices.bucket];let A=k[w.indices.path];A||(A=""),r=new bn(I,A),w.postModify(r);break}}if(r==null)throw N2(e);return r}}class R2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function L2(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function h(...x){u||(u=!0,e.apply(null,x))}function d(x){i=setTimeout(()=>{i=null,t(g,l())},x)}function f(){s&&clearTimeout(s)}function g(x,...m){if(u){f();return}if(x){f(),h.call(null,x,...m);return}if(l()||o){f(),h.call(null,x,...m);return}r<64&&(r*=2);let p;a===1?(a=2,p=0):p=(r+Math.random())*1e3,d(p)}let v=!1;function b(x){v||(v=!0,f(),!u&&(i!==null?(x||(a=2),clearTimeout(i),d(0)):x||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,b(!0)},n),b}function M2(t){t(!1)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function U2(t){return t!==void 0}function F2(t){return typeof t=="object"&&!Array.isArray(t)}function Ry(t){return typeof t=="string"||t instanceof String}function cw(t){return Ly()&&t instanceof Blob}function Ly(){return typeof Blob<"u"&&!wj()}function hw(t,e,n,r){if(r<e)throw km(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw km(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function My(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function yC(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var vs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(vs||(vs={}));/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function V2(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||r||i}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class z2{constructor(e,n,r,i,s,o,a,l,u,h,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,v)=>{this.resolve_=g,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new ec(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===vs.NO_ERROR,l=s.getStatus();if(!a||V2(l,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===vs.ABORT;r(!1,new ec(!1,null,h));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new ec(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());U2(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Dy();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?gC():T2();o(l)}else{const l=E2();o(l)}};this.canceled_?n(!1,new ec(!1,null,!0)):this.backoffId_=L2(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&M2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ec{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function B2(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function q2(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function $2(t,e){e&&(t["X-Firebase-GMPID"]=e)}function W2(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function H2(t,e,n,r,i,s,o=!0){const a=yC(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return $2(u,e),B2(u,n),q2(u,s),W2(u,r),new z2(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function K2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function G2(...t){const e=K2();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Ly())return new Blob(t);throw new tt(Ze.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Q2(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function J2(t){if(typeof atob>"u")throw P2("base-64");return atob(t)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const gr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Yf{constructor(e,n){this.data=e,this.contentType=n||null}}function X2(t,e){switch(t){case gr.RAW:return new Yf(vC(e));case gr.BASE64:case gr.BASE64URL:return new Yf(bC(t,e));case gr.DATA_URL:return new Yf(Z2(e),eL(e))}throw Dy()}function vC(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,s=t.charCodeAt(++n);r=65536|(i&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Y2(t){let e;try{e=decodeURIComponent(t)}catch{throw tl(gr.DATA_URL,"Malformed data URL.")}return vC(e)}function bC(t,e){switch(t){case gr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw tl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case gr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw tl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=J2(e)}catch(i){throw i.message.includes("polyfill")?i:tl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class wC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw tl(gr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=tL(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Z2(t){const e=new wC(t);return e.base64?bC(gr.BASE64,e.rest):Y2(e.rest)}function eL(t){return new wC(t).contentType}function tL(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pi{constructor(e,n){let r=0,i="";cw(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(cw(this.data_)){const r=this.data_,i=Q2(r,e,n);return i===null?null:new pi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new pi(r,!0)}}static getBlob(...e){if(Ly()){const n=e.map(r=>r instanceof pi?r.data_:r);return new pi(G2.apply(null,n))}else{const n=e.map(o=>Ry(o)?X2(gr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new pi(i,!0)}}uploadData(){return this.data_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _C(t){let e;try{e=JSON.parse(t)}catch{return null}return F2(e)?e:null}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function rL(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function SC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function iL(t,e){return e}class Yt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||iL}}let tc=null;function sL(t){return!Ry(t)||t.length<2?t:SC(t)}function xC(){if(tc)return tc;const t=[];t.push(new Yt("bucket")),t.push(new Yt("generation")),t.push(new Yt("metageneration")),t.push(new Yt("name","fullPath",!0));function e(s,o){return sL(o)}const n=new Yt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Yt("size");return i.xform=r,t.push(i),t.push(new Yt("timeCreated")),t.push(new Yt("updated")),t.push(new Yt("md5Hash",null,!0)),t.push(new Yt("cacheControl",null,!0)),t.push(new Yt("contentDisposition",null,!0)),t.push(new Yt("contentEncoding",null,!0)),t.push(new Yt("contentLanguage",null,!0)),t.push(new Yt("contentType",null,!0)),t.push(new Yt("metadata","customMetadata",!0)),tc=t,tc}function oL(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new bn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function aL(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return oL(r,t),r}function CC(t,e,n){const r=_C(e);return r===null?null:aL(t,r,n)}function lL(t,e,n,r){const i=_C(e);if(i===null||!Ry(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(a=>{const l=t.bucket,u=t.fullPath,h="/b/"+o(l)+"/o/"+o(u),d=My(h,n,r),f=yC({alt:"media",token:a});return d+f})[0]}function uL(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class kC{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function EC(t){if(!t)throw Dy()}function cL(t,e){function n(r,i){const s=CC(t,i,e);return EC(s!==null),s}return n}function hL(t,e){function n(r,i){const s=CC(t,i,e);return EC(s!==null),lL(s,i,t.host,t._protocol)}return n}function TC(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=C2():i=x2():n.getStatus()===402?i=S2(t.bucket):n.getStatus()===403?i=k2(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function dL(t){const e=TC(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=_2(t.path)),s.serverResponse=i.serverResponse,s}return n}function fL(t,e,n){const r=e.fullServerUrl(),i=My(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new kC(i,s,hL(t,n),o);return a.errorHandler=dL(e),a}function pL(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function mL(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=pL(null,e)),r}function gL(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let y="";for(let w=0;w<2;w++)y=y+Math.random().toString().slice(2);return y}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=mL(e,r,i),h=uL(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",g=pi.getBlob(d,r,f);if(g===null)throw A2();const v={name:u.fullPath},b=My(s,t.host,t._protocol),x="POST",m=t.maxUploadRetryTime,p=new kC(b,x,cL(t,n),m);return p.urlParams=v,p.headers=o,p.body=g.uploadData(),p.errorHandler=TC(e),p}class yL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=vs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=vs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Na("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Na("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Na("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Na("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Na("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class vL extends yL{initXhr(){this.xhr_.responseType="text"}}function NC(){return new vL}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class js{constructor(e,n){this._service=e,n instanceof bn?this._location=n:this._location=bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new js(e,n)}get root(){const e=new bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return SC(this._location.path)}get storage(){return this._service}get parent(){const e=nL(this._location.path);if(e===null)return null;const n=new bn(this._location.bucket,e);return new js(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw D2(e)}}function bL(t,e,n){t._throwIfRoot("uploadBytes");const r=gL(t.storage,t._location,xC(),new pi(e,!0),n);return t.storage.makeRequestWithTokens(r,NC).then(i=>({metadata:i,ref:t}))}function wL(t){t._throwIfRoot("getDownloadURL");const e=fL(t.storage,t._location,xC());return t.storage.makeRequestWithTokens(e,NC).then(n=>{if(n===null)throw O2();return n})}function _L(t,e){const n=rL(t._location.path,e),r=new bn(t._location.bucket,n);return new js(t.storage,r)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function SL(t){return/^[A-Za-z]+:\/\//.test(t)}function xL(t,e){return new js(t,e)}function IC(t,e){if(t instanceof Uy){const n=t;if(n._bucket==null)throw j2();const r=new js(n,n._bucket);return e!=null?IC(r,e):r}else return e!==void 0?_L(t,e):t}function CL(t,e){if(e&&SL(e)){if(t instanceof Uy)return xL(t,e);throw km("To use ref(service, url), the first argument must be a Storage instance.")}else return IC(t,e)}function dw(t,e){const n=e==null?void 0:e[mC];return n==null?null:bn.makeFromBucketSpec(n,t)}function kL(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:ix(i,t.app.options.projectId))}class Uy{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=pC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=b2,this._maxUploadRetryTime=w2,this._requests=new Set,i!=null?this._bucket=bn.makeFromBucketSpec(i,this._host):this._bucket=dw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bn.makeFromBucketSpec(this._url,e):this._bucket=dw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){hw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){hw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new js(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new R2(gC());{const o=H2(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const fw="@firebase/storage",pw="0.11.2";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const jC="storage";function nl(t,e,n){return t=Qe(t),bL(t,e,n)}function To(t){return t=Qe(t),wL(t)}function No(t,e){return t=Qe(t),CL(t,e)}function EL(t=cy(),e){t=Qe(t);const n=sd(t,jC).getImmediate({identifier:e}),r=tx("storage");return r&&TL(n,...r),n}function TL(t,e,n,r={}){kL(t,e,n,r)}function NL(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Uy(n,r,i,e,Fs)}function IL(){Ts(new Vi(jC,NL,"PUBLIC").setMultipleInstances(!0)),_r(fw,pw,""),_r(fw,pw,"esm2017")}IL();var jL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},G,Fy=Fy||{},ue=jL||self;function _d(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function du(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function AL(t){return Object.prototype.hasOwnProperty.call(t,Zf)&&t[Zf]||(t[Zf]=++OL)}var Zf="closure_uid_"+(1e9*Math.random()>>>0),OL=0;function PL(t,e,n){return t.call.apply(t.bind,arguments)}function DL(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ht(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ht=PL:Ht=DL,Ht.apply(null,arguments)}function nc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function xt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Qi(){this.s=this.s,this.o=this.o}var RL=0;Qi.prototype.s=!1;Qi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),RL!=0)&&AL(this)};Qi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const AC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Vy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function mw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(_d(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Kt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Kt.prototype.h=function(){this.defaultPrevented=!0};var LL=function(){if(!ue.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ue.addEventListener("test",()=>{},e),ue.removeEventListener("test",()=>{},e)}catch{}return t}();function Ol(t){return/^[\s\xa0]*$/.test(t)}function Sd(){var t=ue.navigator;return t&&(t=t.userAgent)?t:""}function pr(t){return Sd().indexOf(t)!=-1}function zy(t){return zy[" "](t),t}zy[" "]=function(){};function ML(t,e){var n=jM;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var UL=pr("Opera"),$o=pr("Trident")||pr("MSIE"),OC=pr("Edge"),Em=OC||$o,PC=pr("Gecko")&&!(Sd().toLowerCase().indexOf("webkit")!=-1&&!pr("Edge"))&&!(pr("Trident")||pr("MSIE"))&&!pr("Edge"),FL=Sd().toLowerCase().indexOf("webkit")!=-1&&!pr("Edge");function DC(){var t=ue.document;return t?t.documentMode:void 0}var Tm;e:{var ep="",tp=function(){var t=Sd();if(PC)return/rv:([^\);]+)(\)|;)/.exec(t);if(OC)return/Edge\/([\d\.]+)/.exec(t);if($o)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(FL)return/WebKit\/(\S+)/.exec(t);if(UL)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(tp&&(ep=tp?tp[1]:""),$o){var np=DC();if(np!=null&&np>parseFloat(ep)){Tm=String(np);break e}}Tm=ep}var Nm;if(ue.document&&$o){var VL=DC();Nm=VL||parseInt(Tm,10)||void 0}else Nm=void 0;var zL=Nm;function Pl(t,e){if(Kt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(PC){e:{try{zy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:BL[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Pl.$.h.call(this)}}xt(Pl,Kt);var BL={2:"touch",3:"pen",4:"mouse"};Pl.prototype.h=function(){Pl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var fu="closure_listenable_"+(1e6*Math.random()|0),qL=0;function $L(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++qL,this.fa=this.ia=!1}function xd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function By(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function WL(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function RC(t){const e={};for(const n in t)e[n]=t[n];return e}const gw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function LC(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<gw.length;s++)n=gw[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Cd(t){this.src=t,this.g={},this.h=0}Cd.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=jm(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new $L(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Im(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=AC(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(xd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function jm(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var qy="closure_lm_"+(1e6*Math.random()|0),rp={};function MC(t,e,n,r,i){if(r&&r.once)return FC(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)MC(t,e[s],n,r,i);return null}return n=Hy(n),t&&t[fu]?t.O(e,n,du(r)?!!r.capture:!!r,i):UC(t,e,n,!1,r,i)}function UC(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=du(i)?!!i.capture:!!i,a=Wy(t);if(a||(t[qy]=a=new Cd(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=HL(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)LL||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(zC(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function HL(){function t(n){return e.call(t.src,t.listener,n)}const e=KL;return t}function FC(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)FC(t,e[s],n,r,i);return null}return n=Hy(n),t&&t[fu]?t.P(e,n,du(r)?!!r.capture:!!r,i):UC(t,e,n,!0,r,i)}function VC(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)VC(t,e[s],n,r,i);else r=du(r)?!!r.capture:!!r,n=Hy(n),t&&t[fu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=jm(s,n,r,i),-1<n&&(xd(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Wy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=jm(e,n,r,i)),(n=-1<t?e[t]:null)&&$y(n))}function $y(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[fu])Im(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(zC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Wy(e))?(Im(n,t),n.h==0&&(n.src=null,e[qy]=null)):xd(t)}}}function zC(t){return t in rp?rp[t]:rp[t]="on"+t}function KL(t,e){if(t.fa)t=!0;else{e=new Pl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&$y(t),t=n.call(r,e)}return t}function Wy(t){return t=t[qy],t instanceof Cd?t:null}var ip="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hy(t){return typeof t=="function"?t:(t[ip]||(t[ip]=function(e){return t.handleEvent(e)}),t[ip])}function _t(){Qi.call(this),this.i=new Cd(this),this.S=this,this.J=null}xt(_t,Qi);_t.prototype[fu]=!0;_t.prototype.removeEventListener=function(t,e,n,r){VC(this,t,e,n,r)};function Ot(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Kt(e,t);else if(e instanceof Kt)e.target=e.target||t;else{var i=e;e=new Kt(r,t),LC(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=rc(o,r,!0,e)&&i}if(o=e.g=t,i=rc(o,r,!0,e)&&i,i=rc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=rc(o,r,!1,e)&&i}_t.prototype.N=function(){if(_t.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)xd(n[r]);delete t.g[e],t.h--}}this.J=null};_t.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};_t.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function rc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Im(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Ky=ue.JSON.stringify;class GL{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function QL(){var t=Gy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class JL{constructor(){this.h=this.g=null}add(e,n){const r=BC.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var BC=new GL(()=>new XL,t=>t.reset());class XL{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function YL(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function ZL(t){ue.setTimeout(()=>{throw t},0)}let Dl,Rl=!1,Gy=new JL,qC=()=>{const t=ue.Promise.resolve(void 0);Dl=()=>{t.then(eM)}};var eM=()=>{for(var t;t=QL();){try{t.h.call(t.g)}catch(n){ZL(n)}var e=BC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Rl=!1};function kd(t,e){_t.call(this),this.h=t||1,this.g=e||ue,this.j=Ht(this.qb,this),this.l=Date.now()}xt(kd,_t);G=kd.prototype;G.ga=!1;G.T=null;G.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ot(this,"tick"),this.ga&&(Qy(this),this.start()))}};G.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Qy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}G.N=function(){kd.$.N.call(this),Qy(this),delete this.g};function Jy(t,e,n){if(typeof t=="function")n&&(t=Ht(t,n));else if(t&&typeof t.handleEvent=="function")t=Ht(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ue.setTimeout(t,e||0)}function $C(t){t.g=Jy(()=>{t.g=null,t.i&&(t.i=!1,$C(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class tM extends Qi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$C(this)}N(){super.N(),this.g&&(ue.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ll(t){Qi.call(this),this.h=t,this.g={}}xt(Ll,Qi);var yw=[];function WC(t,e,n,r){Array.isArray(n)||(n&&(yw[0]=n.toString()),n=yw);for(var i=0;i<n.length;i++){var s=MC(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function HC(t){By(t.g,function(e,n){this.g.hasOwnProperty(n)&&$y(e)},t),t.g={}}Ll.prototype.N=function(){Ll.$.N.call(this),HC(this)};Ll.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ed(){this.g=!0}Ed.prototype.Ea=function(){this.g=!1};function nM(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var h=u[0];u=u[1];var d=h.split("_");o=2<=d.length&&d[1]=="type"?o+(h+"="+u+"&"):o+(h+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function rM(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function yo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+sM(t,n)+(r?" "+r:"")})}function iM(t,e){t.info(function(){return"TIMEOUT: "+e})}Ed.prototype.info=function(){};function sM(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Ky(n)}catch{return e}}var Bs={},vw=null;function Td(){return vw=vw||new _t}Bs.Ta="serverreachability";function KC(t){Kt.call(this,Bs.Ta,t)}xt(KC,Kt);function Ml(t){const e=Td();Ot(e,new KC(e))}Bs.STAT_EVENT="statevent";function GC(t,e){Kt.call(this,Bs.STAT_EVENT,t),this.stat=e}xt(GC,Kt);function tn(t){const e=Td();Ot(e,new GC(e,t))}Bs.Ua="timingevent";function QC(t,e){Kt.call(this,Bs.Ua,t),this.size=e}xt(QC,Kt);function pu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ue.setTimeout(function(){t()},e)}var Nd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},JC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Xy(){}Xy.prototype.h=null;function bw(t){return t.h||(t.h=t.i())}function XC(){}var mu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Yy(){Kt.call(this,"d")}xt(Yy,Kt);function Zy(){Kt.call(this,"c")}xt(Zy,Kt);var Am;function Id(){}xt(Id,Xy);Id.prototype.g=function(){return new XMLHttpRequest};Id.prototype.i=function(){return{}};Am=new Id;function gu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ll(this),this.P=oM,t=Em?125:void 0,this.V=new kd(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new YC}function YC(){this.i=null,this.g="",this.h=!1}var oM=45e3,Om={},wh={};G=gu.prototype;G.setTimeout=function(t){this.P=t};function Pm(t,e,n){t.L=1,t.v=Ad(Qr(e)),t.s=n,t.S=!0,ZC(t,null)}function ZC(t,e){t.G=Date.now(),yu(t),t.A=Qr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),ak(n.i,"t",r),t.C=0,n=t.l.J,t.h=new YC,t.g=Nk(t.l,n?e:null,!t.s),0<t.O&&(t.M=new tM(Ht(t.Pa,t,t.g),t.O)),WC(t.U,t.g,"readystatechange",t.nb),e=t.I?RC(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ml(),nM(t.j,t.u,t.A,t.m,t.W,t.s)}G.nb=function(t){t=t.target;const e=this.M;e&&yr(t)==3?e.l():this.Pa(t)};G.Pa=function(t){try{if(t==this.g)e:{const h=yr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>h)&&(h!=3||Em||this.g&&(this.h.h||this.g.ja()||xw(this.g)))){this.J||h!=4||e==7||(e==8||0>=d?Ml(3):Ml(2)),jd(this);var n=this.g.da();this.ca=n;t:if(ek(this)){var r=xw(this.g);t="";var i=r.length,s=yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ds(this),rl(this);var o="";break t}this.h.i=new ue.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,rM(this.j,this.u,this.A,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ol(a)){var u=a;break t}}u=null}if(n=u)yo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dm(this,n);else{this.i=!1,this.o=3,tn(12),ds(this),rl(this);break e}}this.S?(tk(this,h,o),Em&&this.i&&h==3&&(WC(this.U,this.V,"tick",this.mb),this.V.start())):(yo(this.j,this.m,o,null),Dm(this,o)),h==4&&ds(this),this.i&&!this.J&&(h==4?Ck(this.l,this):(this.i=!1,yu(this)))}else TM(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,tn(12)):(this.o=0,tn(13)),ds(this),rl(this)}}}catch{}finally{}};function ek(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function tk(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=aM(t,n),i==wh){e==4&&(t.o=4,tn(14),r=!1),yo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Om){t.o=4,tn(15),yo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else yo(t.j,t.m,i,null),Dm(t,i);ek(t)&&i!=wh&&i!=Om&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,tn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),sv(e),e.M=!0,tn(11))):(yo(t.j,t.m,n,"[Invalid Chunked Response]"),ds(t),rl(t))}G.mb=function(){if(this.g){var t=yr(this.g),e=this.g.ja();this.C<e.length&&(jd(this),tk(this,t,e),this.i&&t!=4&&yu(this))}};function aM(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?wh:(n=Number(e.substring(n,r)),isNaN(n)?Om:(r+=1,r+n>e.length?wh:(e=e.slice(r,r+n),t.C=r+n,e)))}G.cancel=function(){this.J=!0,ds(this)};function yu(t){t.Y=Date.now()+t.P,nk(t,t.P)}function nk(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=pu(Ht(t.lb,t),e)}function jd(t){t.B&&(ue.clearTimeout(t.B),t.B=null)}G.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(iM(this.j,this.A),this.L!=2&&(Ml(),tn(17)),ds(this),this.o=2,rl(this)):nk(this,this.Y-t)};function rl(t){t.l.H==0||t.J||Ck(t.l,t)}function ds(t){jd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Qy(t.V),HC(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Dm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Rm(n.i,t))){if(!t.K&&Rm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)xh(n),Rd(n);else break e;iv(n),tn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=pu(Ht(n.ib,n),6e3));if(1>=ck(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else fs(n,11)}else if((t.K||n.g==t)&&xh(n),!Ol(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const h=u[3];h!=null&&(n.ra=h,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=t.g;if(g){const v=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.i;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(ev(s,s.h),s.h=null))}if(r.F){const b=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;b&&(r.Da=b,Me(r.I,r.F,b))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=Tk(r,r.J?r.pa:null,r.Y),o.K){hk(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(jd(a),yu(a)),r.g=o}else Sk(r);0<n.j.length&&Ld(n)}else u[0]!="stop"&&u[0]!="close"||fs(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?fs(n,7):rv(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ml(4)}catch{}}function lM(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(_d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function uM(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(_d(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function rk(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(_d(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=uM(t),r=lM(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var ik=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cM(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function bs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof bs){this.h=t.h,_h(this,t.j),this.s=t.s,this.g=t.g,Sh(this,t.m),this.l=t.l;var e=t.i,n=new Ul;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ww(this,n),this.o=t.o}else t&&(e=String(t).match(ik))?(this.h=!1,_h(this,e[1]||"",!0),this.s=Ua(e[2]||""),this.g=Ua(e[3]||"",!0),Sh(this,e[4]),this.l=Ua(e[5]||"",!0),ww(this,e[6]||"",!0),this.o=Ua(e[7]||"")):(this.h=!1,this.i=new Ul(null,this.h))}bs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Fa(e,_w,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Fa(e,_w,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Fa(n,n.charAt(0)=="/"?fM:dM,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Fa(n,mM)),t.join("")};function Qr(t){return new bs(t)}function _h(t,e,n){t.j=n?Ua(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Sh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ww(t,e,n){e instanceof Ul?(t.i=e,gM(t.i,t.h)):(n||(e=Fa(e,pM)),t.i=new Ul(e,t.h))}function Me(t,e,n){t.i.set(e,n)}function Ad(t){return Me(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ua(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,hM),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function hM(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var _w=/[#\/\?@]/g,dM=/[#\?:]/g,fM=/[#\?]/g,pM=/[#\?@]/g,mM=/#/g;function Ul(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ji(t){t.g||(t.g=new Map,t.h=0,t.i&&cM(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}G=Ul.prototype;G.add=function(t,e){Ji(this),this.i=null,t=ua(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function sk(t,e){Ji(t),e=ua(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function ok(t,e){return Ji(t),e=ua(t,e),t.g.has(e)}G.forEach=function(t,e){Ji(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};G.ta=function(){Ji(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};G.Z=function(t){Ji(this);let e=[];if(typeof t=="string")ok(this,t)&&(e=e.concat(this.g.get(ua(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};G.set=function(t,e){return Ji(this),this.i=null,t=ua(this,t),ok(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};G.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function ak(t,e,n){sk(t,e),0<n.length&&(t.i=null,t.g.set(ua(t,e),Vy(n)),t.h+=n.length)}G.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ua(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function gM(t,e){e&&!t.j&&(Ji(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(sk(this,r),ak(this,i,n))},t)),t.j=e}var yM=class{constructor(t,e){this.g=t,this.map=e}};function lk(t){this.l=t||vM,ue.PerformanceNavigationTiming?(t=ue.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ue.g&&ue.g.Ka&&ue.g.Ka()&&ue.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var vM=10;function uk(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function ck(t){return t.h?1:t.g?t.g.size:0}function Rm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function ev(t,e){t.g?t.g.add(e):t.h=e}function hk(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}lk.prototype.cancel=function(){if(this.i=dk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function dk(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Vy(t.i)}var bM=class{stringify(t){return ue.JSON.stringify(t,void 0)}parse(t){return ue.JSON.parse(t,void 0)}};function wM(){this.g=new bM}function _M(t,e,n){const r=n||"";try{rk(t,function(i,s){let o=i;du(i)&&(o=Ky(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function SM(t,e){const n=new Ed;if(ue.Image){const r=new Image;r.onload=nc(ic,n,r,"TestLoadImage: loaded",!0,e),r.onerror=nc(ic,n,r,"TestLoadImage: error",!1,e),r.onabort=nc(ic,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=nc(ic,n,r,"TestLoadImage: timeout",!1,e),ue.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function ic(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Od(t){this.l=t.ec||null,this.j=t.ob||!1}xt(Od,Xy);Od.prototype.g=function(){return new Pd(this.l,this.j)};Od.prototype.i=function(t){return function(){return t}}({});function Pd(t,e){_t.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=tv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xt(Pd,_t);var tv=0;G=Pd.prototype;G.open=function(t,e){if(this.readyState!=tv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Fl(this)};G.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ue).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};G.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vu(this)),this.readyState=tv};G.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Fl(this)),this.g&&(this.readyState=3,Fl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ue.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fk(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function fk(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}G.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?vu(this):Fl(this),this.readyState==3&&fk(this)}};G.Za=function(t){this.g&&(this.response=this.responseText=t,vu(this))};G.Ya=function(t){this.g&&(this.response=t,vu(this))};G.ka=function(){this.g&&vu(this)};function vu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Fl(t)}G.setRequestHeader=function(t,e){this.v.append(t,e)};G.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};G.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Fl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Pd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var xM=ue.JSON.parse;function et(t){_t.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=pk,this.L=this.M=!1}xt(et,_t);var pk="",CM=/^https?$/i,kM=["POST","PUT"];G=et.prototype;G.Oa=function(t){this.M=t};G.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Am.g(),this.C=this.u?bw(this.u):bw(Am),this.g.onreadystatechange=Ht(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Sw(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ue.FormData&&t instanceof ue.FormData,!(0<=AC(kM,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{yk(this),0<this.B&&((this.L=EM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ht(this.ua,this)):this.A=Jy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Sw(this,s)}};function EM(t){return $o&&typeof t.timeout=="number"&&t.ontimeout!==void 0}G.ua=function(){typeof Fy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ot(this,"timeout"),this.abort(8))};function Sw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,mk(t),Dd(t)}function mk(t){t.F||(t.F=!0,Ot(t,"complete"),Ot(t,"error"))}G.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ot(this,"complete"),Ot(this,"abort"),Dd(this))};G.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dd(this,!0)),et.$.N.call(this)};G.La=function(){this.s||(this.G||this.v||this.l?gk(this):this.kb())};G.kb=function(){gk(this)};function gk(t){if(t.h&&typeof Fy<"u"&&(!t.C[1]||yr(t)!=4||t.da()!=2)){if(t.v&&yr(t)==4)Jy(t.La,0,t);else if(Ot(t,"readystatechange"),yr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(ik)[1]||null;!i&&ue.self&&ue.self.location&&(i=ue.self.location.protocol.slice(0,-1)),r=!CM.test(i?i.toLowerCase():"")}n=r}if(n)Ot(t,"complete"),Ot(t,"success");else{t.m=6;try{var s=2<yr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",mk(t)}}finally{Dd(t)}}}}function Dd(t,e){if(t.g){yk(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ot(t,"ready");try{n.onreadystatechange=r}catch{}}}function yk(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ue.clearTimeout(t.A),t.A=null)}G.isActive=function(){return!!this.g};function yr(t){return t.g?t.g.readyState:0}G.da=function(){try{return 2<yr(this)?this.g.status:-1}catch{return-1}};G.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};G.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),xM(e)}};function xw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case pk:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function TM(t){const e={};t=(t.g&&2<=yr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ol(t[r]))continue;var n=YL(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}WL(e,function(r){return r.join(", ")})}G.Ia=function(){return this.m};G.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function vk(t){let e="";return By(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function nv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=vk(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Me(t,e,n))}function Ia(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function bk(t){this.Ga=0,this.j=[],this.l=new Ed,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ia("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ia("baseRetryDelayMs",5e3,t),this.hb=Ia("retryDelaySeedMs",1e4,t),this.eb=Ia("forwardChannelMaxRetries",2,t),this.xa=Ia("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new lk(t&&t.concurrentRequestLimit),this.Ja=new wM,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}G=bk.prototype;G.ra=8;G.H=1;function rv(t){if(wk(t),t.H==3){var e=t.W++,n=Qr(t.I);if(Me(n,"SID",t.K),Me(n,"RID",e),Me(n,"TYPE","terminate"),bu(t,n),e=new gu(t,t.l,e),e.L=2,e.v=Ad(Qr(n)),n=!1,ue.navigator&&ue.navigator.sendBeacon)try{n=ue.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ue.Image&&(new Image().src=e.v,n=!0),n||(e.g=Nk(e.l,null),e.g.ha(e.v)),e.G=Date.now(),yu(e)}Ek(t)}function Rd(t){t.g&&(sv(t),t.g.cancel(),t.g=null)}function wk(t){Rd(t),t.u&&(ue.clearTimeout(t.u),t.u=null),xh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ue.clearTimeout(t.m),t.m=null)}function Ld(t){if(!uk(t.i)&&!t.m){t.m=!0;var e=t.Na;Dl||qC(),Rl||(Dl(),Rl=!0),Gy.add(e,t),t.C=0}}function NM(t,e){return ck(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=pu(Ht(t.Na,t,e),kk(t,t.C)),t.C++,!0)}G.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new gu(this,this.l,t);let s=this.s;if(this.U&&(s?(s=RC(s),LC(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=_k(this,i,e),n=Qr(this.I),Me(n,"RID",t),Me(n,"CVER",22),this.F&&Me(n,"X-HTTP-Session-Id",this.F),bu(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(vk(s)))+"&"+e:this.o&&nv(n,this.o,s)),ev(this.i,i),this.bb&&Me(n,"TYPE","init"),this.P?(Me(n,"$req",e),Me(n,"SID","null"),i.aa=!0,Pm(i,n,null)):Pm(i,n,e),this.H=2}}else this.H==3&&(t?Cw(this,t):this.j.length==0||uk(this.i)||Cw(this))};function Cw(t,e){var n;e?n=e.m:n=t.W++;const r=Qr(t.I);Me(r,"SID",t.K),Me(r,"RID",n),Me(r,"AID",t.V),bu(t,r),t.o&&t.s&&nv(r,t.o,t.s),n=new gu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=_k(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),ev(t.i,n),Pm(n,r,e)}function bu(t,e){t.na&&By(t.na,function(n,r){Me(e,r,n)}),t.h&&rk({},function(n,r){Me(e,r,n)})}function _k(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ht(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const h=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{_M(h,o,"req"+u+"_")}catch{r&&r(h)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Sk(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Dl||qC(),Rl||(Dl(),Rl=!0),Gy.add(e,t),t.A=0}}function iv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=pu(Ht(t.Ma,t),kk(t,t.A)),t.A++,!0)}G.Ma=function(){if(this.u=null,xk(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=pu(Ht(this.jb,this),t)}};G.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,tn(10),Rd(this),xk(this))};function sv(t){t.B!=null&&(ue.clearTimeout(t.B),t.B=null)}function xk(t){t.g=new gu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Qr(t.wa);Me(e,"RID","rpc"),Me(e,"SID",t.K),Me(e,"AID",t.V),Me(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Me(e,"TO",t.qa),Me(e,"TYPE","xmlhttp"),bu(t,e),t.o&&t.s&&nv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Ad(Qr(e)),n.s=null,n.S=!0,ZC(n,t)}G.ib=function(){this.v!=null&&(this.v=null,Rd(this),iv(this),tn(19))};function xh(t){t.v!=null&&(ue.clearTimeout(t.v),t.v=null)}function Ck(t,e){var n=null;if(t.g==e){xh(t),sv(t),t.g=null;var r=2}else if(Rm(t.i,e))n=e.F,hk(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Td(),Ot(r,new QC(r,n)),Ld(t)}else Sk(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&NM(t,e)||r==2&&iv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:fs(t,5);break;case 4:fs(t,10);break;case 3:fs(t,6);break;default:fs(t,2)}}}function kk(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function fs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ht(t.pb,t);n||(n=new bs("//www.google.com/images/cleardot.gif"),ue.location&&ue.location.protocol=="http"||_h(n,"https"),Ad(n)),SM(n.toString(),r)}else tn(2);t.H=0,t.h&&t.h.za(e),Ek(t),wk(t)}G.pb=function(t){t?(this.l.info("Successfully pinged google.com"),tn(2)):(this.l.info("Failed to ping google.com"),tn(1))};function Ek(t){if(t.H=0,t.ma=[],t.h){const e=dk(t.i);(e.length!=0||t.j.length!=0)&&(mw(t.ma,e),mw(t.ma,t.j),t.i.i.length=0,Vy(t.j),t.j.length=0),t.h.ya()}}function Tk(t,e,n){var r=n instanceof bs?Qr(n):new bs(n);if(r.g!="")e&&(r.g=e+"."+r.g),Sh(r,r.m);else{var i=ue.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new bs(null);r&&_h(s,r),e&&(s.g=e),i&&Sh(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Me(r,n,e),Me(r,"VER",t.ra),bu(t,r),r}function Nk(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new et(new Od({ob:!0})):new et(t.va),e.Oa(t.J),e}G.isActive=function(){return!!this.h&&this.h.isActive(this)};function Ik(){}G=Ik.prototype;G.Ba=function(){};G.Aa=function(){};G.za=function(){};G.ya=function(){};G.isActive=function(){return!0};G.Va=function(){};function Ch(){if($o&&!(10<=Number(zL)))throw Error("Environmental error: no available transport.")}Ch.prototype.g=function(t,e){return new Cn(t,e)};function Cn(t,e){_t.call(this),this.g=new bk(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ol(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ol(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ca(this)}xt(Cn,_t);Cn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;tn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Tk(t,null,t.Y),Ld(t)};Cn.prototype.close=function(){rv(this.g)};Cn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Ky(t),t=n);e.j.push(new yM(e.fb++,t)),e.H==3&&Ld(e)};Cn.prototype.N=function(){this.g.h=null,delete this.j,rv(this.g),delete this.g,Cn.$.N.call(this)};function jk(t){Yy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}xt(jk,Yy);function Ak(){Zy.call(this),this.status=1}xt(Ak,Zy);function ca(t){this.g=t}xt(ca,Ik);ca.prototype.Ba=function(){Ot(this.g,"a")};ca.prototype.Aa=function(t){Ot(this.g,new jk(t))};ca.prototype.za=function(t){Ot(this.g,new Ak)};ca.prototype.ya=function(){Ot(this.g,"b")};function IM(){this.blockSize=-1}function nr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}xt(nr,IM);nr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function sp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}nr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)sp(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){sp(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){sp(this,r),i=0;break}}this.h=i,this.i+=e};nr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ae(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var jM={};function ov(t){return-128<=t&&128>t?ML(t,function(e){return new Ae([e|0],0>e?-1:0)}):new Ae([t|0],0>t?-1:0)}function vr(t){if(isNaN(t)||!isFinite(t))return Io;if(0>t)return Nt(vr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Lm;return new Ae(e,0)}function Ok(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Nt(Ok(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=vr(Math.pow(e,8)),r=Io,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=vr(Math.pow(e,s)),r=r.R(s).add(vr(o))):(r=r.R(n),r=r.add(vr(o)))}return r}var Lm=4294967296,Io=ov(0),Mm=ov(1),kw=ov(16777216);G=Ae.prototype;G.ea=function(){if(Dn(this))return-Nt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Lm+r)*e,e*=Lm}return t};G.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Vr(this))return"0";if(Dn(this))return"-"+Nt(this).toString(t);for(var e=vr(Math.pow(t,6)),n=this,r="";;){var i=Eh(n,e).g;n=kh(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Vr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};G.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Vr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Dn(t){return t.h==-1}G.X=function(t){return t=kh(this,t),Dn(t)?-1:Vr(t)?0:1};function Nt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ae(n,~t.h).add(Mm)}G.abs=function(){return Dn(this)?Nt(this):this};G.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ae(n,n[n.length-1]&-2147483648?-1:0)};function kh(t,e){return t.add(Nt(e))}G.R=function(t){if(Vr(this)||Vr(t))return Io;if(Dn(this))return Dn(t)?Nt(this).R(Nt(t)):Nt(Nt(this).R(t));if(Dn(t))return Nt(this.R(Nt(t)));if(0>this.X(kw)&&0>t.X(kw))return vr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,sc(n,2*r+2*i),n[2*r+2*i+1]+=s*l,sc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,sc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,sc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ae(n,0)};function sc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ja(t,e){this.g=t,this.h=e}function Eh(t,e){if(Vr(e))throw Error("division by zero");if(Vr(t))return new ja(Io,Io);if(Dn(t))return e=Eh(Nt(t),e),new ja(Nt(e.g),Nt(e.h));if(Dn(e))return e=Eh(t,Nt(e)),new ja(Nt(e.g),e.h);if(30<t.g.length){if(Dn(t)||Dn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Mm,r=e;0>=r.X(t);)n=Ew(n),r=Ew(r);var i=Ys(n,1),s=Ys(r,1);for(r=Ys(r,2),n=Ys(n,2);!Vr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ys(r,1),n=Ys(n,1)}return e=kh(t,i.R(e)),new ja(i,e)}for(i=Io;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=vr(n),o=s.R(e);Dn(o)||0<o.X(t);)n-=r,s=vr(n),o=s.R(e);Vr(s)&&(s=Mm),i=i.add(s),t=kh(t,o)}return new ja(i,t)}G.gb=function(t){return Eh(this,t).h};G.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ae(n,this.h&t.h)};G.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ae(n,this.h|t.h)};G.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ae(n,this.h^t.h)};function Ew(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ae(n,t.h)}function Ys(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ae(i,t.h)}Ch.prototype.createWebChannel=Ch.prototype.g;Cn.prototype.send=Cn.prototype.u;Cn.prototype.open=Cn.prototype.m;Cn.prototype.close=Cn.prototype.close;Nd.NO_ERROR=0;Nd.TIMEOUT=8;Nd.HTTP_ERROR=6;JC.COMPLETE="complete";XC.EventType=mu;mu.OPEN="a";mu.CLOSE="b";mu.ERROR="c";mu.MESSAGE="d";_t.prototype.listen=_t.prototype.O;et.prototype.listenOnce=et.prototype.P;et.prototype.getLastError=et.prototype.Sa;et.prototype.getLastErrorCode=et.prototype.Ia;et.prototype.getStatus=et.prototype.da;et.prototype.getResponseJson=et.prototype.Wa;et.prototype.getResponseText=et.prototype.ja;et.prototype.send=et.prototype.ha;et.prototype.setWithCredentials=et.prototype.Oa;nr.prototype.digest=nr.prototype.l;nr.prototype.reset=nr.prototype.reset;nr.prototype.update=nr.prototype.j;Ae.prototype.add=Ae.prototype.add;Ae.prototype.multiply=Ae.prototype.R;Ae.prototype.modulo=Ae.prototype.gb;Ae.prototype.compare=Ae.prototype.X;Ae.prototype.toNumber=Ae.prototype.ea;Ae.prototype.toString=Ae.prototype.toString;Ae.prototype.getBits=Ae.prototype.D;Ae.fromNumber=vr;Ae.fromString=Ok;var AM=function(){return new Ch},OM=function(){return Td()},op=Nd,PM=JC,DM=Bs,Tw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},oc=XC,RM=et,LM=nr,jo=Ae;const Nw="@firebase/firestore";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let ha="10.5.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const As=new ly("@firebase/firestore");function Aa(){return As.logLevel}function Z(t,...e){if(As.logLevel<=Se.DEBUG){const n=e.map(av);As.debug(`Firestore (${ha}): ${t}`,...n)}}function Jr(t,...e){if(As.logLevel<=Se.ERROR){const n=e.map(av);As.error(`Firestore (${ha}): ${t}`,...n)}}function Wo(t,...e){if(As.logLevel<=Se.WARN){const n=e.map(av);As.warn(`Firestore (${ha}): ${t}`,...n)}}function av(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(t)}catch{return t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ce(t="Unexpected state"){const e=`FIRESTORE (${ha}) INTERNAL ASSERTION FAILED: `+t;throw Jr(e),new Error(e)}function Ve(t,e){t||ce()}function pe(t,e){return t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends Nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Br{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qt.UNAUTHENTICATED))}shutdown(){}}class UM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class FM{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Br,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Br)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string"),new Pk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string"),new qt(e)}}class VM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class zM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new VM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string"),this.R=n.token,new BM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function $M(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dk{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=$M(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Te(t,e){return t<e?-1:t>e?1:0}function Ho(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new fe(e)}static min(){return new fe(new mt(0,0))}static max(){return new fe(new mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vl{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Vl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ue extends Vl{construct(e,n,r){return new Ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const WM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends Vl{construct(e,n,r){return new jt(e,n,r)}static isValidIdentifier(e){return WM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new jt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new J(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new J(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new J(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class se{constructor(e){this.path=e}static fromPath(e){return new se(Ue.fromString(e))}static fromName(e){return new se(Ue.fromString(e).popFirst(5))}static empty(){return new se(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new Ue(e.slice()))}}function HM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new zi(i,se.empty(),e)}function KM(t){return new zi(t.readTime,t.key,-1)}class zi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new zi(fe.min(),se.empty(),-1)}static max(){return new zi(fe.max(),se.empty(),-1)}}function GM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const QM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function wu(t){if(t.code!==D.FAILED_PRECONDITION||t.message!==QM)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,r)=>{n(e)})}static reject(e){return new V((n,r)=>{r(e)})}static waitFor(e){return new V((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=V.resolve(!1);for(const r of e)n=n.next(i=>i?V.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new V((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new V((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function _u(t){return t.name==="IndexedDbTransactionError"}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}lv.ae=-1;function Md(t){return t==null}function Th(t){return t===0&&1/t==-1/0}function XM(t){return typeof t=="number"&&Number.isInteger(t)&&!Th(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Iw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Rk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Je{constructor(e,n){this.comparator=e,this.root=n||Tt.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tt.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ac(this.root,e,this.comparator,!0)}}class ac{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Tt.RED,this.left=i??Tt.EMPTY,this.right=s??Tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Tt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Tt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Tt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();const e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}}Tt.EMPTY=null,Tt.RED=!0,Tt.BLACK=!1;Tt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Tt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pt{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jw(this.data.getIterator())}getIteratorFrom(e){return new jw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class jw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wn{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new wn([])}unionWith(e){let n=new Pt(jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ho(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Lk("Invalid base64 string: "+i):i}}(e);return new Xt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const YM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bi(t){if(Ve(!!t),typeof t=="string"){let e=0;const n=YM.exec(t);if(Ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Os(t){return typeof t=="string"?Xt.fromBase64String(t):Xt.fromUint8Array(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function uv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function cv(t){const e=t.mapValue.fields.__previous_value__;return uv(e)?cv(e):e}function zl(t){const e=Bi(t.mapValue.fields.__local_write_time__.timestampValue);return new mt(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ZM{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Bl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Bl&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const lc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ps(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uv(t)?4:e4(t)?9007199254740991:10:ce()}function Tr(t,e){if(t===e)return!0;const n=Ps(t);if(n!==Ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zl(t).isEqual(zl(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Bi(r.timestampValue),o=Bi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Os(r.bytesValue).isEqual(Os(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return lt(r.geoPointValue.latitude)===lt(i.geoPointValue.latitude)&&lt(r.geoPointValue.longitude)===lt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return lt(r.integerValue)===lt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=lt(r.doubleValue),o=lt(i.doubleValue);return s===o?Th(s)===Th(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ho(t.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(Iw(s)!==Iw(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Tr(s[a],o[a])))return!1;return!0}(t,e);default:return ce()}}function ql(t,e){return(t.values||[]).find(n=>Tr(n,e))!==void 0}function Ko(t,e){if(t===e)return 0;const n=Ps(t),r=Ps(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=lt(i.integerValue||i.doubleValue),a=lt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Aw(t.timestampValue,e.timestampValue);case 4:return Aw(zl(t),zl(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Os(i),a=Os(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Te(o[l],a[l]);if(u!==0)return u}return Te(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Te(lt(i.latitude),lt(s.latitude));return o!==0?o:Te(lt(i.longitude),lt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Ko(o[l],a[l]);if(u)return u}return Te(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===lc.mapValue&&s===lc.mapValue)return 0;if(i===lc.mapValue)return 1;if(s===lc.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let h=0;h<a.length&&h<u.length;++h){const d=Te(a[h],u[h]);if(d!==0)return d;const f=Ko(o[a[h]],l[u[h]]);if(f!==0)return f}return Te(a.length,u.length)}(t.mapValue,e.mapValue);default:throw ce()}}function Aw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);const n=Bi(t),r=Bi(e),i=Te(n.seconds,r.seconds);return i!==0?i:Te(n.nanos,r.nanos)}function Go(t){return Um(t)}function Um(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){const n=Bi(e);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(e){return Os(e).toBase64()}(t.bytesValue):"referenceValue"in t?function(e){return se.fromName(e).toString()}(t.referenceValue):"geoPointValue"in t?function(e){return`geo(${e.latitude},${e.longitude})`}(t.geoPointValue):"arrayValue"in t?function(e){let n="[",r=!0;for(const i of e.values||[])r?r=!1:n+=",",n+=Um(i);return n+"]"}(t.arrayValue):"mapValue"in t?function(e){const n=Object.keys(e.fields||{}).sort();let r="{",i=!0;for(const s of n)i?i=!1:r+=",",r+=`${s}:${Um(e.fields[s])}`;return r+"}"}(t.mapValue):ce()}function Ow(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Fm(t){return!!t&&"integerValue"in t}function hv(t){return!!t&&"arrayValue"in t}function Pw(t){return!!t&&"nullValue"in t}function Dw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jc(t){return!!t&&"mapValue"in t}function il(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return qs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=il(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=il(t.arrayValue.values[n]);return e}return Object.assign({},t)}function e4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=il(n)}setAll(e){let n=jt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=il(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];jc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){qs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new un(il(this.value))}}function Mk(t){const e=[];return qs(t.fields,(n,r)=>{const i=new jt([n]);if(jc(r)){const s=Mk(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new wn(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Wt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Wt(e,0,fe.min(),fe.min(),fe.min(),un.empty(),0)}static newFoundDocument(e,n,r,i){return new Wt(e,1,n,fe.min(),r,i,0)}static newNoDocument(e,n){return new Wt(e,2,n,fe.min(),fe.min(),un.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,fe.min(),fe.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Nh{constructor(e,n){this.position=e,this.inclusive=n}}function Rw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=Ko(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Lw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Tr(t.position[n],e.position[n]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $l{constructor(e,n="asc"){this.field=e,this.dir=n}}function t4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Uk{}class ct extends Uk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new r4(e,n,r):n==="array-contains"?new o4(e,r):n==="in"?new a4(e,r):n==="not-in"?new l4(e,r):n==="array-contains-any"?new u4(e,r):new ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new i4(e,r):new s4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ko(n,this.value)):n!==null&&Ps(this.value)===Ps(n)&&this.matchesComparison(Ko(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rr extends Uk{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new rr(e,n)}matches(e){return Fk(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Fk(t){return t.op==="and"}function Vk(t){return n4(t)&&Fk(t)}function n4(t){for(const e of t.filters)if(e instanceof rr)return!1;return!0}function Vm(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+Go(t.value);if(Vk(t))return t.filters.map(e=>Vm(e)).join(",");{const e=t.filters.map(n=>Vm(n)).join(",");return`${t.op}(${e})`}}function zk(t,e){return t instanceof ct?function(n,r){return r instanceof ct&&n.op===r.op&&n.field.isEqual(r.field)&&Tr(n.value,r.value)}(t,e):t instanceof rr?function(n,r){return r instanceof rr&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&zk(s,r.filters[o]),!0):!1}(t,e):void ce()}function Bk(t){return t instanceof ct?function(e){return`${e.field.canonicalString()} ${e.op} ${Go(e.value)}`}(t):t instanceof rr?function(e){return e.op.toString()+" {"+e.getFilters().map(Bk).join(" ,")+"}"}(t):"Filter"}class r4 extends ct{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class i4 extends ct{constructor(e,n){super(e,"in",n),this.keys=qk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class s4 extends ct{constructor(e,n){super(e,"not-in",n),this.keys=qk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class o4 extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hv(n)&&ql(n.arrayValue,this.value)}}class a4 extends ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ql(this.value.arrayValue,n)}}class l4 extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ql(this.value.arrayValue,n)}}class u4 extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ql(this.value.arrayValue,r))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class c4{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function Mw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new c4(t,e,n,r,i,s,o)}function dv(t){const e=pe(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Vm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Md(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Go(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Go(r)).join(",")),e.le=n}return e.le}function fv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!t4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Lw(t.startAt,e.startAt)&&Lw(t.endAt,e.endAt)}function zm(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class da{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function h4(t,e,n,r,i,s,o,a){return new da(t,e,n,r,i,s,o,a)}function Ud(t){return new da(t)}function Uw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $k(t){return t.collectionGroup!==null}function sl(t){const e=pe(t);if(e.he===null){e.he=[];const n=new Set;for(const i of e.explicitOrderBy)e.he.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(i){let s=new Pt(jt.comparator);return i.filters.forEach(o=>{o.getFlattenedFilters().forEach(a=>{a.isInequality()&&(s=s.add(a.field))})}),s})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.he.push(new $l(i,r))}),n.has(jt.keyField().canonicalString())||e.he.push(new $l(jt.keyField(),r))}return e.he}function Cr(t){const e=pe(t);return e.Pe||(e.Pe=d4(e,sl(t))),e.Pe}function d4(t,e){if(t.limitType==="F")return Mw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new $l(i.field,s)});const n=t.endAt?new Nh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Nh(t.startAt.position,t.startAt.inclusive):null;return Mw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Bm(t,e){const n=t.filters.concat([e]);return new da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qm(t,e,n){return new da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fd(t,e){return fv(Cr(t),Cr(e))&&t.limitType===e.limitType}function Wk(t){return`${dv(Cr(t))}|lt:${t.limitType}`}function eo(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>Bk(r)).join(", ")}]`),Md(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Go(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Go(r)).join(",")),`Target(${n})`}(Cr(t))}; limitType=${t.limitType})`}function Vd(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):se.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of sl(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=Rw(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,sl(n),r)||n.endAt&&!function(i,s,o){const a=Rw(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,sl(n),r))}(t,e)}function f4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Hk(t){return(e,n)=>{let r=!1;for(const i of sl(t)){const s=p4(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function p4(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Ko(a,l):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){qs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Rk(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const m4=new Je(se.comparator);function Xr(){return m4}const Kk=new Je(se.comparator);function Va(...t){let e=Kk;for(const n of t)e=e.insert(n.key,n);return e}function Gk(t){let e=Kk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ps(){return ol()}function Qk(){return ol()}function ol(){return new fa(t=>t.toString(),(t,e)=>t.isEqual(e))}const g4=new Je(se.comparator),y4=new Pt(se.comparator);function we(...t){let e=y4;for(const n of t)e=e.add(n);return e}const v4=new Pt(Te);function b4(){return v4}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Jk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function Xk(t){return{integerValue:""+t}}function w4(t,e){return XM(e)?Xk(e):Jk(t,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zd{constructor(){this._=void 0}}function _4(t,e,n){return t instanceof Wl?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&uv(i)&&(i=cv(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Qo?Zk(t,e):t instanceof Jo?eE(t,e):function(r,i){const s=Yk(r,i),o=Fw(s)+Fw(r.Te);return Fm(s)&&Fm(r.Te)?Xk(o):Jk(r.serializer,o)}(t,e)}function S4(t,e,n){return t instanceof Qo?Zk(t,e):t instanceof Jo?eE(t,e):n}function Yk(t,e){return t instanceof Ih?function(n){return Fm(n)||function(r){return!!r&&"doubleValue"in r}(n)}(e)?e:{integerValue:0}:null}class Wl extends zd{}class Qo extends zd{constructor(e){super(),this.elements=e}}function Zk(t,e){const n=tE(e);for(const r of t.elements)n.some(i=>Tr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Jo extends zd{constructor(e){super(),this.elements=e}}function eE(t,e){let n=tE(e);for(const r of t.elements)n=n.filter(i=>!Tr(i,r));return{arrayValue:{values:n}}}class Ih extends zd{constructor(e,n){super(),this.serializer=e,this.Te=n}}function Fw(t){return lt(t.integerValue||t.doubleValue)}function tE(t){return hv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pv{constructor(e,n){this.field=e,this.transform=n}}function x4(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Qo&&r instanceof Qo||n instanceof Jo&&r instanceof Jo?Ho(n.elements,r.elements,Tr):n instanceof Ih&&r instanceof Ih?Tr(n.Te,r.Te):n instanceof Wl&&r instanceof Wl}(t.transform,e.transform)}class C4{constructor(e,n){this.version=e,this.transformResults=n}}class Mn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ac(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bd{}function nE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mv(t.key,Mn.none()):new Su(t.key,t.data,Mn.none());{const n=t.data,r=un.empty();let i=new Pt(jt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Xi(t.key,r,new wn(i.toArray()),Mn.none())}}function k4(t,e,n){t instanceof Su?function(r,i,s){const o=r.value.clone(),a=zw(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Xi?function(r,i,s){if(!Ac(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=zw(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(rE(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function al(t,e,n,r){return t instanceof Su?function(i,s,o,a){if(!Ac(i.precondition,s))return o;const l=i.value.clone(),u=Bw(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xi?function(i,s,o,a){if(!Ac(i.precondition,s))return o;const l=Bw(i.fieldTransforms,a,s),u=s.data;return u.setAll(rE(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,s,o){return Ac(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function E4(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Yk(r.transform,i||null);s!=null&&(n===null&&(n=un.empty()),n.set(r.field,s))}return n||null}function Vw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Ho(n,r,(i,s)=>x4(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Su extends Bd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xi extends Bd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function rE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function zw(t,e,n){const r=new Map;Ve(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,S4(o,a,n[i]))}return r}function Bw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,_4(s,o,e))}return r}class mv extends Bd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class T4 extends Bd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class N4{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&k4(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=al(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=al(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Qk();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=nE(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&Ho(this.mutations,e.mutations,(n,r)=>Vw(n,r))&&Ho(this.baseMutations,e.baseMutations,(n,r)=>Vw(n,r))}}class gv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ve(e.mutations.length===r.length);let i=function(){return g4}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new gv(e,n,r,i)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class I4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class j4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ot,Ce;function A4(t){switch(t){default:return ce();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function iE(t){if(t===void 0)return Jr("GRPC error has no .code"),D.UNKNOWN;switch(t){case ot.OK:return D.OK;case ot.CANCELLED:return D.CANCELLED;case ot.UNKNOWN:return D.UNKNOWN;case ot.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case ot.INTERNAL:return D.INTERNAL;case ot.UNAVAILABLE:return D.UNAVAILABLE;case ot.UNAUTHENTICATED:return D.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case ot.NOT_FOUND:return D.NOT_FOUND;case ot.ALREADY_EXISTS:return D.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return D.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case ot.ABORTED:return D.ABORTED;case ot.OUT_OF_RANGE:return D.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return D.UNIMPLEMENTED;case ot.DATA_LOSS:return D.DATA_LOSS;default:return ce()}}(Ce=ot||(ot={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function O4(){return new TextEncoder}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const P4=new jo([4294967295,4294967295],0);function qw(t){const e=O4().encode(t),n=new LM;return n.update(e),new Uint8Array(n.digest())}function $w(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new jo([n,r],0),new jo([i,s],0)]}class yv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new za(`Invalid padding: ${n}`);if(r<0)throw new za(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new za(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new za(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=jo.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(jo.fromNumber(r)));return i.compare(P4)===1&&(i=new jo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ee===0)return!1;const n=qw(e),[r,i]=$w(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new yv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=qw(e),[r,i]=$w(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class za extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new qd(fe.min(),i,new Je(Te),Xr(),we())}}class xu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xu(r,n,we(),we(),we())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Oc{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class sE{constructor(e,n){this.targetId=e,this.ge=n}}class oE{constructor(e,n,r=Xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ww{constructor(){this.pe=0,this.ye=Kw(),this.we=Xt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get Ce(){return this.be}ve(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=we(),n=we(),r=we();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ce()}}),new xu(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=Kw()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1}Le(){this.be=!0,this.Se=!0}}class D4{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Xr(),this.Ke=Hw(),this.$e=new Je(Te)}Ue(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.We(n,e.fe):this.Ge(n,e.key,e.fe);for(const n of e.removedTargetIds)this.Ge(n,e.key,e.fe)}ze(e){this.forEachTarget(e,n=>{const r=this.je(n);switch(e.state){case 0:this.He(n)&&r.ve(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.ve(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.He(n)&&(r.Le(),r.ve(e.resumeToken));break;case 4:this.He(n)&&(this.Je(n),r.ve(e.resumeToken));break;default:ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.He(i)&&n(i)})}Ye(e){const n=e.targetId,r=e.ge.count,i=this.Ze(n);if(i){const s=i.target;if(zm(s))if(r===0){const o=new se(s.path);this.Ge(n,o,Wt.newNoDocument(o,fe.min()))}else Ve(r===1);else{const o=this.Xe(n);if(o!==r){const a=this.et(e),l=a?this.tt(a,e,o):1;if(l!==0){this.Je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.$e=this.$e.insert(n,u)}}}}}et(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Os(r).toUint8Array()}catch(l){if(l instanceof Lk)return Wo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new yv(o,i,s)}catch(l){return Wo(l instanceof za?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}tt(e,n,r){return n.ge.count===r-this.it(e,n.targetId)?0:2}it(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.rt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ge(n,s,null),i++)}),i}st(e){const n=new Map;this.qe.forEach((s,o)=>{const a=this.Ze(o);if(a){if(s.current&&zm(a.target)){const l=new se(a.target.path);this.Qe.get(l)!==null||this.ot(o,l)||this.Ge(o,l,Wt.newNoDocument(l,e))}s.Ce&&(n.set(o,s.Fe()),s.Me())}});let r=we();this.Ke.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ze(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new qd(e,n,this.$e,this.Qe,r);return this.Qe=Xr(),this.Ke=Hw(),this.$e=new Je(Te),i}We(e,n){if(!this.He(e))return;const r=this.ot(e,n.key)?2:0;this.je(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.Ke=this.Ke.insert(n.key,this._t(n.key).add(e))}Ge(e,n,r){if(!this.He(e))return;const i=this.je(e);this.ot(e,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this._t(n).delete(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}Xe(e){const n=this.je(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.je(e).Ne()}je(e){let n=this.qe.get(e);return n||(n=new Ww,this.qe.set(e,n)),n}_t(e){let n=this.Ke.get(e);return n||(n=new Pt(Te),this.Ke=this.Ke.insert(e,n)),n}He(e){const n=this.Ze(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}Ze(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.ut(e)}Je(e){this.qe.set(e,new Ww),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.Ge(e,n,null)})}ot(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Hw(){return new Je(se.comparator)}function Kw(){return new Je(se.comparator)}const R4=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),L4=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),M4=(()=>({and:"AND",or:"OR"}))();class U4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $m(t,e){return t.useProto3Json||Md(e)?e:{value:e}}function jh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function F4(t,e){return jh(t,e.toTimestamp())}function kr(t){return Ve(!!t),fe.fromTimestamp(function(e){const n=Bi(e);return new mt(n.seconds,n.nanos)}(t))}function vv(t,e){return function(n){return new Ue(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function lE(t){const e=Ue.fromString(t);return Ve(dE(e)),e}function Wm(t,e){return vv(t.databaseId,e.path)}function ap(t,e){const n=lE(e);if(n.get(1)!==t.databaseId.projectId)throw new J(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(uE(n))}function Hm(t,e){return vv(t.databaseId,e)}function V4(t){const e=lE(t);return e.length===4?Ue.emptyPath():uE(e)}function Km(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uE(t){return Ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Gw(t,e,n){return{name:Wm(t,e),fields:n.value.mapValue.fields}}function z4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Ve(u===void 0||typeof u=="string"),Xt.fromBase64String(u||"")):(Ve(u===void 0||u instanceof Uint8Array),Xt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?D.UNKNOWN:iE(l.code);return new J(u,l.message||"")}(o);n=new oE(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ap(t,r.document.name),s=kr(r.document.updateTime),o=r.document.createTime?kr(r.document.createTime):fe.min(),a=new un({mapValue:{fields:r.document.fields}}),l=Wt.newFoundDocument(i,s,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Oc(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ap(t,r.document),s=r.readTime?kr(r.readTime):fe.min(),o=Wt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Oc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ap(t,r.document),s=r.removedTargetIds||[];n=new Oc([],s,i,null)}else{if(!("filter"in e))return ce();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new j4(i,s),a=r.targetId;n=new sE(a,o)}}return n}function B4(t,e){let n;if(e instanceof Su)n={update:Gw(t,e.key,e.value)};else if(e instanceof mv)n={delete:Wm(t,e.key)};else if(e instanceof Xi)n={update:Gw(t,e.key,e.data),updateMask:X4(e.fieldMask)};else{if(!(e instanceof T4))return ce();n={verify:Wm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Wl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Qo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Jo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ih)return{fieldPath:s.field.canonicalString(),increment:o.Te};throw ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:F4(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ce()}(t,e.precondition)),n}function q4(t,e){return t&&t.length>0?(Ve(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?kr(r.updateTime):kr(i);return s.isEqual(fe.min())&&(s=kr(i)),new C4(s,r.transformResults||[])}(n,e))):[]}function $4(t,e){return{documents:[Hm(t,e.path)]}}function W4(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Hm(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Hm(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(a){if(a.length!==0)return hE(rr.create(a,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(a){if(a.length!==0)return a.map(l=>function(u){return{field:to(u.field),direction:G4(u.dir)}}(l))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=$m(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(a){return{before:a.inclusive,values:a.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(a){return{before:!a.inclusive,values:a.position}}(e.endAt)),n}function H4(t){let e=V4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ve(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(h){const d=cE(h);return d instanceof rr&&Vk(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(d=>function(f){return new $l(no(f.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,Md(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,f=h.values||[];return new Nh(f,d)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const d=!h.before,f=h.values||[];return new Nh(f,d)}(n.endAt)),h4(e,i,o,s,a,"F",l,u)}function K4(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cE(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=no(e.unaryFilter.field);return ct.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=no(e.unaryFilter.field);return ct.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=no(e.unaryFilter.field);return ct.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=no(e.unaryFilter.field);return ct.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(e){return ct.create(no(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return rr.create(e.compositeFilter.filters.map(n=>cE(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ce()}}(e.compositeFilter.op))}(t):ce()}function G4(t){return R4[t]}function Q4(t){return L4[t]}function J4(t){return M4[t]}function to(t){return{fieldPath:t.canonicalString()}}function no(t){return jt.fromServerFormat(t.fieldPath)}function hE(t){return t instanceof ct?function(e){if(e.op==="=="){if(Dw(e.value))return{unaryFilter:{field:to(e.field),op:"IS_NAN"}};if(Pw(e.value))return{unaryFilter:{field:to(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Dw(e.value))return{unaryFilter:{field:to(e.field),op:"IS_NOT_NAN"}};if(Pw(e.value))return{unaryFilter:{field:to(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(e.field),op:Q4(e.op),value:e.value}}}(t):t instanceof rr?function(e){const n=e.getFilters().map(r=>hE(r));return n.length===1?n[0]:{compositeFilter:{op:J4(e.op),filters:n}}}(t):ce()}function X4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wi{constructor(e,n,r,i,s=fe.min(),o=fe.min(),a=Xt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Y4{constructor(e){this.ct=e}}function Z4(t){const e=H4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qm(e,e.limit,"L"):e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eU{constructor(){this._n=new tU}addToCollectionParentIndex(e,n){return this._n.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(zi.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(zi.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class tU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pt(Ue.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pt(Ue.comparator)).toArray()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Xo(0)}static Bn(){return new Xo(-1)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nU{constructor(){this.changes=new fa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class iU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&al(r.mutation,i,wn.empty(),mt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const i=ps();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Va();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ps();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Xr();const o=ol(),a=function(){return ol()}();return n.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof Xi)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),al(h.mutation,u,h.mutation.getFieldMask(),mt.now())):o.set(u.key,wn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var d;return a.set(u,new rU(h,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ol();let i=new Je((o,a)=>o-a),s=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||wn.empty();h=a.applyToLocalView(u,h),r.set(l,h);const d=(i.get(a.batchId)||we()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,d=Qk();h.forEach(f=>{if(!s.has(f)){const g=nE(n.get(f),r.get(f));g!==null&&d.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return V.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return se.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$k(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):V.resolve(ps());let a=-1,l=s;return o.next(u=>V.forEach(u,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?V.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,we())).next(h=>({batchId:a,changes:Gk(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let i=Va();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Va();return this.indexManager.getCollectionParents(e,s).next(a=>V.forEach(a,l=>{const u=function(h,d){return new da(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Wt.newInvalidDocument(h)))});let a=Va();return o.forEach((l,u)=>{const h=s.get(l);h!==void 0&&al(h.mutation,u,wn.empty(),mt.now()),Vd(n,u)&&(a=a.insert(l,u))}),a})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sU{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return V.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:kr(r.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:Z4(r.bundledQuery),readTime:kr(r.readTime)}}(n)),V.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oU{constructor(){this.overlays=new Je(se.comparator),this.hr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ps();return V.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),V.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){const i=ps(),s=n.length+1,o=new se(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Je((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=ps(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=ps(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return V.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new I4(n,r));let s=this.hr.get(n);s===void 0&&(s=we(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bv{constructor(){this.Pr=new Pt(vt.Ir),this.Tr=new Pt(vt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new vt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new vt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new se(new Ue([])),r=new vt(n,e),i=new vt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new se(new Ue([])),r=new vt(n,e),i=new vt(n,e+1);let s=we();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new vt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class vt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return se.comparator(e.key,n.key)||Te(e.pr,n.pr)}static Er(e,n){return Te(e.pr,n.pr)||se.comparator(e.key,n.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class aU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Pt(vt.Ir)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new N4(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new vt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,n){return V.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return V.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new vt(n,0),i=new vt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),V.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pt(Te);return n.forEach(i=>{const s=new vt(i,0),o=new vt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),V.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;se.isDocumentKey(s)||(s=s.child(""));const o=new vt(new se(s),0);let a=new Pt(Te);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},o),V.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ve(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return V.forEach(n.mutations,i=>{const s=new vt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new vt(n,0),i=this.wr.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lU{constructor(e){this.vr=e,this.docs=function(){return new Je(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=Xr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Wt.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Xr();const o=n.path,a=new se(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||GM(KM(h),r)<=0||(i.has(h.key)||Vd(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return V.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ce()}Fr(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new uU(this)}getSize(e){return V.resolve(this.size)}}class uU extends nU{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cU{constructor(e){this.persistence=e,this.Mr=new fa(n=>dv(n),fv),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.Or=0,this.Nr=new bv,this.targetCount=0,this.Br=Xo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),V.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Xo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.qn(n),V.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(s).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),V.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),V.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.Nr.containsKey(n))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hU{constructor(e,n){this.Lr={},this.overlays={},this.kr=new lv(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new cU(this),this.indexManager=new eU,this.remoteDocumentCache=function(r){return new lU(r)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Y4(n),this.$r=new sU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new aU(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const i=new dU(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return V.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class dU extends JM{constructor(e){super(),this.currentSequenceNumber=e}}class wv{constructor(e){this.persistence=e,this.zr=new bv,this.jr=null}static Hr(e){return new wv(e)}get Jr(){if(this.jr)return this.jr;throw ce()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),V.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Jr,r=>{const i=se.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,fe.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return V.or([()=>V.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _v{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=we(),i=we();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new _v(e,n.fromCache,r,i)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pU{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=8}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new fU;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Aa()<=Se.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),V.resolve()):(Aa()<=Se.DEBUG&&Z("QueryEngine","Query:",eo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Aa()<=Se.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cr(n))):V.resolve())}ji(e,n){if(Uw(n))return V.resolve(null);let r=Cr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=qm(n,null,"F"),r=Cr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=we(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,qm(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return Uw(n)||i.isEqual(fe.min())?V.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?V.resolve(null):(Aa()<=Se.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),eo(n)),this.es(e,o,n,HM(i,-1)).next(a=>a))})}Zi(e,n){let r=new Pt(Hk(e));return n.forEach((i,s)=>{Vd(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Aa()<=Se.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",eo(n)),this.zi.getDocumentsMatchingQuery(e,n,zi.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mU{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Je(Te),this.rs=new fa(s=>dv(s),fv),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iU(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function gU(t,e,n,r){return new mU(t,e,n,r)}async function fE(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=we();for(const u of i){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function yU(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const h=l.batch,d=h.keys();let f=V.resolve();return d.forEach(g=>{f=f.next(()=>u.getEntry(a,g)).next(v=>{const b=l.docVersions.get(g);Ve(b!==null),v.version.compareTo(b)<0&&(h.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),u.addEntry(v)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=we();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function pE(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function vU(t,e){const n=pe(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((h,d)=>{const f=i.get(d);if(!f)return;a.push(n.Qr.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,h.addedDocuments,d)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(Xt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(d,g),function(v,b,x){return v.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(f,g,h)&&a.push(n.Qr.updateTargetData(s,g))});let l=Xr(),u=we();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(bU(s,o,e.documentUpdates).next(h=>{l=h.cs,u=h.ls})),!r.isEqual(fe.min())){const h=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return V.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=i,s))}function bU(t,e,n){let r=we(),i=we();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Xr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(fe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:i}})}function wU(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _U(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,V.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new wi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Gm(t,e,n){const r=pe(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!_u(o))throw o;Z("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Qw(t,e,n){const r=pe(t);let i=fe.min(),s=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(a,l,u){const h=pe(a),d=h.rs.get(u);return d!==void 0?V.resolve(h.ns.get(d)):h.Qr.getTargetData(l,u)}(r,o,Cr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:fe.min(),n?s:we())).next(a=>(SU(r,f4(e),a),{documents:a,hs:s})))}function SU(t,e,n){let r=t.ss.get(e)||fe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class Jw{constructor(){this.activeTargetIds=b4()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xU{constructor(){this.no=new Jw,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Jw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class CU{io(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xw{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let uc=null;function lp(){return uc===null?uc=function(){return 268435456+Math.round(2147483648*Math.random())}():uc++,"0x"+uc.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const kU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class EU{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ut="WebChannelConnection";class TU extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=n+"://"+e.host,this.po=`projects/${r}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${i}`}get wo(){return!1}So(e,n,r,i,s){const o=lp(),a=this.bo(e,n);Z("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(l,i,s),this.Co(e,a,l,r).then(u=>(Z("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw Wo("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,s,o){return this.So(e,n,r,i,s)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ha}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}bo(e,n){const r=kU[e];return`${this.fo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=lp();return new Promise((o,a)=>{const l=new RM;l.setWithCredentials(!0),l.listenOnce(PM.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case op.NO_ERROR:const h=l.getResponseJson();Z(Ut,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case op.TIMEOUT:Z(Ut,`RPC '${e}' ${s} timed out`),a(new J(D.DEADLINE_EXCEEDED,"Request time out"));break;case op.HTTP_ERROR:const d=l.getStatus();if(Z(Ut,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const v=function(b){const x=b.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(x)>=0?x:D.UNKNOWN}(g.status);a(new J(v,g.message))}else a(new J(D.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new J(D.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{Z(Ut,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Z(Ut,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=lp(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=AM(),a=OM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");Z(Ut,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);let f=!1,g=!1;const v=new EU({lo:x=>{g?Z(Ut,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(f||(Z(Ut,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),Z(Ut,`RPC '${e}' stream ${i} sending:`,x),d.send(x))},ho:()=>d.close()}),b=(x,m,p)=>{x.listen(m,y=>{try{p(y)}catch(w){setTimeout(()=>{throw w},0)}})};return b(d,oc.EventType.OPEN,()=>{g||Z(Ut,`RPC '${e}' stream ${i} transport opened.`)}),b(d,oc.EventType.CLOSE,()=>{g||(g=!0,Z(Ut,`RPC '${e}' stream ${i} transport closed`),v.Vo())}),b(d,oc.EventType.ERROR,x=>{g||(g=!0,Wo(Ut,`RPC '${e}' stream ${i} transport errored:`,x),v.Vo(new J(D.UNAVAILABLE,"The operation could not be completed")))}),b(d,oc.EventType.MESSAGE,x=>{var m;if(!g){const p=x.data[0];Ve(!!p);const y=p,w=y.error||((m=y[0])===null||m===void 0?void 0:m.error);if(w){Z(Ut,`RPC '${e}' stream ${i} received error:`,w);const k=w.status;let I=function(O){const z=ot[O];if(z!==void 0)return iE(z)}(k),A=w.message;I===void 0&&(I=D.INTERNAL,A="Unknown error status: "+k+" with message "+w.message),g=!0,v.Vo(new J(I,A)),d.close()}else Z(Ut,`RPC '${e}' stream ${i} received:`,p),v.mo(p)}}),b(a,DM.STAT_EVENT,x=>{x.stat===Tw.PROXY?Z(Ut,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Tw.NOPROXY&&Z(Ut,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.Ro()},0),v}}function up(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function $d(t){return new U4(t,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mE{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&Z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gE{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new mE(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(Jr(n.toString()),Jr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new J(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return Z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NU extends gE{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=z4(this.serializer,e),r=function(i){if(!("targetChange"in i))return fe.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?fe.min():s.readTime?kr(s.readTime):fe.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Km(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=zm(a)?{documents:$4(i,a)}:{query:W4(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=aE(i,s.resumeToken);const l=$m(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(fe.min())>0){o.readTime=jh(i,s.snapshotVersion.toTimestamp());const l=$m(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=K4(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Km(this.serializer),n.removeTarget=e,this.t_(n)}}class IU extends gE{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=q4(e.writeResults,e.commitTime),r=kr(e.commitTime);return this.listener.T_(r,n)}return Ve(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Km(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>B4(this.serializer,r))};this.t_(n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jU extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new J(D.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.So(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J(D.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(D.UNKNOWN,s.toString())})}terminate(){this.A_=!0}}class AU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Jr(n),this.g_=!1):Z("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class OU{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{$s(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=pe(a);l.v_.add(4),await Cu(l),l.x_.set("Unknown"),l.v_.delete(4),await Wd(l)}(this))})}),this.x_=new AU(r,i)}}async function Wd(t){if($s(t))for(const e of t.F_)await e(!0)}async function Cu(t){for(const e of t.F_)await e(!1)}function yE(t,e){const n=pe(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Cv(n)?xv(n):pa(n).Jo()&&Sv(n,e))}function vE(t,e){const n=pe(t),r=pa(n);n.C_.delete(e),r.Jo()&&bE(n,e),n.C_.size===0&&(r.Jo()?r.Xo():$s(n)&&n.x_.set("Unknown"))}function Sv(t,e){if(t.O_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pa(t).c_(e)}function bE(t,e){t.O_.Ne(e),pa(t).l_(e)}function xv(t){t.O_=new D4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.C_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),pa(t).start(),t.x_.p_()}function Cv(t){return $s(t)&&!pa(t).Ho()&&t.C_.size>0}function $s(t){return pe(t).v_.size===0}function wE(t){t.O_=void 0}async function PU(t){t.C_.forEach((e,n)=>{Sv(t,e)})}async function DU(t,e){wE(t),Cv(t)?(t.x_.S_(e),xv(t)):t.x_.set("Unknown")}async function RU(t,e,n){if(t.x_.set("Online"),e instanceof oE&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.C_.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.C_.delete(o),r.O_.removeTarget(o))}(t,e)}catch(r){Z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ah(t,r)}else if(e instanceof Oc?t.O_.Ue(e):e instanceof sE?t.O_.Ye(e):t.O_.ze(e),!n.isEqual(fe.min()))try{const r=await pE(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.O_.st(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.C_.get(l);u&&i.C_.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const u=i.C_.get(a);if(!u)return;i.C_.set(a,u.withResumeToken(Xt.EMPTY_BYTE_STRING,u.snapshotVersion)),bE(i,a);const h=new wi(u.target,a,l,u.sequenceNumber);Sv(i,h)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Z("RemoteStore","Failed to raise snapshot:",r),await Ah(t,r)}}async function Ah(t,e,n){if(!_u(e))throw e;t.v_.add(1),await Cu(t),t.x_.set("Offline"),n||(n=()=>pE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Wd(t)})}function _E(t,e){return e().catch(n=>Ah(t,n,e))}async function Hd(t){const e=pe(t),n=qi(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;LU(e);)try{const i=await wU(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,MU(e,i)}catch(i){await Ah(e,i)}SE(e)&&xE(e)}function LU(t){return $s(t)&&t.D_.length<10}function MU(t,e){t.D_.push(e);const n=qi(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function SE(t){return $s(t)&&!qi(t).Ho()&&t.D_.length>0}function xE(t){qi(t).start()}async function UU(t){qi(t).d_()}async function FU(t){const e=qi(t);for(const n of t.D_)e.I_(n.mutations)}async function VU(t,e,n){const r=t.D_.shift(),i=gv.from(r,e,n);await _E(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Hd(t)}async function zU(t,e){e&&qi(t).P_&&await async function(n,r){if(function(i){return A4(i)&&i!==D.ABORTED}(r.code)){const i=n.D_.shift();qi(n).Zo(),await _E(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,r)),await Hd(n)}}(t,e),SE(t)&&xE(t)}async function Yw(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");const r=$s(n);n.v_.add(3),await Cu(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Wd(n)}async function BU(t,e){const n=pe(t);e?(n.v_.delete(2),await Wd(n)):e||(n.v_.add(2),await Cu(n),n.x_.set("Unknown"))}function pa(t){return t.N_||(t.N_=function(e,n,r){const i=pe(e);return i.R_(),new NU(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Po:PU.bind(null,t),To:DU.bind(null,t),u_:RU.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Cv(t)?xv(t):t.x_.set("Unknown")):(await t.N_.stop(),wE(t))})),t.N_}function qi(t){return t.B_||(t.B_=function(e,n,r){const i=pe(e);return i.R_(),new IU(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Po:UU.bind(null,t),To:zU.bind(null,t),E_:FU.bind(null,t),T_:VU.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await Hd(t)):(await t.B_.stop(),t.D_.length>0&&(Z("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new kv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ev(t,e){if(Jr("AsyncQueue",`${e}: ${t}`),_u(t))return new J(D.UNAVAILABLE,`${e}: ${t}`);throw t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ao{constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=Va(),this.sortedSet=new Je(this.comparator)}static emptySet(e){return new Ao(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ao)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ao;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zw{constructor(){this.L_=new Je(se.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):ce():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Yo{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Yo(e,n,Ao.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qU{constructor(){this.q_=void 0,this.listeners=[]}}class $U{constructor(){this.queries=new fa(e=>Wk(e),Fd),this.onlineState="Unknown",this.Q_=new Set}}async function Tv(t,e){const n=pe(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new qU),i)try{s.q_=await n.onListen(r)}catch(o){const a=Ev(o,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.K_(n.onlineState),s.q_&&e.U_(s.q_)&&Iv(n)}async function Nv(t,e){const n=pe(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function WU(t,e){const n=pe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.U_(i)&&(r=!0);o.q_=i}}r&&Iv(n)}function HU(t,e,n){const r=pe(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Iv(t){t.Q_.forEach(e=>{e.next()})}class jv{constructor(e,n,r){this.query=e,this.W_=n,this.G_=!1,this.z_=null,this.onlineState="Unknown",this.options=r||{}}U_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Yo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.G_?this.j_(e)&&(this.W_.next(e),n=!0):this.H_(e,this.onlineState)&&(this.J_(e),n=!0),this.z_=e,n}onError(e){this.W_.error(e)}K_(e){this.onlineState=e;let n=!1;return this.z_&&!this.G_&&this.H_(this.z_,e)&&(this.J_(this.z_),n=!0),n}H_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Y_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}j_(e){if(e.docChanges.length>0)return!0;const n=this.z_&&this.z_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}J_(e){e=Yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.G_=!0,this.W_.next(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class CE{constructor(e){this.key=e}}class kE{constructor(e){this.key=e}}class KU{constructor(e,n){this.query=e,this.sa=n,this.oa=null,this.hasCachedResults=!1,this.current=!1,this._a=we(),this.mutatedKeys=we(),this.aa=Hk(e),this.ua=new Ao(this.aa)}get ca(){return this.sa}la(e,n){const r=n?n.ha:new Zw,i=n?n.ua:this.ua;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const f=i.get(h),g=Vd(this.query,d)?d:null,v=!!f&&this.mutatedKeys.has(f.key),b=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;f&&g?f.data.isEqual(g.data)?v!==b&&(r.track({type:3,doc:g}),x=!0):this.Pa(f,g)||(r.track({type:2,doc:g}),x=!0,(l&&this.aa(g,l)>0||u&&this.aa(g,u)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),x=!0):f&&!g&&(r.track({type:1,doc:f}),x=!0,(l||u)&&(a=!0)),x&&(g?(o=o.add(g),s=b?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{ua:o,ha:r,Xi:a,mutatedKeys:s}}Pa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ua;this.ua=e.ua,this.mutatedKeys=e.mutatedKeys;const s=e.ha.k_();s.sort((u,h)=>function(d,f){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return g(d)-g(f)}(u.type,h.type)||this.aa(u.doc,h.doc)),this.Ia(r);const o=n?this.Ta():[],a=this._a.size===0&&this.current?1:0,l=a!==this.oa;return this.oa=a,s.length!==0||l?{snapshot:new Yo(this.query,e.ua,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}K_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ua:this.ua,ha:new Zw,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Ea:[]}}da(e){return!this.sa.has(e)&&!!this.ua.has(e)&&!this.ua.get(e).hasLocalMutations}Ia(e){e&&(e.addedDocuments.forEach(n=>this.sa=this.sa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.sa=this.sa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this._a;this._a=we(),this.ua.forEach(r=>{this.da(r.key)&&(this._a=this._a.add(r.key))});const n=[];return e.forEach(r=>{this._a.has(r)||n.push(new kE(r))}),this._a.forEach(r=>{e.has(r)||n.push(new CE(r))}),n}Aa(e){this.sa=e.hs,this._a=we();const n=this.la(e.documents);return this.applyChanges(n,!0)}Ra(){return Yo.fromInitialDocuments(this.query,this.ua,this.mutatedKeys,this.oa===0,this.hasCachedResults)}}class GU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class QU{constructor(e){this.key=e,this.Va=!1}}class JU{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ma={},this.fa=new fa(a=>Wk(a),Fd),this.ga=new Map,this.pa=new Set,this.ya=new Je(se.comparator),this.wa=new Map,this.Sa=new bv,this.ba={},this.Da=new Map,this.Ca=Xo.Bn(),this.onlineState="Unknown",this.va=void 0}get isPrimaryClient(){return this.va===!0}}async function XU(t,e){const n=aF(t);let r,i;const s=n.fa.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ra();else{const o=await _U(n.localStore,Cr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await YU(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&yE(n.remoteStore,o)}return i}async function YU(t,e,n,r,i){t.Fa=(d,f,g)=>async function(v,b,x,m){let p=b.view.la(x);p.Xi&&(p=await Qw(v.localStore,b.query,!1).then(({documents:k})=>b.view.la(k,p)));const y=m&&m.targetChanges.get(b.targetId),w=b.view.applyChanges(p,v.isPrimaryClient,y);return t_(v,b.targetId,w.Ea),w.snapshot}(t,d,f,g);const s=await Qw(t.localStore,e,!0),o=new KU(e,s.hs),a=o.la(s.documents),l=xu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);t_(t,n,u.Ea);const h=new GU(e,n,o);return t.fa.set(e,h),t.ga.has(n)?t.ga.get(n).push(e):t.ga.set(n,[e]),u.snapshot}async function ZU(t,e){const n=pe(t),r=n.fa.get(e),i=n.ga.get(r.targetId);if(i.length>1)return n.ga.set(r.targetId,i.filter(s=>!Fd(s,e))),void n.fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Gm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),vE(n.remoteStore,r.targetId),Qm(n,r.targetId)}).catch(wu)):(Qm(n,r.targetId),await Gm(n.localStore,r.targetId,!0))}async function eF(t,e,n){const r=lF(t);try{const i=await function(s,o){const a=pe(s),l=mt.now(),u=o.reduce((f,g)=>f.add(g.key),we());let h,d;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=Xr(),v=we();return a.os.getEntries(f,u).next(b=>{g=b,g.forEach((x,m)=>{m.isValidDocument()||(v=v.add(x))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,g)).next(b=>{h=b;const x=[];for(const m of o){const p=E4(m,h.get(m.key).overlayedDocument);p!=null&&x.push(new Xi(m.key,p,Mk(p.value.mapValue),Mn.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,x,o)}).next(b=>{d=b;const x=b.applyToLocalDocumentSet(h,v);return a.documentOverlayCache.saveOverlays(f,b.batchId,x)})}).then(()=>({batchId:d.batchId,changes:Gk(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.ba[s.currentUser.toKey()];l||(l=new Je(Te)),l=l.insert(o,a),s.ba[s.currentUser.toKey()]=l}(r,i.batchId,n),await ku(r,i.changes),await Hd(r.remoteStore)}catch(i){const s=Ev(i,"Failed to persist write");n.reject(s)}}async function EE(t,e){const n=pe(t);try{const r=await vU(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.wa.get(s);o&&(Ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Va=!0:i.modifiedDocuments.size>0?Ve(o.Va):i.removedDocuments.size>0&&(Ve(o.Va),o.Va=!1))}),await ku(n,r,e)}catch(r){await wu(r)}}function e_(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.fa.forEach((s,o)=>{const a=o.view.K_(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=pe(s);a.onlineState=o;let l=!1;a.queries.forEach((u,h)=>{for(const d of h.listeners)d.K_(o)&&(l=!0)}),l&&Iv(a)}(r.eventManager,e),i.length&&r.ma.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function tF(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.wa.get(e),s=i&&i.key;if(s){let o=new Je(se.comparator);o=o.insert(s,Wt.newNoDocument(s,fe.min()));const a=we().add(s),l=new qd(fe.min(),new Map,new Je(Te),o,a);await EE(r,l),r.ya=r.ya.remove(s),r.wa.delete(e),Av(r)}else await Gm(r.localStore,e,!1).then(()=>Qm(r,e,n)).catch(wu)}async function nF(t,e){const n=pe(t),r=e.batch.batchId;try{const i=await yU(n.localStore,e);NE(n,r,null),TE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ku(n,i)}catch(i){await wu(i)}}async function rF(t,e,n){const r=pe(t);try{const i=await function(s,o){const a=pe(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(h=>(Ve(h!==null),u=h.keys(),a.mutationQueue.removeMutationBatch(l,h))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);NE(r,e,n),TE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ku(r,i)}catch(i){await wu(i)}}function TE(t,e){(t.Da.get(e)||[]).forEach(n=>{n.resolve()}),t.Da.delete(e)}function NE(t,e,n){const r=pe(t);let i=r.ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ba[r.currentUser.toKey()]=i}}function Qm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ga.get(e))t.fa.delete(r),n&&t.ma.Ma(r,n);t.ga.delete(e),t.isPrimaryClient&&t.Sa.Vr(e).forEach(r=>{t.Sa.containsKey(r)||IE(t,r)})}function IE(t,e){t.pa.delete(e.path.canonicalString());const n=t.ya.get(e);n!==null&&(vE(t.remoteStore,n),t.ya=t.ya.remove(e),t.wa.delete(n),Av(t))}function t_(t,e,n){for(const r of n)r instanceof CE?(t.Sa.addReference(r.key,e),iF(t,r)):r instanceof kE?(Z("SyncEngine","Document no longer in limbo: "+r.key),t.Sa.removeReference(r.key,e),t.Sa.containsKey(r.key)||IE(t,r.key)):ce()}function iF(t,e){const n=e.key,r=n.path.canonicalString();t.ya.get(n)||t.pa.has(r)||(Z("SyncEngine","New document in limbo: "+n),t.pa.add(r),Av(t))}function Av(t){for(;t.pa.size>0&&t.ya.size<t.maxConcurrentLimboResolutions;){const e=t.pa.values().next().value;t.pa.delete(e);const n=new se(Ue.fromString(e)),r=t.Ca.next();t.wa.set(r,new QU(n)),t.ya=t.ya.insert(n,r),yE(t.remoteStore,new wi(Cr(Ud(n.path)),r,"TargetPurposeLimboResolution",lv.ae))}}async function ku(t,e,n){const r=pe(t),i=[],s=[],o=[];r.fa.isEmpty()||(r.fa.forEach((a,l)=>{o.push(r.Fa(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const h=_v.Ki(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.ma.u_(i),await async function(a,l){const u=pe(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>V.forEach(l,d=>V.forEach(d.qi,f=>u.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>V.forEach(d.Qi,f=>u.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!_u(h))throw h;Z("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const d=h.targetId;if(!h.fromCache){const f=u.ns.get(d),g=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(g);u.ns=u.ns.insert(d,v)}}}(r.localStore,s))}async function sF(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){Z("SyncEngine","User change. New user:",e.toKey());const r=await fE(n.localStore,e);n.currentUser=e,function(i,s){i.Da.forEach(o=>{o.forEach(a=>{a.reject(new J(D.CANCELLED,s))})}),i.Da.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ku(n,r.us)}}function oF(t,e){const n=pe(t),r=n.wa.get(e);if(r&&r.Va)return we().add(r.key);{let i=we();const s=n.ga.get(e);if(!s)return i;for(const o of s){const a=n.fa.get(o);i=i.unionWith(a.view.ca)}return i}}function aF(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=EE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tF.bind(null,e),e.ma.u_=WU.bind(null,e.eventManager),e.ma.Ma=HU.bind(null,e.eventManager),e}function lF(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rF.bind(null,e),e}class n_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=$d(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return gU(this.persistence,new pU,e.initialUser,this.serializer)}createPersistence(e){return new hU(wv.Hr,this.serializer)}createSharedClientState(e){return new xU}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class uF{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>e_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=sF.bind(null,this.syncEngine),await BU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $U}()}createDatastore(e){const n=$d(e.databaseInfo.databaseId),r=function(i){return new TU(i)}(e.databaseInfo);return function(i,s,o,a){return new jU(i,s,o,a)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(n,r,i,s,o){return new OU(n,r,i,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>e_(this.syncEngine,n,0),function(){return Xw.C()?new Xw:new CU}())}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const h=new JU(r,i,s,o,a,l);return u&&(h.va=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=pe(e);Z("RemoteStore","RemoteStore shutting down."),n.v_.add(5),await Cu(n),n.M_.shutdown(),n.x_.set("Unknown")}(this.remoteStore)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ov{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Na(this.observer.next,e)}error(e){this.observer.error?this.Na(this.observer.error,e):Jr("Uncaught Error in snapshot listener:",e.toString())}Ba(){this.muted=!0}Na(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cF{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qt.UNAUTHENTICATED,this.clientId=Dk.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Z("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ev(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cp(t,e){t.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await fE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function r_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dF(t);Z("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Yw(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Yw(e.remoteStore,s)),t._onlineComponents=e}function hF(t){return t.name==="FirebaseError"?t.code===D.FAILED_PRECONDITION||t.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function dF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z("FirestoreClient","Using user provided OfflineComponentProvider");try{await cp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!hF(n))throw n;Wo("Error using user provided cache. Falling back to memory cache: "+n),await cp(t,new n_)}}else Z("FirestoreClient","Using default OfflineComponentProvider"),await cp(t,new n_);return t._offlineComponents}async function jE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z("FirestoreClient","Using user provided OnlineComponentProvider"),await r_(t,t._uninitializedComponentsProvider._online)):(Z("FirestoreClient","Using default OnlineComponentProvider"),await r_(t,new uF))),t._onlineComponents}function fF(t){return jE(t).then(e=>e.syncEngine)}async function Oh(t){const e=await jE(t),n=e.eventManager;return n.onListen=XU.bind(null,e.syncEngine),n.onUnlisten=ZU.bind(null,e.syncEngine),n}function pF(t,e,n={}){const r=new Br;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new Ov({next:d=>{s.enqueueAndForget(()=>Nv(i,h));const f=d.docs.has(o);!f&&d.fromCache?l.reject(new J(D.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&a&&a.source==="server"?l.reject(new J(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),h=new jv(Ud(o.path),u,{includeMetadataChanges:!0,Y_:!0});return Tv(i,h)}(await Oh(t),t.asyncQueue,e,n,r)),r.promise}function mF(t,e,n={}){const r=new Br;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new Ov({next:d=>{s.enqueueAndForget(()=>Nv(i,h)),d.fromCache&&a.source==="server"?l.reject(new J(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),h=new jv(o,u,{includeMetadataChanges:!0,Y_:!0});return Tv(i,h)}(await Oh(t),t.asyncQueue,e,n,r)),r.promise}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function AE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const i_=new Map;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function OE(t,e,n){if(!n)throw new J(D.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function gF(t,e,n,r){if(e===!0&&r===!0)throw new J(D.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function s_(t){if(!se.isDocumentKey(t))throw new J(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function o_(t){if(se.isDocumentKey(t))throw new J(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Kd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function pn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kd(t);throw new J(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class a_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new J(D.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new J(D.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new J(D.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,r){return n.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new J(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a_(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new MM;switch(n.type){case"firstParty":return new zM(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new J(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=i_.get(e);n&&(Z("ComponentProvider","Removing Datastore"),i_.delete(e),n.terminate())}(this),Promise.resolve()}}function yF(t,e,n,r={}){var i;const s=(t=pn(t,Gd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=qt.MOCK_USER;else{a=ix(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new J(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new qt(u)}t._authCredentials=new UM(new Pk(a,l))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yi(this.firestore,e,this._query)}}class Gt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}}class Pi extends Yi{constructor(e,n,r){super(e,n,Ud(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new se(e))}withConverter(e){return new Pi(this.firestore,e,this._path)}}function He(t,e,...n){if(t=Qe(t),OE("collection","path",e),t instanceof Gd){const r=Ue.fromString(e,...n);return o_(r),new Pi(t,null,r)}{if(!(t instanceof Gt||t instanceof Pi))throw new J(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return o_(r),new Pi(t.firestore,null,r)}}function ae(t,e,...n){if(t=Qe(t),arguments.length===1&&(e=Dk.V()),OE("doc","path",e),t instanceof Gd){const r=Ue.fromString(e,...n);return s_(r),new Gt(t,null,new se(r))}{if(!(t instanceof Gt||t instanceof Pi))throw new J(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return s_(r),new Gt(t.firestore,t instanceof Pi?t.converter:null,new se(r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vF{constructor(){this.Ya=Promise.resolve(),this.Za=[],this.Xa=!1,this.eu=[],this.tu=null,this.nu=!1,this.ru=!1,this.iu=[],this.jo=new mE(this,"async_queue_retry"),this.su=()=>{const n=up();n&&Z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=up();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.su)}get isShuttingDown(){return this.Xa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ou(),this._u(e)}enterRestrictedMode(e){if(!this.Xa){this.Xa=!0,this.ru=e||!1;const n=up();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.su)}}enqueue(e){if(this.ou(),this.Xa)return new Promise(()=>{});const n=new Br;return this._u(()=>this.Xa&&this.ru?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Za.push(e),this.au()))}async au(){if(this.Za.length!==0){try{await this.Za[0](),this.Za.shift(),this.jo.reset()}catch(e){if(!_u(e))throw e;Z("AsyncQueue","Operation failed with retryable error: "+e)}this.Za.length>0&&this.jo.qo(()=>this.au())}}_u(e){const n=this.Ya.then(()=>(this.nu=!0,e().catch(r=>{this.tu=r,this.nu=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Jr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.nu=!1,r))));return this.Ya=n,n}enqueueAfterDelay(e,n,r){this.ou(),this.iu.indexOf(e)>-1&&(n=0);const i=kv.createAndSchedule(this,e,n,r,s=>this.uu(s));return this.eu.push(i),i}ou(){this.tu&&ce()}verifyOperationInProgress(){}async cu(){let e;do e=this.Ya,await e;while(e!==this.Ya)}lu(e){for(const n of this.eu)if(n.timerId===e)return!0;return!1}hu(e){return this.cu().then(()=>{this.eu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.cu()})}Pu(e){this.iu.push(e)}uu(e){const n=this.eu.indexOf(e);this.eu.splice(n,1)}}function l_(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Yr extends Gd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new vF}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||PE(this),this._firestoreClient.terminate()}}function bF(t,e){const n=typeof t=="object"?t:cy(),r=typeof t=="string"?t:e||"(default)",i=sd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=tx("firestore");s&&yF(i,...s)}return i}function Qd(t){return t._firestoreClient||PE(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function PE(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,u){return new ZM(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,AE(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new cF(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zo(Xt.fromBase64String(e))}catch(n){throw new J(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zo(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Jd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ma{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wF=/^__.*__$/;class _F{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Su(e,this.data,n,this.fieldTransforms)}}class DE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function RE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}class Xd{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Iu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new Xd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}du(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Au:!1});return i.Ru(e),i}Vu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Au:!1});return i.Iu(),i}mu(e){return this.Eu({path:void 0,Au:!0})}fu(e){return Ph(e,this.settings.methodName,this.settings.gu||!1,this.path,this.settings.pu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Iu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ru(this.path.get(e))}Ru(e){if(e.length===0)throw this.fu("Document fields must not be empty");if(RE(this.Tu)&&wF.test(e))throw this.fu('Document fields cannot begin and end with "__"')}}class SF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$d(e)}yu(e,n,r,i=!1){return new Xd({Tu:e,methodName:n,pu:r,path:jt.emptyPath(),Au:!1,gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yd(t){const e=t._freezeSettings(),n=$d(t._databaseId);return new SF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function LE(t,e,n,r,i,s={}){const o=t.yu(s.merge||s.mergeFields?2:0,e,n,i);Rv("Data must be an object, but it was:",o,r);const a=UE(r,o);let l,u;if(s.merge)l=new wn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const f=Jm(e,d,n);if(!o.contains(f))throw new J(D.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);VE(h,f)||h.push(f)}l=new wn(h),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new _F(new un(a),l,u)}class Zd extends ma{_toFieldTransform(e){if(e.Tu!==2)throw e.Tu===1?e.fu(`${this._methodName}() can only appear at the top level of your update data`):e.fu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zd}}function ME(t,e,n){return new Xd({Tu:3,pu:e.settings.pu,methodName:t._methodName,Au:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Dv extends ma{_toFieldTransform(e){return new pv(e.path,new Wl)}isEqual(e){return e instanceof Dv}}class xF extends ma{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=ME(this,e,!0),r=this.wu.map(s=>Ws(s,n)),i=new Qo(r);return new pv(e.path,i)}isEqual(e){return this===e}}class CF extends ma{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=ME(this,e,!0),r=this.wu.map(s=>Ws(s,n)),i=new Jo(r);return new pv(e.path,i)}isEqual(e){return this===e}}function kF(t,e,n,r){const i=t.yu(1,e,n);Rv("Data must be an object, but it was:",i,r);const s=[],o=un.empty();qs(r,(l,u)=>{const h=Lv(e,l,n);u=Qe(u);const d=i.Vu(h);if(u instanceof Zd)s.push(h);else{const f=Ws(u,d);f!=null&&(s.push(h),o.set(h,f))}});const a=new wn(s);return new DE(o,a,i.fieldTransforms)}function EF(t,e,n,r,i,s){const o=t.yu(1,e,n),a=[Jm(e,r,n)],l=[i];if(s.length%2!=0)throw new J(D.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Jm(e,s[f])),l.push(s[f+1]);const u=[],h=un.empty();for(let f=a.length-1;f>=0;--f)if(!VE(u,a[f])){const g=a[f];let v=l[f];v=Qe(v);const b=o.Vu(g);if(v instanceof Zd)u.push(g);else{const x=Ws(v,b);x!=null&&(u.push(g),h.set(g,x))}}const d=new wn(u);return new DE(h,d,o.fieldTransforms)}function TF(t,e,n,r=!1){return Ws(n,t.yu(r?4:3,e))}function Ws(t,e){if(FE(t=Qe(t)))return Rv("Unsupported field value:",e,t),UE(t,e);if(t instanceof ma)return function(n,r){if(!RE(r.Tu))throw r.fu(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.fu(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Au&&e.Tu!==4)throw e.fu("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Ws(o,r.mu(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Qe(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return w4(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=mt.fromDate(n);return{timestampValue:jh(r.serializer,i)}}if(n instanceof mt){const i=new mt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:jh(r.serializer,i)}}if(n instanceof Pv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Zo)return{bytesValue:aE(r.serializer,n._byteString)};if(n instanceof Gt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.fu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:vv(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.fu(`Unsupported field value: ${Kd(n)}`)}(t,e)}function UE(t,e){const n={};return Rk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qs(t,(r,i)=>{const s=Ws(i,e.du(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function FE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof Pv||t instanceof Zo||t instanceof Gt||t instanceof ma)}function Rv(t,e,n){if(!FE(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Kd(n);throw r==="an object"?e.fu(t+" a custom object"):e.fu(t+" "+r)}}function Jm(t,e,n){if((e=Qe(e))instanceof Jd)return e._internalPath;if(typeof e=="string")return Lv(t,e);throw Ph("Field path arguments must be of type string or ",t,!1,void 0,n)}const NF=new RegExp("[~\\*/\\[\\]]");function Lv(t,e,n){if(e.search(NF)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jd(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ph(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new J(D.INVALID_ARGUMENT,a+t+l)}function VE(t,e){return t.some(n=>n.isEqual(e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zE{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ef("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class IF extends zE{data(){return super.data()}}function ef(t,e){return typeof e=="string"?Lv(t,e):e instanceof Jd?e._internalPath:e._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function BE(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mv{}class qE extends Mv{}function qr(t,e,...n){let r=[];e instanceof Mv&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Uv).length,o=i.filter(a=>a instanceof tf).length;if(s>1||s>0&&o>0)throw new J(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class tf extends qE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new tf(e,n,r)}_apply(e){const n=this._parse(e);return WE(e._query,n),new Yi(e.firestore,e.converter,Bm(e._query,n))}_parse(e){const n=Yd(e.firestore);return function(r,i,s,o,a,l,u){let h;if(a.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new J(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){c_(u,l);const d=[];for(const f of u)d.push(u_(o,r,f));h={arrayValue:{values:d}}}else h=u_(o,r,u)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||c_(u,l),h=TF(s,i,u,l==="in"||l==="not-in");return ct.create(a,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ln(t,e,n){const r=e,i=ef("where",t);return tf._create(i,r,n)}class Uv extends Mv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Uv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:rr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)WE(s,a),s=Bm(s,a)}(e._query,n),new Yi(e.firestore,e.converter,Bm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Fv extends qE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Fv(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new J(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new J(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $l(i,s)}(e._query,this._field,this._direction);return new Yi(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new da(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function $E(t,e="asc"){const n=e,r=ef("orderBy",t);return Fv._create(r,n)}function u_(t,e,n){if(typeof(n=Qe(n))=="string"){if(n==="")throw new J(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$k(e)&&n.indexOf("/")!==-1)throw new J(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ue.fromString(n));if(!se.isDocumentKey(r))throw new J(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ow(t,new se(r))}if(n instanceof Gt)return Ow(t,n._key);throw new J(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kd(n)}.`)}function c_(t,e){if(!Array.isArray(t)||t.length===0)throw new J(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WE(t,e){const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(D.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(D.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jF{convertValue(e,n="none"){switch(Ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return qs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Pv(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=cv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zl(e));default:return null}}convertTimestamp(e){const n=Bi(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ue.fromString(e);Ve(dE(r));const i=new Bl(r.get(1),r.get(3)),s=new se(r.popFirst(5));return i.isEqual(n)||Jr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function HE(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ba{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class KE extends zE{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ef("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Pc extends KE{data(e={}){return super.data(e)}}class GE{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ba(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Pc(this._firestore,this._userDataWriter,r.key,r,new Ba(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Pc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ba(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Pc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ba(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:AF(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function AF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ye(t){t=pn(t,Gt);const e=pn(t.firestore,Yr);return pF(Qd(e),t._key).then(n=>QE(e,t,n))}class Vv extends jF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,n)}}function _n(t){t=pn(t,Yi);const e=pn(t.firestore,Yr),n=Qd(e),r=new Vv(e);return BE(t._query),mF(n,t._query).then(i=>new GE(e,r,t,i))}function zv(t,e,n){t=pn(t,Gt);const r=pn(t.firestore,Yr),i=HE(t.converter,e,n);return nf(r,[LE(Yd(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Mn.none())])}function ft(t,e,n,...r){t=pn(t,Gt);const i=pn(t.firestore,Yr),s=Yd(i);let o;return o=typeof(e=Qe(e))=="string"||e instanceof Jd?EF(s,"updateDoc",t._key,e,n,r):kF(s,"updateDoc",t._key,e),nf(i,[o.toMutation(t._key,Mn.exists(!0))])}function Xm(t){return nf(pn(t.firestore,Yr),[new mv(t._key,Mn.none())])}function Ds(t,e){const n=pn(t.firestore,Yr),r=ae(t),i=HE(t.converter,e);return nf(n,[LE(Yd(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Mn.exists(!1))]).then(()=>r)}function Bv(t,...e){var n,r,i;t=Qe(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||l_(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(l_(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,h;if(t instanceof Gt)u=pn(t.firestore,Yr),h=Ud(t._key.path),l={next:d=>{e[o]&&e[o](QE(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=pn(t,Yi);u=pn(d.firestore,Yr),h=d._query;const f=new Vv(u);l={next:g=>{e[o]&&e[o](new GE(u,f,d,g))},error:e[o+1],complete:e[o+2]},BE(t._query)}return function(d,f,g,v){const b=new Ov(v),x=new jv(f,b,g);return d.asyncQueue.enqueueAndForget(async()=>Tv(await Oh(d),x)),()=>{b.Ba(),d.asyncQueue.enqueueAndForget(async()=>Nv(await Oh(d),x))}}(Qd(u),h,a,l)}function nf(t,e){return function(n,r){const i=new Br;return n.asyncQueue.enqueueAndForget(async()=>eF(await fF(n),r,i)),i.promise}(Qd(t),e)}function QE(t,e,n){const r=n.docs.get(e._key),i=new Vv(t);return new KE(t,i,e._key,r,new Ba(n.hasPendingWrites,n.fromCache),e.converter)}function Oo(){return new Dv("serverTimestamp")}function Ym(...t){return new xF("arrayUnion",t)}function h_(...t){return new CF("arrayRemove",t)}(function(t,e=!0){(function(n){ha=n})(Fs),Ts(new Vi("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Yr(new FM(n.getProvider("auth-internal")),new qM(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new J(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),_r(Nw,"4.3.0",t),_r(Nw,"4.3.0","esm2017")})();const OF={apiKey:"AIzaSyCGQM0_diw6g0DL1t8mhAjLl1UR6lVdqc4",authDomain:"softwareengineeringproje-ce511.firebaseapp.com",projectId:"softwareengineeringproje-ce511",storageBucket:"softwareengineeringproje-ce511.appspot.com",messagingSenderId:"539519997261",appId:"1:539519997261:web:11a7ff83a73b35d8321304",measurementId:"G-8EJL2PFGMK"},JE=ax(OF);Ie(JE);const Po=EL(JE);new Qn;const Y=bF(),PF="_logoContainer_1jgbe_1",DF="_logo_1jgbe_1",RF="_logoTitle_1jgbe_13",hp={logoContainer:PF,logo:DF,logoTitle:RF},qv=()=>c.jsxs("div",{className:hp.logoContainer,children:[c.jsx("img",{src:"/public/logo.jpg",alt:"Your Logo",className:hp.logo}),c.jsx("div",{className:hp.logoTitle,children:c.jsx("h1",{children:"TAKE OFF"})})]}),LF="_dividerContainer_rfi2p_1",MF="_divider_rfi2p_1",UF="_dividerContent_rfi2p_18",cc={dividerContainer:LF,divider:MF,dividerContent:UF},XE=()=>c.jsxs("div",{className:cc.dividerContainer,children:[c.jsx("span",{className:cc.divider}),c.jsx("span",{className:cc.dividerContent,children:"or"}),c.jsx("span",{className:cc.divider})]});var YE={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(YE);var FF=YE.exports;const VF=dg(FF),zF=["as","disabled"];function BF(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function qF(t){return!t||t.trim()==="#"}function ZE({tagName:t,disabled:e,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:a=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");const u={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},u];const h=f=>{if((e||t==="a"&&qF(n))&&f.preventDefault(),e){f.stopPropagation();return}o==null||o(f)},d=f=>{f.key===" "&&(f.preventDefault(),h(f))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:h,onKeyDown:d},u]}const $F=S.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=BF(t,zF);const[s,{tagName:o}]=ZE(Object.assign({tagName:n,disabled:r},i));return c.jsx(o,Object.assign({},i,s,{ref:e}))});$F.displayName="Button";const WF=["xxl","xl","lg","md","sm","xs"],HF="xs",KF=S.createContext({prefixes:{},breakpoints:WF,minBreakpoint:HF});function GF(t,e){const{prefixes:n}=S.useContext(KF);return t||n[e]||e}const eT=S.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:s=!1,className:o,...a},l)=>{const u=GF(e,"btn"),[h,{tagName:d}]=ZE({tagName:t,disabled:s,...a}),f=d;return c.jsx(f,{...h,...a,ref:l,disabled:s,className:VF(o,u,i&&"active",n&&`${u}-${n}`,r&&`${u}-${r}`,a.href&&s&&"disabled")})});eT.displayName="Button";const $v=eT,QF=()=>{var t,e;const{user:n,setUser:r}=Xx(),{register:i,handleSubmit:s,formState:o}=jy(),{errors:a}=o,l=Ir();S.useEffect(()=>{n&&l("/feed")},[n,l]);const u=x=>{const m=Ie();DO(m,x.email,x.password).then(p=>{r(p.user),l("/feed")}).catch(p=>{console.error("Error signing in: ",p.message),alert("Error signing in: "+p.message)})},h=async()=>{const x=new Qn,m=Ie();try{const p=(await zx(m,x)).user;r(p),await f(p),l("/feed")}catch(p){console.error("Error signing in with Google: ",p.message),alert("Error signing in with Google: "+p.message)}},d=async x=>{try{const m=x.uid,p=g(x);await zv(ae(Y,"users",m),p),console.log("User profile saved successfully")}catch(m){console.error("Error saving user profile:",m)}},f=async x=>{const m=ae(Y,"users",x.uid),p=await Ye(m);console.log("docSnap.exists(): ",p.exists()),p.exists()?console.log("User already exists in Firestore"):await d(x)},g=x=>({firstName:x.firstName||"",lastName:x.lastName||"",email:x.email||"",profilePicture:"https://cdn.onlinewebfonts.com/svg/img_383214.png",title:"",education:"",skills:[],interests:[],bio:"",followersCount:0,posts:[],comments:[],experience:[],contacts:[],createdAt:new Date,lastLogin:new Date}),[v,b]=S.useState(!1);return c.jsxs(c.Fragment,{children:[c.jsx(qv,{}),c.jsxs("div",{className:ur.registerContainer,children:[c.jsx("h1",{children:"Welcome back, We missed you"}),c.jsxs("form",{onSubmit:s(u),noValidate:!0,children:[c.jsxs("div",{className:ur.formGroup,children:[c.jsx("label",{htmlFor:"email",children:"Email:"}),c.jsx("input",{type:"email",id:"email",...i("email",{required:"Email is required!",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Invalid email format"}})}),c.jsx("p",{className:ur.error,children:(t=a.email)==null?void 0:t.message})]}),c.jsxs("div",{className:ur.formGroup,children:[c.jsx("label",{htmlFor:"password",children:"Password:"}),c.jsx("div",{className:ur.passwordContainer,children:c.jsx("input",{type:v?"text":"password",id:"password",...i("password",{required:"Password is required!",pattern:{value:/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*\W)(?!.* ).{8,}$/,message:"Password must contain at least one lowercase letter, one uppercase letter, one special character, and at least 8 digits without spaces."}}),className:ur.passwordInput})}),c.jsx("p",{className:ur.error,children:(e=a.password)==null?void 0:e.message})]}),c.jsx($v,{id:"registerButton",variant:"primary",size:"lg",className:ur.registerBtn,type:"submit",style:{backgroundColor:"#7F61A9"},children:"Sign In"}),c.jsx(XE,{}),c.jsxs("div",{className:ur.googleSignIn,children:[c.jsx("img",{src:"/public/flat-color-icons_google.svg",alt:"google logo"}),c.jsxs("button",{type:"button",onClick:h,className:ur.GSignInBtn,children:[" ","Sign in with Google"]})]})]})]})]})},JF="_logo_km6mi_4",XF="_registerContainer_km6mi_10",YF="_formGroup_km6mi_27",ZF="_error_km6mi_68",e3="_passwordContainer_km6mi_91",t3="_registerBtn_km6mi_96",n3="_googleSignIn_km6mi_100",r3="_GSignInBtn_km6mi_126",$n={logo:JF,registerContainer:XF,formGroup:YF,error:ZF,passwordContainer:e3,registerBtn:t3,googleSignIn:n3,GSignInBtn:r3},i3=()=>{var t,e,n;const{user:r,setUser:i}=Xx(),{register:s,handleSubmit:o,formState:a}=jy(),{errors:l}=a,u=Ir(),h=b=>{const x=Ie(),{email:m,password:p}=b;PO(x,m,p).then(y=>{const w=y.user;i(w),v(w,b),console.log("Registered successfully!",w),alert("Registered successfully! "),u("/create-profile")}).catch(y=>{console.error("Error registering:",y.message),alert("Error registering: "+y.message)})},[d,f]=S.useState(!1),g=()=>{const b=new Qn,x=Ie();zx(x,b).then(m=>{var p;const y=(p=m.additionalUserInfo)==null?void 0:p.isNewUser,w=m.user;i(m.user),y&&v(w),u("/feed")}).catch(m=>{console.error("Error signing in with Google: ",m.message),alert("Error signing in with Google: "+m.message)})},v=async(b,x)=>{try{const m=b.uid,p={userID:m,email:b.email,firstName:x.firstName||"",lastName:x.lastName||"",profilePicture:x.profilePicture||"https://cdn.onlinewebfonts.com/svg/img_383214.png",title:x.title||"",education:x.education||"",skills:x.skills||[],interests:x.interests||[],bio:x.bio||"",followersCount:0,posts:[],comments:[],experience:x.experience||[],contacts:x.contacts||[],createdAt:new Date,lastLogin:new Date,birthday:x.birthday||""};await zv(ae(Y,"users",m),p),console.log("User profile saved successfully")}catch(m){console.error("Error saving user profile:",m)}};return c.jsxs(c.Fragment,{children:[c.jsx(qv,{}),c.jsxs("div",{className:$n.registerContainer,children:[c.jsx("h1",{children:"Elevate Your Professional Journey"}),c.jsx("h6",{children:"Let’s start with a few details from you"}),c.jsxs("form",{onSubmit:o(h),noValidate:!0,children:[c.jsxs("div",{className:$n.formGroup,children:[c.jsx("label",{htmlFor:"email",children:"Email:"}),c.jsx("input",{type:"email",id:"email",...s("email",{required:"Email is required!",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Invalid email format"}})}),c.jsx("p",{className:$n.error,children:(t=l.email)==null?void 0:t.message})]}),c.jsxs("div",{className:$n.formGroup,children:[c.jsx("label",{htmlFor:"password",children:"Password:"}),c.jsx("div",{className:$n.passwordContainer,children:c.jsx("input",{type:d?"text":"password",id:"password",...s("password",{required:"Password is required!",pattern:{value:/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*\W)(?!.* ).{8,}$/,message:"Password must contain at least one lowercase letter, one uppercase letter, one special character, and at least 8 digits without spaces."}}),className:$n.passwordInput})}),c.jsx("p",{className:$n.error,children:(e=l.password)==null?void 0:e.message})]}),c.jsxs("div",{className:$n.formGroup,children:[c.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password:"}),c.jsx("input",{type:"password",id:"confirmPassword",...s("confirmPassword",{validate:b=>b===document.getElementById("password").value||"Passwords do not match."})}),c.jsx("p",{className:$n.error,children:(n=l.confirmPassword)==null?void 0:n.message})]}),c.jsx($v,{variant:"primary",size:"lg",className:"registerBtn",type:"submit",style:{backgroundColor:"#7F61A9"},children:"Register"}),c.jsx(XE,{}),c.jsxs("div",{className:$n.googleSignIn,children:[c.jsx("img",{src:"/public/flat-color-icons_google.svg",alt:"google logo"}),c.jsxs("button",{type:"button",onClick:g,className:$n.GSignInBtn,children:[" ","Sign in with Google"]})]})]})]})]})},s3="_navBar_1ykzh_1",o3="_navLogo_1ykzh_15",a3="_menuIcon_1ykzh_24",l3="_mobNavBar_1ykzh_24",u3="_navMenu1_1ykzh_28",c3="_navMenu1List_1ykzh_34",h3="_navMenu1ListItem_1ykzh_42",d3="_navMenu2_1ykzh_53",f3="_searchBarContainer_1ykzh_62",p3="_searchIcon_1ykzh_73",m3="_searchInput_1ykzh_79",g3="_searchResults_1ykzh_101",y3="_icons_1ykzh_117",v3="_profilePicContainer_1ykzh_124",b3="_profilePic_1ykzh_124",w3="_menu_1ykzh_24",_3="_menuItemLink_1ykzh_146",S3="_logoIcon_1ykzh_168",x3="_menuItem_1ykzh_146",C3="_icon_1ykzh_117",he={navBar:s3,navLogo:o3,menuIcon:a3,mobNavBar:l3,navMenu1:u3,navMenu1List:c3,navMenu1ListItem:h3,navMenu2:d3,searchBarContainer:f3,searchIcon:p3,searchInput:m3,searchResults:g3,icons:y3,profilePicContainer:v3,profilePic:b3,menu:w3,menuItemLink:_3,logoIcon:S3,menuItem:x3,icon:C3};var tT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},d_=It.createContext&&It.createContext(tT),Di=globalThis&&globalThis.__assign||function(){return Di=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Di.apply(this,arguments)},k3=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function nT(t){return t&&t.map(function(e,n){return It.createElement(e.tag,Di({key:n},e.attr),nT(e.child))})}function Hs(t){return function(e){return It.createElement(E3,Di({attr:Di({},t.attr)},e),nT(t.child))}}function E3(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=k3(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),It.createElement("svg",Di({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Di(Di({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&It.createElement("title",null,s),t.children)};return d_!==void 0?It.createElement(d_.Consumer,null,function(n){return e(n)}):e(tT)}function T3(t){return Hs({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M1 3h14v3h-14zM1 7h14v3h-14zM1 11h14v3h-14z"}}]})(t)}const Eu=({onFindJobsClick:t,onSavedJobsClick:e,handleTabClick:n})=>{const[r,i]=S.useState(!1),[s,o]=S.useState(!1),a=()=>{i(!r)},l=()=>{o(!s)};S.useContext(uu);const u=Ir(),[h,d]=S.useState(!1),[f,g]=S.useState(null),[v,b]=S.useState(null),x=Ie().currentUser,[m,p]=S.useState(""),[y,w]=S.useState([]);S.useEffect(()=>{if(x){const O=ae(Y,"users",x.uid);Ye(O).then(z=>{if(z.exists()){const W=z.data();g(W.profilePicture)}else console.error("User document doesn't exist!")}).catch(z=>{console.error("Error fetching user data:",z)})}(async()=>{const O=await I("media/logo.jpg");b(O)})()},[]);const k=()=>{const O=Ie();UO(O).then(()=>{u("/")}).catch(z=>{console.error("Error signing out: ",z.message),alert("Error signing out: "+z.message)})},I=async O=>{try{const z=No(Po,O);return await To(z)}catch(z){return console.error("Error fetching image URL: ",z),null}},A=O=>{p(O.target.value)};return S.useEffect(()=>{(async()=>{try{const O=He(Y,"users"),z=qr(O,ln("firstName",">=",m),ln("firstName","<=",m+"")),W=qr(O,ln("lastName",">=",m),ln("lastName","<=",m+"")),[me,K]=await Promise.all([_n(z),_n(W)]),ie=me.docs.map(U=>({id:U.id,firstName:U.data().firstName,lastName:U.data().lastName})),T=K.docs.map(U=>({id:U.id,firstName:U.data().firstName,lastName:U.data().lastName})),P=[...ie,...T];w(P)}catch(O){console.error("Error searching users:",O)}})()},[m]),c.jsx(c.Fragment,{children:c.jsxs("div",{className:he.navBar,children:[c.jsxs("div",{className:he.logoIcon,children:[c.jsx("img",{className:he.navLogo,src:v,alt:"logo"}),!h&&c.jsxs("div",{className:he.menu,children:[c.jsx("div",{className:he.menuItem,children:c.jsx(Bt,{to:"/feed",className:he.menuItemLink,children:c.jsx("img",{className:he.icon,src:"./home.svg",alt:"home",style:{fill:"#9F9BB9"}})})}),c.jsx("div",{className:he.menuItem,children:c.jsx(Bt,{to:"/network",className:he.menuItemLink,children:c.jsx("img",{className:he.icon,src:"./layers.svg",alt:"network"})})}),c.jsx("div",{className:he.menuItem,children:c.jsx(Bt,{to:"/jobs",className:he.menuItemLink,children:c.jsx("img",{className:he.icon,src:"./briefcase.svg",alt:"jobs"})})})]}),c.jsx(T3,{size:40,className:he.menuIcon,onClick:()=>d(!h)})]}),c.jsx("div",{className:he.navMenu1,children:c.jsx("ul",{className:he.navMenu1List})}),c.jsxs("div",{className:he.navMenu2,children:[c.jsxs("div",{className:he.searchBarContainer,children:[c.jsx("img",{className:he.searchIcon,src:"./search.svg",alt:"search"}),c.jsx("input",{type:"text",className:he.searchInput,onChange:O=>A(O),placeholder:"Search",value:m})]}),m!==""&&y.length>0&&c.jsx("div",{className:he.searchResults,children:y.map((O,z)=>c.jsxs("p",{onClick:()=>u(`/:${O.id}`),className:he.searchResult,children:[O.firstName," "," "," ",O.lastName]},z))}),c.jsx("div",{className:he.navMenu1ListItem,onClick:k,children:"Logout"}),c.jsx("div",{className:he.profilePicContainer,children:c.jsx("img",{className:he.profilePic,src:f,alt:"mail"})})]}),h&&c.jsx("div",{className:he.mobNavBar,children:c.jsxs("ul",{className:he.navMenu1List,children:[c.jsx("li",{className:he.navMenu1ListItem,onClick:()=>u("/feed"),children:"Home"}),c.jsx("li",{className:he.navMenu1ListItem,onClick:()=>l(),children:"My Network"}),s&&c.jsxs("div",{className:he.job_tabs,children:[c.jsx(Bt,{to:"/network",className:he.menuItemLink,children:c.jsx("li",{className:he.navMenu1ListItem,onClick:()=>u("/network"),children:" New Connections"})}),c.jsx(Bt,{to:"/network",className:he.menuItemLink,children:c.jsx("li",{className:he.navMenu1ListItem,onClick:()=>u("/network"),children:" Contacts"})}),c.jsx(Bt,{to:"/network",className:he.menuItemLink,children:c.jsx("li",{className:he.navMenu1ListItem,onClick:()=>u("/network"),children:" Requests"})})]}),c.jsx("li",{className:he.navMenu1ListItem,onClick:()=>a(),children:"Jobs"}),r&&c.jsxs("div",{className:he.job_tabs,children:[c.jsx(Bt,{to:"/jobs",className:he.menuItemLink,children:c.jsx("li",{className:he.navMenu1ListItem,onClick:t,children:" Find Jobs"})}),c.jsx(Bt,{to:"/jobs",className:he.menuItemLink,children:c.jsx("li",{className:he.navMenu1ListItem,onClick:e,children:" Saved Jobs"})})]}),c.jsx("li",{className:he.navMenu1ListItem,onClick:()=>u("/profile"),children:"Profile"}),c.jsx("li",{className:he.navMenu1ListItem,onClick:k,children:"Logout"})]})})]})})},N3="_left_1mr1x_1",I3="_user_1mr1x_6",j3="_userImage_1mr1x_15",A3="_name_1mr1x_24",O3="_jobTitle_1mr1x_35",P3="_viewProfileBtn_1mr1x_46",D3="_menu_1mr1x_64",R3="_job_tabs_1mr1x_64",L3="_menuItemLink_1mr1x_73",M3="_JobmenuItem_1mr1x_73",U3="_homeMenuItemLink_1mr1x_73",F3="_menuItem_1mr1x_73",V3="_jobItem_1mr1x_89",z3="_icon_1mr1x_103",B3="_menuText_1mr1x_108",ye={left:N3,user:I3,userImage:j3,name:A3,jobTitle:O3,viewProfileBtn:P3,menu:D3,job_tabs:R3,menuItemLink:L3,JobmenuItem:M3,homeMenuItemLink:U3,menuItem:F3,jobItem:V3,icon:z3,menuText:B3},Tu=({onFindJobsClick:t,onSavedJobsClick:e,handleTabClick:n})=>{const[r,i]=S.useState(!1),[s,o]=S.useState(!1),a=()=>{i(!r)},l=()=>{o(!s)},[u,h]=S.useState(""),[d,f]=S.useState(""),[g,v]=S.useState(""),[b,x]=S.useState(""),m=Ir(),p=()=>{m("/profile")};return S.useEffect(()=>{const y=Ie().currentUser;if(y){const w=ae(Y,"users",y.uid);Ye(w).then(k=>{if(k.exists()){const I=k.data();h(I.profilePicture),f(I.firstName),v(I.lastName),x(I.title)}else console.error("User document doesn't exist!")}).catch(k=>{console.error("Error fetching user data:",k)})}},[]),c.jsxs("div",{className:ye.left,children:[c.jsxs("div",{className:ye.user,children:[c.jsx("img",{className:ye.userImage,src:u,alt:"user"}),c.jsxs("p",{className:ye.name,children:[d," ",g]}),c.jsx("p",{className:ye.jobTitle,children:b}),c.jsx("button",{className:ye.viewProfileBtn,onClick:p,children:"View Profile"}),"    "]}),c.jsxs("div",{className:ye.menu,children:[c.jsx(Bt,{to:"/feed",className:ye.homeMenuItemLink,children:c.jsxs("div",{className:ye.menuItem,children:[c.jsx("img",{className:ye.icon,src:"./home.svg",alt:"home"}),c.jsx("p",{className:ye.menuText,children:" Home"})]})}),c.jsxs("div",{className:ye.JobmenuItem,onClick:()=>l(),children:[c.jsx("img",{className:ye.icon,src:"./layers.svg",alt:"Network"}),c.jsx("p",{className:ye.menuText,children:" My Network"})]}),s&&c.jsxs("div",{className:ye.job_tabs,children:[c.jsx(Bt,{to:"/network",className:ye.menuItemLink,onClick:()=>n("Connections"),children:c.jsxs("div",{className:ye.jobItem,onClick:t,children:[c.jsx("img",{className:ye.icon,src:"./briefcase.svg",alt:"Network"}),c.jsx("p",{className:ye.menuText,children:" New Connections"})]})}),c.jsx(Bt,{to:"/network",className:ye.menuItemLink,onClick:()=>n("Contacts"),children:c.jsxs("div",{className:ye.jobItem,onClick:e,children:[c.jsx("img",{className:ye.icon,src:"./briefcase.svg",alt:"Network"}),c.jsx("p",{className:ye.menuText,children:" Contacts"})]})}),c.jsx(Bt,{to:"/network",className:ye.menuItemLink,onClick:()=>n("Requests"),children:c.jsxs("div",{className:ye.jobItem,onClick:e,children:[c.jsx("img",{className:ye.icon,src:"./briefcase.svg",alt:"Network"}),c.jsx("p",{className:ye.menuText,children:" Requests"})]})})]}),c.jsxs("div",{className:ye.JobmenuItem,onClick:()=>a(),children:[c.jsx("img",{className:ye.icon,src:"./briefcase.svg",alt:"jobs"}),c.jsx("p",{className:ye.menuText,children:" Jobs"})]}),r&&c.jsxs("div",{className:ye.job_tabs,children:[c.jsx(Bt,{to:"/jobs",className:ye.menuItemLink,children:c.jsxs("div",{className:ye.jobItem,onClick:t,children:[c.jsx("img",{className:ye.icon,src:"./briefcase.svg",alt:"jobs"}),c.jsx("p",{className:ye.menuText,children:" Find Jobs"})]})}),c.jsx(Bt,{to:"/jobs",className:ye.menuItemLink,children:c.jsxs("div",{className:ye.jobItem,onClick:e,children:[c.jsx("img",{className:ye.icon,src:"./briefcase.svg",alt:"jobs"}),c.jsx("p",{className:ye.menuText,children:" Saved Jobs"})]})})]})]})]})},q3="_addPostContainer_hz24l_44",$3="_addPostInputContainer_hz24l_56",W3="_profilePicContainer_hz24l_63",H3="_profilePic_hz24l_63",K3="_addPostInput_hz24l_56",G3="_addPostBtns_hz24l_92",Q3="_addPostBtn_hz24l_92",J3="_icon_hz24l_107",X3="_btnText_hz24l_113",Y3="_postBtn_hz24l_125",Z3="_articleInput_hz24l_137",e6="_btns_hz24l_145",t6="_btn_hz24l_30",n6="_captionInput_hz24l_163",r6="_mediasContainer_hz24l_168",Re={addPostContainer:q3,addPostInputContainer:$3,profilePicContainer:W3,profilePic:H3,addPostInput:K3,addPostBtns:G3,addPostBtn:Q3,icon:J3,btnText:X3,postBtn:Y3,articleInput:Z3,btns:e6,btn:t6,captionInput:n6,mediasContainer:r6};function Zm(t){return Hs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z"}}]})(t)}function qa(t){return Hs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 21h3.75L17.81 9.94l-3.75-3.75L3 17.25V21zm2-2.92l9.06-9.06.92.92L5.92 19H5v-.92zM18.37 3.29a.996.996 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83a.996.996 0 000-1.41l-2.34-2.34z"}}]})(t)}var eg={exports:{}},Rs={},rT={exports:{}},i6="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",s6=i6,o6=s6;function iT(){}function sT(){}sT.resetWarningCache=iT;var a6=function(){function t(r,i,s,o,a,l){if(l!==o6){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:sT,resetWarningCache:iT};return n.PropTypes=n,n};rT.exports=a6();var Wv=rT.exports,tg={exports:{}},ir={},ng={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;/*!
* Adapted from jQuery UI core
*
* http://jqueryui.com
*
* Copyright 2014 jQuery Foundation and other contributors
* Released under the MIT license.
* http://jquery.org/license
*
* http://api.jqueryui.com/category/ui-core/
*/var n="none",r="contents",i=/input|select|textarea|button|object|iframe/;function s(d,f){return f.getPropertyValue("overflow")!=="visible"||d.scrollWidth<=0&&d.scrollHeight<=0}function o(d){var f=d.offsetWidth<=0&&d.offsetHeight<=0;if(f&&!d.innerHTML)return!0;try{var g=window.getComputedStyle(d),v=g.getPropertyValue("display");return f?v!==r&&s(d,g):v===n}catch{return console.warn("Failed to inspect element style"),!1}}function a(d){for(var f=d,g=d.getRootNode&&d.getRootNode();f&&f!==document.body;){if(g&&f===g&&(f=g.host.parentNode),o(f))return!1;f=f.parentNode}return!0}function l(d,f){var g=d.nodeName.toLowerCase(),v=i.test(g)&&!d.disabled||g==="a"&&d.href||f;return v&&a(d)}function u(d){var f=d.getAttribute("tabindex");f===null&&(f=void 0);var g=isNaN(f);return(g||f>=0)&&l(d,!g)}function h(d){var f=[].slice.call(d.querySelectorAll("*"),0).reduce(function(g,v){return g.concat(v.shadowRoot?h(v.shadowRoot):[v])},[]);return f.filter(u)}t.exports=e.default})(ng,ng.exports);var oT=ng.exports;Object.defineProperty(ir,"__esModule",{value:!0});ir.resetState=h6;ir.log=d6;ir.handleBlur=Hl;ir.handleFocus=Kl;ir.markForFocusLater=f6;ir.returnFocus=p6;ir.popWithoutFocus=m6;ir.setupScopedFocus=g6;ir.teardownScopedFocus=y6;var l6=oT,u6=c6(l6);function c6(t){return t&&t.__esModule?t:{default:t}}var ea=[],vo=null,rg=!1;function h6(){ea=[]}function d6(){}function Hl(){rg=!0}function Kl(){if(rg){if(rg=!1,!vo)return;setTimeout(function(){if(!vo.contains(document.activeElement)){var t=(0,u6.default)(vo)[0]||vo;t.focus()}},0)}}function f6(){ea.push(document.activeElement)}function p6(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{ea.length!==0&&(e=ea.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function m6(){ea.length>0&&ea.pop()}function g6(t){vo=t,window.addEventListener?(window.addEventListener("blur",Hl,!1),document.addEventListener("focus",Kl,!0)):(window.attachEvent("onBlur",Hl),document.attachEvent("onFocus",Kl))}function y6(){vo=null,window.addEventListener?(window.removeEventListener("blur",Hl),document.removeEventListener("focus",Kl)):(window.detachEvent("onBlur",Hl),document.detachEvent("onFocus",Kl))}var ig={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=oT,r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}function s(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?s(a.activeElement.shadowRoot):a.activeElement}function o(a,l){var u=(0,r.default)(a);if(!u.length){l.preventDefault();return}var h=void 0,d=l.shiftKey,f=u[0],g=u[u.length-1],v=s();if(a===v){if(!d)return;h=g}if(g===v&&!d&&(h=f),f===v&&d&&(h=g),h){l.preventDefault(),h.focus();return}var b=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),x=b!=null&&b[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(x){var m=u.indexOf(v);if(m>-1&&(m+=d?-1:1),h=u[m],typeof h>"u"){l.preventDefault(),h=d?g:f,h.focus();return}l.preventDefault(),h.focus()}}t.exports=e.default})(ig,ig.exports);var v6=ig.exports,sr={},b6=function(){},w6=b6,er={},aT={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()})(aT);var _6=aT.exports;Object.defineProperty(er,"__esModule",{value:!0});er.canUseDOM=er.SafeNodeList=er.SafeHTMLCollection=void 0;var S6=_6,x6=C6(S6);function C6(t){return t&&t.__esModule?t:{default:t}}var rf=x6.default,k6=rf.canUseDOM?window.HTMLElement:{};er.SafeHTMLCollection=rf.canUseDOM?window.HTMLCollection:{};er.SafeNodeList=rf.canUseDOM?window.NodeList:{};er.canUseDOM=rf.canUseDOM;er.default=k6;Object.defineProperty(sr,"__esModule",{value:!0});sr.resetState=j6;sr.log=A6;sr.assertNodeList=lT;sr.setElement=O6;sr.validateElement=Hv;sr.hide=P6;sr.show=D6;sr.documentNotReadyOrSSRTesting=R6;var E6=w6,T6=I6(E6),N6=er;function I6(t){return t&&t.__esModule?t:{default:t}}var An=null;function j6(){An&&(An.removeAttribute?An.removeAttribute("aria-hidden"):An.length!=null?An.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(An).forEach(function(t){return t.removeAttribute("aria-hidden")})),An=null}function A6(){}function lT(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function O6(t){var e=t;if(typeof e=="string"&&N6.canUseDOM){var n=document.querySelectorAll(e);lT(n,e),e=n}return An=e||An,An}function Hv(t){var e=t||An;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,T6.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function P6(t){var e=!0,n=!1,r=void 0;try{for(var i=Hv(t)[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0){var o=s.value;o.setAttribute("aria-hidden","true")}}catch(a){n=!0,r=a}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}function D6(t){var e=!0,n=!1,r=void 0;try{for(var i=Hv(t)[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0){var o=s.value;o.removeAttribute("aria-hidden")}}catch(a){n=!0,r=a}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}function R6(){An=null}var ga={};Object.defineProperty(ga,"__esModule",{value:!0});ga.resetState=L6;ga.log=M6;var ll={},ul={};function f_(t,e){t.classList.remove(e)}function L6(){var t=document.getElementsByTagName("html")[0];for(var e in ll)f_(t,ll[e]);var n=document.body;for(var r in ul)f_(n,ul[r]);ll={},ul={}}function M6(){}var U6=function(t,e){return t[e]||(t[e]=0),t[e]+=1,e},F6=function(t,e){return t[e]&&(t[e]-=1),e},V6=function(t,e,n){n.forEach(function(r){U6(e,r),t.add(r)})},z6=function(t,e,n){n.forEach(function(r){F6(e,r),e[r]===0&&t.remove(r)})};ga.add=function(t,e){return V6(t.classList,t.nodeName.toLowerCase()=="html"?ll:ul,e.split(" "))};ga.remove=function(t,e){return z6(t.classList,t.nodeName.toLowerCase()=="html"?ll:ul,e.split(" "))};var ya={};Object.defineProperty(ya,"__esModule",{value:!0});ya.log=q6;ya.resetState=$6;function B6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var uT=function t(){var e=this;B6(this,t),this.register=function(n){e.openInstances.indexOf(n)===-1&&(e.openInstances.push(n),e.emit("register"))},this.deregister=function(n){var r=e.openInstances.indexOf(n);r!==-1&&(e.openInstances.splice(r,1),e.emit("deregister"))},this.subscribe=function(n){e.subscribers.push(n)},this.emit=function(n){e.subscribers.forEach(function(r){return r(n,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},Dh=new uT;function q6(){console.log("portalOpenInstances ----------"),console.log(Dh.openInstances.length),Dh.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function $6(){Dh=new uT}ya.default=Dh;var Kv={};Object.defineProperty(Kv,"__esModule",{value:!0});Kv.resetState=G6;Kv.log=Q6;var W6=ya,H6=K6(W6);function K6(t){return t&&t.__esModule?t:{default:t}}var Vt=void 0,Hn=void 0,ws=[];function G6(){for(var t=[Vt,Hn],e=0;e<t.length;e++){var n=t[e];n&&n.parentNode&&n.parentNode.removeChild(n)}Vt=Hn=null,ws=[]}function Q6(){console.log("bodyTrap ----------"),console.log(ws.length);for(var t=[Vt,Hn],e=0;e<t.length;e++){var n=t[e],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function p_(){ws.length!==0&&ws[ws.length-1].focusContent()}function J6(t,e){!Vt&&!Hn&&(Vt=document.createElement("div"),Vt.setAttribute("data-react-modal-body-trap",""),Vt.style.position="absolute",Vt.style.opacity="0",Vt.setAttribute("tabindex","0"),Vt.addEventListener("focus",p_),Hn=Vt.cloneNode(),Hn.addEventListener("focus",p_)),ws=e,ws.length>0?(document.body.firstChild!==Vt&&document.body.insertBefore(Vt,document.body.firstChild),document.body.lastChild!==Hn&&document.body.appendChild(Hn)):(Vt.parentElement&&Vt.parentElement.removeChild(Vt),Hn.parentElement&&Hn.parentElement.removeChild(Hn))}H6.default.subscribe(J6);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(T){for(var P=1;P<arguments.length;P++){var U=arguments[P];for(var E in U)Object.prototype.hasOwnProperty.call(U,E)&&(T[E]=U[E])}return T},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},i=function(){function T(P,U){for(var E=0;E<U.length;E++){var N=U[E];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(P,N.key,N)}}return function(P,U,E){return U&&T(P.prototype,U),E&&T(P,E),P}}(),s=S,o=Wv,a=k(o),l=ir,u=w(l),h=v6,d=k(h),f=sr,g=w(f),v=ga,b=w(v),x=er,m=k(x),p=ya,y=k(p);function w(T){if(T&&T.__esModule)return T;var P={};if(T!=null)for(var U in T)Object.prototype.hasOwnProperty.call(T,U)&&(P[U]=T[U]);return P.default=T,P}function k(T){return T&&T.__esModule?T:{default:T}}function I(T,P){if(!(T instanceof P))throw new TypeError("Cannot call a class as a function")}function A(T,P){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:T}function O(T,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);T.prototype=Object.create(P&&P.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(T,P):T.__proto__=P)}var z={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},W=function(T){return T.code==="Tab"||T.keyCode===9},me=function(T){return T.code==="Escape"||T.keyCode===27},K=0,ie=function(T){O(P,T);function P(U){I(this,P);var E=A(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,U));return E.setOverlayRef=function(N){E.overlay=N,E.props.overlayRef&&E.props.overlayRef(N)},E.setContentRef=function(N){E.content=N,E.props.contentRef&&E.props.contentRef(N)},E.afterClose=function(){var N=E.props,L=N.appElement,H=N.ariaHideApp,te=N.htmlOpenClassName,ge=N.bodyOpenClassName,nt=N.parentSelector,Pe=nt&&nt().ownerDocument||document;ge&&b.remove(Pe.body,ge),te&&b.remove(Pe.getElementsByTagName("html")[0],te),H&&K>0&&(K-=1,K===0&&g.show(L)),E.props.shouldFocusAfterRender&&(E.props.shouldReturnFocusAfterClose?(u.returnFocus(E.props.preventScroll),u.teardownScopedFocus()):u.popWithoutFocus()),E.props.onAfterClose&&E.props.onAfterClose(),y.default.deregister(E)},E.open=function(){E.beforeOpen(),E.state.afterOpen&&E.state.beforeClose?(clearTimeout(E.closeTimer),E.setState({beforeClose:!1})):(E.props.shouldFocusAfterRender&&(u.setupScopedFocus(E.node),u.markForFocusLater()),E.setState({isOpen:!0},function(){E.openAnimationFrame=requestAnimationFrame(function(){E.setState({afterOpen:!0}),E.props.isOpen&&E.props.onAfterOpen&&E.props.onAfterOpen({overlayEl:E.overlay,contentEl:E.content})})}))},E.close=function(){E.props.closeTimeoutMS>0?E.closeWithTimeout():E.closeWithoutTimeout()},E.focusContent=function(){return E.content&&!E.contentHasFocus()&&E.content.focus({preventScroll:!0})},E.closeWithTimeout=function(){var N=Date.now()+E.props.closeTimeoutMS;E.setState({beforeClose:!0,closesAt:N},function(){E.closeTimer=setTimeout(E.closeWithoutTimeout,E.state.closesAt-Date.now())})},E.closeWithoutTimeout=function(){E.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},E.afterClose)},E.handleKeyDown=function(N){W(N)&&(0,d.default)(E.content,N),E.props.shouldCloseOnEsc&&me(N)&&(N.stopPropagation(),E.requestClose(N))},E.handleOverlayOnClick=function(N){E.shouldClose===null&&(E.shouldClose=!0),E.shouldClose&&E.props.shouldCloseOnOverlayClick&&(E.ownerHandlesClose()?E.requestClose(N):E.focusContent()),E.shouldClose=null},E.handleContentOnMouseUp=function(){E.shouldClose=!1},E.handleOverlayOnMouseDown=function(N){!E.props.shouldCloseOnOverlayClick&&N.target==E.overlay&&N.preventDefault()},E.handleContentOnClick=function(){E.shouldClose=!1},E.handleContentOnMouseDown=function(){E.shouldClose=!1},E.requestClose=function(N){return E.ownerHandlesClose()&&E.props.onRequestClose(N)},E.ownerHandlesClose=function(){return E.props.onRequestClose},E.shouldBeClosed=function(){return!E.state.isOpen&&!E.state.beforeClose},E.contentHasFocus=function(){return document.activeElement===E.content||E.content.contains(document.activeElement)},E.buildClassName=function(N,L){var H=(typeof L>"u"?"undefined":r(L))==="object"?L:{base:z[N],afterOpen:z[N]+"--after-open",beforeClose:z[N]+"--before-close"},te=H.base;return E.state.afterOpen&&(te=te+" "+H.afterOpen),E.state.beforeClose&&(te=te+" "+H.beforeClose),typeof L=="string"&&L?te+" "+L:te},E.attributesFromObject=function(N,L){return Object.keys(L).reduce(function(H,te){return H[N+"-"+te]=L[te],H},{})},E.state={afterOpen:!1,beforeClose:!1},E.shouldClose=null,E.moveFromContentToOverlay=null,E}return i(P,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(U,E){this.props.isOpen&&!U.isOpen?this.open():!this.props.isOpen&&U.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!E.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var U=this.props,E=U.appElement,N=U.ariaHideApp,L=U.htmlOpenClassName,H=U.bodyOpenClassName,te=U.parentSelector,ge=te&&te().ownerDocument||document;H&&b.add(ge.body,H),L&&b.add(ge.getElementsByTagName("html")[0],L),N&&(K+=1,g.hide(E)),y.default.register(this)}},{key:"render",value:function(){var U=this.props,E=U.id,N=U.className,L=U.overlayClassName,H=U.defaultStyles,te=U.children,ge=N?{}:H.content,nt=L?{}:H.overlay;if(this.shouldBeClosed())return null;var Pe={ref:this.setOverlayRef,className:this.buildClassName("overlay",L),style:n({},nt,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},Rt=n({id:E,ref:this.setContentRef,style:n({},ge,this.props.style.content),className:this.buildClassName("content",N),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),ze=this.props.contentElement(Rt,te);return this.props.overlayElement(Pe,ze)}}]),P}(s.Component);ie.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},ie.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(m.default),a.default.instanceOf(x.SafeHTMLCollection),a.default.instanceOf(x.SafeNodeList),a.default.arrayOf(a.default.instanceOf(m.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},e.default=ie,t.exports=e.default})(tg,tg.exports);var X6=tg.exports;function cT(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function hT(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function dT(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}cT.__suppressDeprecationWarning=!0;hT.__suppressDeprecationWarning=!0;dT.__suppressDeprecationWarning=!0;function Y6(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var s=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=cT,e.componentWillReceiveProps=hT),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=dT;var a=e.componentDidUpdate;e.componentDidUpdate=function(l,u,h){var d=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:h;a.call(this,l,u,d)}}return t}const Z6=Object.freeze(Object.defineProperty({__proto__:null,polyfill:Y6},Symbol.toStringTag,{value:"Module"})),e9=FT(Z6);Object.defineProperty(Rs,"__esModule",{value:!0});Rs.bodyOpenClassName=Rs.portalClassName=void 0;var m_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t9=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),fT=S,Rh=Nu(fT),n9=ay,Lh=Nu(n9),r9=Wv,de=Nu(r9),i9=X6,g_=Nu(i9),s9=sr,o9=l9(s9),_i=er,y_=Nu(_i),a9=e9;function l9(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Nu(t){return t&&t.__esModule?t:{default:t}}function u9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v_(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function c9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h9=Rs.portalClassName="ReactModalPortal",d9=Rs.bodyOpenClassName="ReactModal__Body--open",is=_i.canUseDOM&&Lh.default.createPortal!==void 0,b_=function(t){return document.createElement(t)},w_=function(){return is?Lh.default.createPortal:Lh.default.unstable_renderSubtreeIntoContainer};function hc(t){return t()}var Iu=function(t){c9(e,t);function e(){var n,r,i,s;u9(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=v_(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.removePortal=function(){!is&&Lh.default.unmountComponentAtNode(i.node);var u=hc(i.props.parentSelector);u&&u.contains(i.node)?u.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(u){i.portal=u},i.renderPortal=function(u){var h=w_(),d=h(i,Rh.default.createElement(g_.default,m_({defaultStyles:e.defaultStyles},u)),i.node);i.portalRef(d)},r),v_(i,s)}return t9(e,[{key:"componentDidMount",value:function(){if(_i.canUseDOM){is||(this.node=b_("div")),this.node.className=this.props.portalClassName;var n=hc(this.props.parentSelector);n.appendChild(this.node),!is&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(n){var r=hc(n.parentSelector),i=hc(this.props.parentSelector);return{prevParent:r,nextParent:i}}},{key:"componentDidUpdate",value:function(n,r,i){if(_i.canUseDOM){var s=this.props,o=s.isOpen,a=s.portalClassName;n.portalClassName!==a&&(this.node.className=a);var l=i.prevParent,u=i.nextParent;u!==l&&(l.removeChild(this.node),u.appendChild(this.node)),!(!n.isOpen&&!o)&&!is&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!_i.canUseDOM||!this.node||!this.portal)){var n=this.portal.state,r=Date.now(),i=n.isOpen&&this.props.closeTimeoutMS&&(n.closesAt||r+this.props.closeTimeoutMS);i?(n.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,i-r)):this.removePortal()}}},{key:"render",value:function(){if(!_i.canUseDOM||!is)return null;!this.node&&is&&(this.node=b_("div"));var n=w_();return n(Rh.default.createElement(g_.default,m_({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(n){o9.setElement(n)}}]),e}(fT.Component);Iu.propTypes={isOpen:de.default.bool.isRequired,style:de.default.shape({content:de.default.object,overlay:de.default.object}),portalClassName:de.default.string,bodyOpenClassName:de.default.string,htmlOpenClassName:de.default.string,className:de.default.oneOfType([de.default.string,de.default.shape({base:de.default.string.isRequired,afterOpen:de.default.string.isRequired,beforeClose:de.default.string.isRequired})]),overlayClassName:de.default.oneOfType([de.default.string,de.default.shape({base:de.default.string.isRequired,afterOpen:de.default.string.isRequired,beforeClose:de.default.string.isRequired})]),appElement:de.default.oneOfType([de.default.instanceOf(y_.default),de.default.instanceOf(_i.SafeHTMLCollection),de.default.instanceOf(_i.SafeNodeList),de.default.arrayOf(de.default.instanceOf(y_.default))]),onAfterOpen:de.default.func,onRequestClose:de.default.func,closeTimeoutMS:de.default.number,ariaHideApp:de.default.bool,shouldFocusAfterRender:de.default.bool,shouldCloseOnOverlayClick:de.default.bool,shouldReturnFocusAfterClose:de.default.bool,preventScroll:de.default.bool,parentSelector:de.default.func,aria:de.default.object,data:de.default.object,role:de.default.string,contentLabel:de.default.string,shouldCloseOnEsc:de.default.bool,overlayRef:de.default.func,contentRef:de.default.func,id:de.default.string,overlayElement:de.default.func,contentElement:de.default.func};Iu.defaultProps={isOpen:!1,portalClassName:h9,bodyOpenClassName:d9,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(t,e){return Rh.default.createElement("div",t,e)},contentElement:function(t,e){return Rh.default.createElement("div",t,e)}};Iu.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,a9.polyfill)(Iu);Rs.default=Iu;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Rs,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}e.default=r.default,t.exports=e.default})(eg,eg.exports);var f9=eg.exports;const yn=dg(f9),p9=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState(!1),[i,s]=S.useState(""),[o,a]=S.useState([]);S.useState("");const[l,u]=S.useState(""),h=Ie().currentUser;S.useEffect(()=>{if(h){const p=ae(Y,"users",h.uid);Ye(p).then(y=>{if(y.exists()){const w=y.data();u(w.profilePicture)}else console.error("User document doesn't exist!")}).catch(y=>{console.error("Error fetching user data:",y)})}},[]);function d(){e(!0)}function f(){e(!1)}function g(){r(!0)}function v(){r(!1)}const b=p=>{const y={image:[".jpeg",".jpg",".png",".gif",".bmp",".webp"],video:[".mp4",".avi",".mkv",".mov",".wmv",".webm"]},w=p.name.slice((p.name.lastIndexOf(".")-1>>>0)+2);for(const k in y)if(y[k].includes(`.${w}`))return k;return"other"},x=p=>{const y=Array.from(p.target.files);a(w=>[...w,...y])},m=async p=>{if(p.preventDefault(),!h){console.log("User is NOT Authenticated");return}const y=h.uid,w=[],k=o.length;k===0?(console.log("Post content:",JSON.stringify(i)),w.push(Ds(He(Y,"posts"),{userId:y,postCont:i,TimeCreated:Oo(),likes:[]}))):(o.forEach(I=>{const A=b(I),O=`media/${y}/${A}`,z=No(Po,`${O}/${I.name}`),W=nl(z,I).then(()=>To(z));w.push(W)}),Promise.all(w).then(I=>{const A=I.map((O,z)=>({url:O,type:o[z].type}));return Ds(He(Y,"posts"),{userId:y,postCont:i,media:A,TimeCreated:Oo(),likes:[]})}).then(()=>{console.log("Posts added with media"),alert(`Uploaded ${k} media file${k===1?"":"s"}!`)}).catch(I=>{console.error("Error adding post with media:",I)})),a([]),f(),v(),s("")};return c.jsxs("div",{className:Re.addPostContainer,children:[c.jsxs("div",{className:Re.addPostInputContainer,children:[c.jsx("div",{className:Re.profilePicContainer,children:c.jsx("img",{className:Re.profilePic,src:l,alt:"profile"})}),c.jsx("input",{type:"text",className:Re.addPostInput,value:i,onChange:p=>s(p.target.value)})]}),c.jsxs("div",{className:Re.addPostBtns,children:[c.jsxs("div",{className:Re.addPostBtn,onClick:g,children:[c.jsx("img",{className:Re.icon,src:"./Article.svg",alt:"search"}),c.jsx("p",{className:Re.btnText,children:"Write Article"})]}),c.jsx("div",{className:Re.inputPostContainer,children:c.jsx(yn,{isOpen:n,onRequestClose:v,ariaHideApp:!1,contentLabel:"Article Modal",children:c.jsxs("div",{children:[c.jsx("h2",{children:"Write your Article"}),c.jsx("textarea",{className:Re.articleInput,placeholder:"Start writing your article...",onChange:p=>s(p.target.value)}),c.jsxs("div",{className:Re.btns,children:[c.jsx("button",{className:Re.btn,onClick:v,children:"Close"}),c.jsx("button",{className:Re.btn,onClick:m,children:"Submit"})]})]})})}),c.jsxs("div",{className:Re.addPostBtn,onClick:d,children:[c.jsx("img",{className:Re.icon,src:"./play-circle.svg",alt:"search"}),c.jsx("p",{className:Re.btnText,children:"Media"})]}),c.jsx("div",{className:Re.inputPostContainer,children:c.jsxs(yn,{isOpen:t,onRequestClose:f,ariaHideApp:!1,contentLabel:"Media Modal",children:[c.jsxs("div",{className:Re.mediasContainer,children:[c.jsx("h2",{children:"Attach Media Files"}),c.jsx("input",{type:"file",multiple:!0,onChange:x})]}),c.jsxs("div",{className:Re.mediasContainer,children:[c.jsx("h2",{children:"Preview"}),o.length>0&&c.jsx("div",{children:o.map((p,y)=>c.jsx("div",{children:p.type.includes("image")?c.jsx("img",{src:URL.createObjectURL(p),alt:`Preview ${y}`}):c.jsx("video",{src:URL.createObjectURL(p),controls:!0})},y))})]}),c.jsx("div",{children:c.jsx("textarea",{type:"text",className:Re.captionInput,placeholder:"Enter caption",onChange:p=>s(p.target.value)})}),c.jsxs("div",{className:Re.btns,children:[c.jsx("button",{className:Re.btn,onClick:f,children:"Close"}),c.jsx("button",{className:Re.btn,onClick:m,children:"Submit"})]})]})}),c.jsx("button",{className:Re.postBtn,disabled:!i.trim(),onClick:m,children:"Post"})]})]})},m9="_bannerContainer_16l93_1",g9="_bannerTitles_16l93_13",y9="_bannerText_16l93_22",v9="_bannerText1_16l93_35",b9="_bannerText2_16l93_49",w9="_bannerImg_16l93_64",_9="_banner_16l93_1",oi={bannerContainer:m9,bannerTitles:g9,bannerText:y9,bannerText1:v9,bannerText2:b9,bannerImg:w9,banner:_9},S9=()=>c.jsxs("div",{className:oi.bannerContainer,children:[c.jsxs("div",{className:oi.bannerTitles,children:[c.jsxs("div",{className:oi.bannerText,children:[c.jsx("p",{className:oi.bannerText1,children:"Discover your dream job with Takeoff"}),c.jsx("p",{className:oi.bannerText2,children:"Don't let your career dreams remain dreams; turn them into reality with our product and discover your dream job today"})]}),c.jsx("div",{className:oi.bannerBtns})]}),c.jsx("div",{className:oi.bannerImg,children:c.jsx("img",{src:"/public/banner.svg",alt:"Your Logo",className:oi.banner})})]}),x9="_postContainer_140jn_1",C9="_post_140jn_1",k9="_user_140jn_26",E9="_profilePicContainer_140jn_33",T9="_profilePic_140jn_33",N9="_postUser_140jn_44",I9="_postUserName_140jn_52",j9="_postUserJobTitle_140jn_61",A9="_jobTimer_140jn_73",O9="_jobTimerImg_140jn_80",P9="_jobTime_140jn_73",D9="_addPostSettings_140jn_95",R9="_postContent_140jn_100",L9="_postImg_140jn_111",M9="_btns_140jn_121",U9="_reactionBtns_140jn_128",F9="_avatars_140jn_135",V9="_avatar_140jn_135",z9="_postComments_140jn_146",B9="_actionBtns_140jn_157",q9="_actionBtn_140jn_157",$9="_actionIcon_140jn_174",W9="_actionText_140jn_179",H9="_comments_140jn_189",K9="_commentForm_140jn_189",G9="_commentText_140jn_199",Q9="_commentTime_140jn_203",J9="_commentInput_140jn_215",X9="_commentSubmit_140jn_222",Y9="_postMedia_140jn_227",Z9="_postOptionsDropdown_140jn_249",ve={postContainer:x9,post:C9,user:k9,profilePicContainer:E9,profilePic:T9,postUser:N9,postUserName:I9,postUserJobTitle:j9,jobTimer:A9,jobTimerImg:O9,jobTime:P9,addPostSettings:D9,postContent:R9,postImg:L9,btns:M9,reactionBtns:U9,avatars:F9,avatar:V9,postComments:z9,actionBtns:B9,actionBtn:q9,actionIcon:$9,actionText:W9,comments:H9,commentForm:K9,commentText:G9,commentTime:Q9,commentInput:J9,commentSubmit:X9,postMedia:Y9,postOptionsDropdown:Z9};function eV(t){return Hs({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2 2v13.5a.5.5 0 0 0 .74.439L8 13.069l5.26 2.87A.5.5 0 0 0 14 15.5V2a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2z"}}]})(t)}function tV(t){return Hs({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"}}]})(t)}const nV=()=>{const[t,e]=S.useState([]),[n,r]=S.useState("");S.useState([]);const[i,s]=S.useState(null),[o,a]=S.useState(null),[l,u]=S.useState(null),[h,d]=S.useState(!1),[f,g]=S.useState(""),[v,b]=S.useState(null),[x,m]=S.useState(null),[p,y]=S.useState(""),w=async(T,P)=>{T.preventDefault();const U=Ie().currentUser;if(!U){console.log("User is NOT Authenticated");return}const E=U.uid,N=ae(Y,"users",E),L=await Ye(N),{firstName:H,lastName:te}=L.data(),ge=`${H} ${te}`,nt=ae(Y,"posts",P),Pe=He(nt,"comments"),Rt={userId:E,username:ge,text:n,timestamp:Oo()},ze=await Ds(Pe,Rt),yt=(await Ye(ze)).data();e(t.map(on=>on.id===P?{...on,comments:[...on.comments,{...yt,id:ze.id,timestamp:yt.timestamp.toDate()}]}:on)),r("")},k=async(T,P)=>{const U=ae(Y,"posts",T),E=ae(U,"comments",P);await Xm(E),e(t.map(N=>N.id===T?{...N,comments:N.comments.filter(L=>L.id!==P)}:N))};S.useEffect(()=>{const T=He(Y,"posts"),P=qr(T,$E("TimeCreated","desc")),U=Bv(P,async E=>{console.log("Snapshot received:",E);const N=await Promise.all(E.docs.map(async L=>{const H=L.data(),{userId:te}=H,ge=await A(te);console.log("Doc data:",L.data());const nt=ae(Y,"posts",L.id),Pe=He(nt,"comments"),Rt=(await _n(Pe)).docs.map(ze=>{const yt=ze.data();return{id:ze.id,...yt,timestamp:yt.timestamp.toDate()}});return{id:L.id,...H,...ge,comments:Rt}}));console.log("Posts data:",N),e(N)});return()=>U()},[]),S.useEffect(()=>{const T=P=>{i&&!P.target.closest(`.${ve.postOptionsDropdown}`)&&s(null)};return document.addEventListener("click",T),()=>{document.removeEventListener("click",T)}},[i,ve.postOptionsDropdown]),S.useEffect(()=>{const T=P=>{l&&!P.target.closest(`.${ve.commentOptionsDropdown}`)&&u(null)};return document.addEventListener("click",T),()=>{document.removeEventListener("click",T)}},[l,ve.commentOptionsDropdown]);const I=async T=>{const P=ae(Y,"posts",T),U=Ie().currentUser;if(!U){console.log("User is NOT Authenticated");return}const E=U.uid,N=(await Ye(P)).data().likes,L=N.includes(E)?N.filter(H=>H!==E):[...N,E];await ft(P,{likes:L})},A=async T=>{if(!T)return console.log("No userId provided!"),null;const P=ae(Y,"users",T),U=await Ye(P);if(U.exists()){const E=U.data(),{firstName:N,lastName:L,profilePicture:H,title:te}=E;return{firstName:N,lastName:L,profilePicture:H,title:te}}else return console.log("No such user!"),null},O=async T=>{const P=Ie().currentUser;if(!P){console.log("User is NOT Authenticated");return}const U=P.uid;let E;T.media?E={userId:U,postCont:T.postCont,TimeCreated:Oo(),likes:[],media:T.media}:E={userId:U,postCont:T.postCont,TimeCreated:Oo(),likes:[]},await Ds(He(Y,"posts"),E),e(N=>[E,...N])},z=async(T,P)=>{const U=ae(Y,"posts",T);await ft(U,{postCont:P,edited:!0}),e(t.map(E=>E.id===T?{...E,postCont:P,edited:!0}:E)),g(""),d(!1)},W=async T=>{const P=ae(Y,"posts",T),U=Ie().currentUser;if(!U){console.log("User is NOT Authenticated");return}if((await Ye(P)).data().userId!==U.uid){console.log("User is not the author of the post");return}await Xm(P),e(t.filter(E=>E.id!==T))},me=T=>{const P=t.find(U=>U.id===T);if(!P){console.log("Post not found");return}g(P.postCont),b(T),d(!0)},K=(T,P)=>{const U=t.find(N=>N.id===T);if(!U){console.log("Post not found");return}const E=U.comments.find(N=>N.id===P);if(!E){console.log("Comment not found");return}y(E.text),m(P)},ie=async(T,P,U)=>{const E=ae(Y,"posts",T),N=ae(E,"comments",P);await ft(N,{text:U,edited:!0}),e(t.map(L=>L.id===T?{...L,comments:L.comments.map(H=>H.id===P?{...H,text:U,edited:!0}:H)}:L)),y(""),m(null)};return c.jsxs("div",{className:ve.postContainer,children:[c.jsx(yn,{isOpen:h,onRequestClose:()=>d(!1),contentLabel:"Edit Post",ariaHideApp:!1,children:c.jsxs("form",{onSubmit:T=>{T.preventDefault(),z(v,f),d(!1)},children:[c.jsx("textarea",{value:f,onChange:T=>g(T.target.value)}),c.jsx("button",{type:"submit",children:"Update Post"}),c.jsx("button",{type:"button",onClick:()=>d(!1),children:"Cancel"})]})}),t.map(T=>c.jsxs("div",{className:ve.post,children:[c.jsxs("div",{className:ve.user,children:[c.jsx("div",{className:ve.profilePicContainer,children:c.jsx("img",{className:ve.profilePic,src:T.profilePicture,alt:"profile"})}),c.jsxs("div",{className:ve.postUser,children:[c.jsxs("p",{className:ve.postUserName,children:[T.firstName," ",T.lastName]}),c.jsx("p",{className:ve.postUserJobTitle,children:T.title}),c.jsxs("div",{className:ve.jobTimer,children:[c.jsx("img",{className:ve.jobTimerImg,src:"./history-outline.svg",alt:"timer"}),c.jsxs("p",{className:ve.jobTime,children:[T.TimeCreated&&T.TimeCreated.toDate?T.TimeCreated.toDate().toLocaleString():"Loading...",T.edited&&c.jsx("span",{children:" (edited)"})]})]})]}),c.jsxs("div",{className:ve.addPostSettings,children:[c.jsx("img",{className:ve.settingsIcon,src:"./DotsThree.svg",alt:"settings",onClick:P=>{P.stopPropagation(),s(T.id)}}),i===T.id&&c.jsxs("div",{className:ve.postOptionsDropdown,children:[c.jsx("button",{onClick:()=>me(T.id),children:"Edit"}),c.jsx("button",{onClick:()=>W(T.id),children:"Delete"})]})]})]}),T.postCont.split(`
`).map((P,U)=>c.jsx("p",{className:ve.postContent,style:{margin:0},children:P},U)),c.jsx("div",{className:ve.postMedia,children:T.media&&T.media.map((P,U)=>c.jsx("img",{src:P.url,alt:P.url},U))}),c.jsx("div",{className:ve.btns,children:c.jsxs("div",{className:ve.actionBtns,children:[c.jsxs("div",{className:ve.actionBtn,onClick:()=>I(T.id),children:[c.jsx("img",{className:ve.actionIcon,src:"./ThumbsUp.svg",alt:"search"}),c.jsxs("p",{className:ve.actionText,children:["Like ",T.likes&&T.likes.length]})]}),c.jsxs("div",{className:ve.actionBtn,onClick:()=>a(T.id),children:[c.jsx("img",{className:ve.actionIcon,src:"./ChatText.svg",alt:"comment"}),c.jsxs("p",{className:ve.actionText,children:["Comment ",T.comments?T.comments.length:0]})]}),c.jsxs("div",{className:ve.actionBtn,onClick:()=>O(T),children:[c.jsx("img",{className:ve.actionIcon,src:"./ShareNetwork.svg",alt:"search"}),c.jsx("p",{className:ve.actionText,children:"Repost"})]})]})}),o===T.id&&c.jsxs(c.Fragment,{children:[c.jsxs("form",{onSubmit:P=>w(P,T.id),className:ve.commentForm,children:[c.jsx("input",{type:"text",placeholder:"Enter Comment",onChange:P=>r(P.target.value),value:n,className:ve.commentInput}),c.jsx("button",{type:"submit",className:ve.commentSubmit,children:"Submit"})]}),T.comments&&T.comments.sort((P,U)=>U.timestamp-P.timestamp).slice(0,3).map((P,U)=>c.jsxs("div",{className:ve.comments,children:[c.jsx("p",{className:ve.commentText,children:c.jsx("b",{children:P.username})}),x===P.id?c.jsxs("form",{onSubmit:E=>{E.preventDefault(),ie(T.id,P.id,p)},children:[c.jsx("textarea",{value:p,onChange:E=>y(E.target.value)}),c.jsx("button",{type:"submit",children:"Submit"})]}):c.jsx("p",{className:ve.commentText,children:P.text}),c.jsx("p",{className:ve.commentTime,children:P.timestamp instanceof Date?P.timestamp.toLocaleString():"Loading..."}),c.jsx("img",{src:"./DotsThree.svg",alt:"settings",onClick:E=>{E.stopPropagation(),u(P.id)}}),l===P.id&&c.jsxs("div",{className:ve.commentOptionsDropdown,children:[c.jsx("button",{onClick:()=>K(T.id,P.id),children:"Edit"}),c.jsx("button",{onClick:()=>k(T.id,P.id),children:"Delete"})]})]},U))]})]},T.id))]})},rV={},iV=()=>{const t=Ir();S.useEffect(()=>{const n=Ie().currentUser;let r=!0;if(n){const i=ae(Y,"users",n.uid);Ye(i).then(s=>{if(r)if(s.exists()){const o=s.data();!o.firstName&&!o.lastName&&(alert("Please create your profile"),t("/create-profile"))}else console.error("User document doesn't exist!")}).catch(s=>{console.error("Error fetching user data:",s)})}return()=>{r=!1}},[]);async function e(){(await _n(He(Y,"posts"))).forEach(n=>{})}return e(),S.useState([]),c.jsxs("div",{className:rV.feed,children:[c.jsx(S9,{}),c.jsx(p9,{}),c.jsx(nV,{})]})},sV="_right_1mdby_1",oV="_viewRecommendation_1mdby_8",aV="_jobRecommendations_1mdby_20",lV="_jobsHeader_1mdby_33",uV="_jobsTitle_1mdby_40",cV="_jobTitleName_1mdby_53",hV="_jobNumber_1mdby_63",dV="_viewAllBtn_1mdby_75",fV="_joblists_1mdby_88",pV="_jobItems_1mdby_96",mV="_jobImg_1mdby_105",gV="_job_1mdby_20",yV="_jobName_1mdby_126",vV="_jobCompany_1mdby_137",bV="_jobTimer_1mdby_148",wV="_jobTimerImg_1mdby_155",_V="_jobTime_1mdby_148",Ct={right:sV,viewRecommendation:oV,jobRecommendations:aV,jobsHeader:lV,jobsTitle:uV,jobTitleName:cV,jobNumber:hV,viewAllBtn:dV,joblists:fV,jobItems:pV,jobImg:mV,job:gV,jobName:yV,jobCompany:vV,jobTimer:bV,jobTimerImg:wV,jobTime:_V},SV=()=>{const t=Ir(),e=He(Y,"jobs"),[n,r]=S.useState([]);return S.useEffect(()=>{(async()=>{const i=await _n(e),s=await Promise.all(i.docs.map(async o=>{const a=ae(Y,`jobs/${o.id}`),l=await Ye(a);return l.exists()?{id:o.id,...l.data()}:null}));r(s.filter(o=>o!==null))})()},[]),c.jsxs("div",{className:Ct.right,children:[c.jsx("a",{href:"/jobs",className:Ct.viewRecommendation,children:"View all recommendations"}),c.jsxs("div",{className:Ct.jobRecommendations,children:[c.jsxs("div",{className:Ct.jobsHeader,children:[c.jsxs("div",{className:Ct.jobsTitle,children:[c.jsx("p",{className:Ct.jobTitleName,children:"Jobs"}),c.jsxs("p",{className:Ct.jobNumber,children:[n.length," Jobs recommended for you"]})]}),c.jsx("button",{className:Ct.viewAllBtn,onClick:()=>t("/jobs"),children:"View all"})]}),c.jsx("div",{className:Ct.joblists,children:n.slice(0,4).map((i,s)=>c.jsxs("div",{className:Ct.jobItems,children:[c.jsx("img",{className:Ct.jobImg,src:i.imageUrl,alt:"job"}),c.jsxs("div",{className:Ct.job,children:[c.jsx("p",{className:Ct.jobName,children:i.title}),c.jsx("p",{className:Ct.jobCompany,children:i.company})]}),c.jsxs("div",{className:Ct.jobTimer,children:[c.jsx("img",{className:Ct.jobTimerImg,src:"./history-outline.svg",alt:"timer"}),c.jsxs("p",{className:Ct.jobTime,children:[" ",Math.ceil(Math.abs(new Date-new Date(i["posted On"].toDate()))/(1e3*60))," mins"]})]})]},s))})]})]})},xV="_home_2l3k7_1",CV={home:xV},kV="_footerSearch_1vbzy_1",EV="_searchBarContainer_1vbzy_16",TV="_searchIcon_1vbzy_28",NV="_searchInput_1vbzy_34",dc={footerSearch:kV,searchBarContainer:EV,searchIcon:TV,searchInput:NV},IV=()=>c.jsx("div",{className:dc.footerSearch,children:c.jsxs("div",{className:dc.searchBarContainer,children:[c.jsx("img",{className:dc.searchIcon,src:"./search.svg",alt:"search"}),c.jsx("input",{type:"text",className:dc.searchInput,placeholder:"Search"})]})}),jV=()=>c.jsxs("div",{children:[c.jsx(Eu,{}),c.jsxs("div",{className:CV.home,children:[c.jsx(Tu,{}),c.jsx(iV,{}),c.jsx(SV,{})]}),c.jsx(IV,{})]}),AV="_container_urz67_1",OV="_profile_urz67_11",PV="_user_urz67_23",DV="_bannerContainer_urz67_35",RV="_banner_urz67_35",LV="_userTitles_urz67_63",MV="_pic_urz67_54",UV="_titleContainer_urz67_83",FV="_username_urz67_90",VV="_jobtitle_urz67_99",zV="_btns_urz67_109",BV="_btn_urz67_109",qV="_connectBtn_urz67_127",$V="_msgBtn_urz67_140",WV="_moreBtn_urz67_153",HV="_btnTxt_urz67_170",KV="_info_urz67_174",GV="_generalText_urz67_188",QV="_infoContainer_urz67_199",JV="_activity_urz67_208",XV="_followers_urz67_229",YV="_showPostsContainer_urz67_251",ZV="_showPosts_urz67_251",e5="_experienceSection_urz67_269",t5="_experienceContainer_urz67_283",n5="_companylogo_urz67_299",r5="_job_urz67_99",i5="_jobCompany_urz67_315",s5="_jobDate_urz67_324",o5="_jobDesc_urz67_333",a5="_skillSection_urz67_345",l5="_skill_urz67_345",u5="_skillText_urz67_367",c5="_interestSection_urz67_376",h5="_interestContainer_urz67_390",d5="_experience_urz67_269",f5="_followBtn_urz67_404",p5="_others_urz67_416",m5="_background_urz67_429",g5="_experienceTitle_urz67_441",y5="_title_urz67_83",v5="_addExperienceTitle_urz67_447",b5="_modalBtn_urz67_451",w5="_formInput_urz67_455",_5="_formInput1_urz67_455",S5="_left_urz67_501",M={container:AV,profile:OV,user:PV,bannerContainer:DV,banner:RV,userTitles:LV,pic:MV,titleContainer:UV,username:FV,jobtitle:VV,btns:zV,btn:BV,connectBtn:qV,msgBtn:$V,moreBtn:WV,btnTxt:HV,info:KV,generalText:GV,infoContainer:QV,activity:JV,followers:XV,showPostsContainer:YV,showPosts:ZV,experienceSection:e5,experienceContainer:t5,companylogo:n5,job:r5,jobCompany:i5,jobDate:s5,jobDesc:o5,skillSection:a5,skill:l5,skillText:u5,interestSection:c5,interestContainer:h5,experience:d5,followBtn:f5,others:p5,background:m5,experienceTitle:g5,title:y5,addExperienceTitle:v5,modalBtn:b5,formInput:w5,formInput1:_5,left:S5};function dp(t){return Hs({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(t)}function dr(t){return Hs({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z"}}]})(t)}const x5=()=>{const t=Ie().currentUser,[e,n]=S.useState(""),[r,i]=S.useState(""),[s,o]=S.useState(""),[a,l]=S.useState(""),[u,h]=S.useState(""),[d,f]=S.useState(""),[g,v]=S.useState(""),[b,x]=S.useState([]),[m,p]=S.useState([]),[y,w]=S.useState([]),[k,I]=S.useState([]),[A,O]=S.useState(!1),[z,W]=S.useState(!1),[me,K]=S.useState(!1),[ie,T]=S.useState(!1),[P,U]=S.useState(!1),[E,N]=S.useState(""),[L,H]=S.useState({title:"",company:"",startDate:"",endDate:"",description:"",companyLogo:""}),[te,ge]=S.useState(""),[nt,Pe]=S.useState(null),[Rt,ze]=S.useState(!1),[yt,on]=S.useState(null),[Zi,ni]=S.useState(!1),[mn,or]=S.useState(s||""),[ri,C]=S.useState(a||""),[j,_]=S.useState(u||""),[q,F]=S.useState(!1),R=()=>F(!0),Q=()=>F(!1),xe=async $=>{$.preventDefault();try{if(t){const ne=ae(Y,"users",t.uid);await ft(ne,{firstName:mn,lastName:ri,title:j}),console.log("User document updated successfully"),o(mn),l(ri),h(j),Q()}}catch(ne){console.error("Error editing user information:",ne)}},Ee=$=>{on($),ge(m[$]),ni(!0)},zn=()=>{on(null),ni(!1),W(!1),ge("")},of=$=>{p(ne=>{const re=[...ne];return re.splice($,1),es(re),re})},Ks=$=>{$.preventDefault(),p(yt!==null?ne=>{const re=[...ne];return re[yt]=te,es(re),re}:ne=>{const re=ne?[...ne,te]:[te];return es(re),re}),ge(""),zn()},es=async $=>{if(t){const ne=ae(Y,"users",t.uid);try{await ft(ne,{skills:$})}catch(re){console.error("Error updating skills:",re)}}},af=$=>{Pe($),H(b[$]),ze(!0)},Gs=()=>{Pe(null),ze(!1),H({title:"",company:"",startDate:"",endDate:"",description:"",companyLogo:""}),O(!1)},Au=async $=>{if($.preventDefault(),t){const ne=ae(Y,"users",t.uid);try{let re;nt!==null?(re=[...b],re[nt]=L):re=[...b,L],await ft(ne,{experience:re}),x(re),Gs()}catch(re){console.error("Error updating experience: ",re)}}},Ou=async $=>{let ne=b.filter((re,Ne)=>Ne!==$);if(x(ne),t){const re=ae(Y,"users",t.uid);try{await ft(re,{experience:ne})}catch(Ne){console.error("Error updating experience:",Ne)}}},ar=$=>{const{name:ne,value:re}=$.target;H({...L,[ne]:re})},sb=$=>{const{value:ne}=$.target;ge(ne)},CT=async $=>{if(!$)return;const ne=No(Po,`logos/${$.name}`);try{const re=await nl(ne,$);return await To(re.ref)}catch(re){console.error("Error uploading logo: ",re)}},kT=async $=>{if(!$)return;const ne=No(Po,`avatars/${$.name}`);try{const re=await nl(ne,$);return await To(re.ref)}catch(re){console.error("Error uploading avatar: ",re)}},ET=async $=>{if(!$)return;const ne=No(Po,`banners/${$.name}`);try{const re=await nl(ne,$);return await To(re.ref)}catch(re){console.error("Error uploading avatar: ",re)}},ob=async $=>{const ne=$.target.files[0];if(ne){const re=await CT(ne);H(Ne=>({...Ne,companyLogo:re}))}},TT=async $=>{const ne=$.target.files[0];if(ne){const re=await kT(ne);if(re){n(re);const Ne=ae(Y,"users",t.uid);try{await ft(Ne,{profilePicture:re})}catch(Bn){console.error("Error updating user's profile picture:",Bn)}}}},NT=async $=>{const ne=$.target.files[0];if(ne){const re=await ET(ne);if(re){i(re);const Ne=ae(Y,"users",t.uid);try{await ft(Ne,{bannerPicture:re})}catch(Bn){console.error("Error updating user's banner picture:",Bn)}}}};function IT(){O(!0)}function ab(){O(!1)}function jT(){W(!0)}function Pu(){W(!1)}function AT(){K(!0)}function OT(){K(!1)}function PT(){T(!0)}function lb(){T(!1)}function ub(){U(!0)}function lf(){U(!1)}async function DT($){if($.preventDefault(),t){const ne=ae(Y,"users",t.uid);await ft(ne,{bio:E}).then(()=>{console.log("User document updated successfully"),f(E),lf()}).catch(re=>{console.error("Error updating user document:",re)})}}S.useEffect(()=>{const $=Ie().currentUser;if($){const ne=ae(Y,"users",$.uid);Ye(ne).then(re=>{if(re.exists()){const Ne=re.data();n(Ne.profilePicture),o(Ne.firstName),l(Ne.lastName),h(Ne.title),f(Ne.bio),N(Ne.bio),v(Ne.followersCount),x(Ne.experience),p(Ne.skills),w(Ne.interests),i(Ne.bannerPicture),or(Ne.firstName),C(Ne.lastName),_(Ne.title)}else console.error("User document doesn't exist!")}).catch(re=>{console.error("Error fetching user data:",re)})}(async()=>{const ne=await RT();I(ne)})()},[]);const RT=async()=>{const $=Ie().currentUser;if($){let ne=(await _n(He(Y,"users"))).docs.map(Du=>({id:Du.id,...Du.data()}));const re=ae(Y,"users",$.uid),Ne=await Ye(re);let Bn=[];return Ne.exists()&&(Bn=Ne.data().contacts||[]),Bn.push($.uid),ne.filter(Du=>!Bn.includes(Du.id))}},LT=k.sort(()=>.5-Math.random()).slice(0,3),MT=async $=>{const ne=Ie().currentUser;if(ne){const re=qr(He(Y,"connections"),ln("userId","==",ne.uid),ln("contactId","==",$));if(!(await _n(re)).empty){console.log("Connection request already exists");return}const Ne={userId:ne.uid,contactId:$,timestamp:new Date,status:"requested"};try{const Bn=await Ds(He(Y,"connections"),Ne);alert("Connection request sent!"),console.log("Document written with ID: ",Bn.id)}catch(Bn){console.error("Error adding document: ",Bn)}}};return c.jsxs("div",{children:[c.jsx(Eu,{}),c.jsxs("div",{className:M.container,children:[c.jsx("div",{className:M.left,children:c.jsx(Tu,{})}),c.jsxs("div",{className:M.profile,children:[c.jsxs("div",{className:M.user,children:[c.jsx("div",{className:M.bannerContainer,onClick:PT,children:c.jsx("img",{className:M.banner,src:r})}),c.jsxs("div",{className:M.userTitles,children:[c.jsx("img",{className:M.pic,onClick:AT,src:e}),c.jsxs("div",{className:M.titleContainer,children:[c.jsxs("h6",{className:M.username,children:[s," ",a]}),c.jsxs("p",{className:M.jobtitle,children:[u," "]})]}),c.jsx(qa,{onClick:R}),c.jsx(yn,{isOpen:q,onRequestClose:Q,ariaHideApp:!1,contentLabel:"Edit Profile Modal",children:c.jsxs("div",{children:[c.jsxs("div",{className:M.title,children:[c.jsx("h2",{className:M.addExperienceTitle,children:"Edit Profile Information"}),c.jsx("button",{onClick:Q,children:c.jsx(dr,{})})]}),c.jsxs("form",{className:M.experienceForm,onSubmit:xe,children:[c.jsx("input",{type:"text",value:mn,placeholder:"First Name",className:M.formInput1,onChange:$=>or($.target.value)}),c.jsx("input",{type:"text",value:ri,placeholder:"Last Name",className:M.formInput1,onChange:$=>C($.target.value)}),c.jsx("input",{type:"text",value:j,placeholder:"Job Title",className:M.formInput1,onChange:$=>_($.target.value)}),c.jsx("div",{className:M.btns,children:c.jsx("button",{className:M.btn,onClick:xe,children:"Submit"})})]})]})}),c.jsxs(yn,{isOpen:me,onRequestClose:Pu,ariaHideApp:!1,contentLabel:" Add Profile Picture Modal",children:[c.jsxs("div",{className:M.title,children:[c.jsx("h2",{className:M.addExperienceTitle,children:"Add Profile Picture"}),c.jsx("button",{onClick:OT,className:M.modalBtn,children:c.jsx(dr,{})})]}),c.jsxs("form",{className:M.experienceForm,children:[c.jsx("input",{type:"file",placeholder:"Upload Profile Picture",className:M.formInput,onChange:TT}),e&&c.jsx("img",{src:e,alt:"Profile Avatar",style:{width:"100px",height:"100px"}}),c.jsx("div",{className:M.btns,children:c.jsx("button",{className:M.btn,children:"Submit"})})]})]}),c.jsxs(yn,{isOpen:ie,onRequestClose:lb,ariaHideApp:!1,contentLabel:" Add Banner Modal",children:[c.jsxs("div",{className:M.title,children:[c.jsx("h2",{className:M.addExperienceTitle,children:"Add Banner"}),c.jsx("button",{onClick:lb,className:M.modalBtn,children:c.jsx(dr,{})})]}),c.jsxs("form",{className:M.experienceForm,children:[c.jsx("input",{type:"file",placeholder:"Upload Banner",className:M.formInput,onChange:NT}),r&&c.jsx("img",{src:r,alt:"Profile Avatar",style:{width:"100px",height:"100px"}}),c.jsx("div",{className:M.btns,children:c.jsx("button",{className:M.btn,children:"Submit"})})]})]})]})]}),c.jsxs("div",{className:M.info,children:[c.jsxs("div",{className:M.infoContainer,children:[c.jsx("h6",{children:"General Information"}),d?c.jsx(qa,{onClick:ub}):c.jsx(dp,{onClick:ub})]}),d&&c.jsx("p",{children:d})]}),c.jsxs(yn,{isOpen:P,onRequestClose:lf,ariaHideApp:!1,contentLabel:" Add/Edit General Information Modal",children:[c.jsxs("div",{className:M.title,children:[c.jsx("h2",{className:M.addExperienceTitle,children:"General Information"}),c.jsx("button",{onClick:lf,className:M.modalBtn,children:c.jsx(dr,{})})]}),c.jsxs("form",{className:M.experienceForm,onSubmit:DT,children:[c.jsx("textarea",{type:"text",value:E,onChange:$=>N($.target.value),placeholder:"Enter General Information",className:M.formInput}),c.jsx("div",{className:M.btns,children:c.jsx("button",{className:M.btn,children:"Submit"})})]})]}),c.jsxs("div",{className:M.experienceSection,children:[c.jsxs("div",{className:M.experienceTitle,children:[c.jsx("h6",{children:"Experience"}),c.jsx(dp,{onClick:IT})]}),b&&b.map(($,ne)=>c.jsxs("div",{className:M.experienceContainer,children:[c.jsx("img",{className:M.companylogo,src:$.companyLogo}),c.jsxs("div",{className:M.experience,children:[c.jsx("p",{className:M.job,children:$.title}),c.jsx("p",{className:M.jobCompany,children:$.company}),c.jsxs("p",{className:M.jobDate,children:[$.startDate," - ",$.endDate]}),c.jsx("p",{className:M.jobDesc,children:$.description})]}),c.jsxs("div",{className:M.btns,children:[c.jsx(qa,{onClick:()=>af(ne)}),c.jsx(Zm,{onClick:()=>Ou(ne)})]})]},ne))]}),c.jsxs(yn,{isOpen:A,onRequestClose:ab,ariaHideApp:!1,contentLabel:" Add Experience Modal",children:[c.jsxs("div",{className:M.title,children:[c.jsx("h2",{className:M.addExperienceTitle,children:"Add Experience"}),c.jsx("button",{onClick:ab,className:M.modalBtn,children:c.jsx(dr,{})})]}),c.jsxs("form",{className:M.experienceForm,onSubmit:Au,children:[c.jsx("input",{type:"text",placeholder:"Enter Job Title",name:"title",className:M.formInput,onChange:$=>ar($),value:L.title}),c.jsx("input",{type:"text",placeholder:"Enter Company Name",name:"company",className:M.formInput,onChange:$=>ar($),value:L.company}),c.jsx("p",{children:"Start Date"}),c.jsx("input",{type:"date",name:"startDate",value:L.startDate,className:M.formInput,onChange:ar}),c.jsx("p",{children:"End Date"}),c.jsx("input",{type:"date",name:"endDate",value:L.endDate,className:M.formInput,onChange:ar}),c.jsx("textarea",{type:"text",placeholder:"Enter Description",name:"description",className:M.formInput,onChange:$=>ar($),value:L.description}),c.jsx("p",{children:"Company Logo"}),c.jsx("input",{type:"file",placeholder:"Upload Company Logo",name:"companyLogo",className:M.formInput,onChange:ob}),L.companyLogo&&c.jsx("img",{src:L.companyLogo,alt:"Company Logo",style:{width:"100px",height:"100px"}}),c.jsx("div",{className:M.btns,children:c.jsx("button",{className:M.btn,children:"Submit"})})]})]}),c.jsxs(yn,{isOpen:Rt,onRequestClose:Gs,ariaHideApp:!1,contentLabel:" Edit Experience Modal",children:[c.jsxs("div",{className:M.title,children:[c.jsx("h2",{className:M.addExperienceTitle,children:"Edit Experience"}),c.jsx("button",{onClick:Gs,className:M.modalBtn,children:c.jsx(dr,{})})]}),c.jsxs("form",{className:M.experienceForm,onSubmit:Au,children:[c.jsx("input",{type:"text",placeholder:"Enter Job Title",name:"title",className:M.formInput,onChange:$=>ar($),value:L.title}),c.jsx("input",{type:"text",placeholder:"Enter Company Name",name:"company",className:M.formInput,onChange:$=>ar($),value:L.company}),c.jsx("input",{type:"date",name:"startDate",value:L.startDate,className:M.formInput,onChange:ar}),c.jsx("input",{type:"date",name:"endDate",value:L.endDate,className:M.formInput,onChange:ar}),c.jsx("textarea",{type:"text",placeholder:"Enter Description",name:"description",className:M.formInput,onChange:$=>ar($),value:L.description}),c.jsx("p",{children:"Company Logo"}),c.jsx("input",{type:"file",placeholder:"Upload Company Logo",name:"companyLogo",className:M.formInput,onChange:ob}),L.companyLogo&&c.jsx("img",{src:L.companyLogo,alt:"Company Logo",style:{width:"100px",height:"100px"}}),c.jsx("div",{className:M.btns,children:c.jsx("button",{className:M.btn,children:"Submit"})})]})]}),c.jsxs("div",{className:M.skillSection,children:[c.jsxs("div",{className:M.experienceTitle,children:[c.jsx("h6",{children:"Skills"}),c.jsx(dp,{onClick:jT})]}),m&&m.map(($,ne)=>c.jsxs("div",{className:M.showPostsContainer,children:[c.jsx("p",{children:$}),c.jsxs("div",{className:M.btns,children:[c.jsx(qa,{onClick:()=>Ee(ne)}),c.jsx(Zm,{onClick:()=>of(ne)})]})]},ne)),c.jsxs("div",{className:M.showPostsContainer,children:[c.jsx("p",{className:M.showPosts,children:" Show all skills"}),c.jsx("img",{src:"./Arrow.svg",className:M.icon})]})]}),c.jsxs(yn,{isOpen:z,onRequestClose:Pu,ariaHideApp:!1,contentLabel:" Add Skills Modal",children:[c.jsxs("div",{className:M.title,children:[c.jsx("h2",{className:M.addExperienceTitle,children:"Add Skills"}),c.jsx("button",{onClick:Pu,className:M.modalBtn,children:c.jsx(dr,{})})]}),c.jsxs("form",{className:M.experienceForm,onSubmit:Ks,children:[c.jsx("input",{type:"text",placeholder:"Enter Skill",className:M.formInput,name:"skill",onChange:$=>sb($),value:te}),c.jsx("div",{className:M.btns,children:c.jsx("button",{className:M.btn,children:"Submit"})})]})]}),c.jsxs(yn,{isOpen:Zi,onRequestClose:Pu,ariaHideApp:!1,contentLabel:" Edit Skills Modal",children:[c.jsxs("div",{className:M.title,children:[c.jsx("h2",{className:M.addExperienceTitle,children:"Add Skills"}),c.jsx("button",{onClick:zn,className:M.modalBtn,children:c.jsx(dr,{})})]}),c.jsxs("form",{className:M.experienceForm,onSubmit:Ks,children:[c.jsx("input",{type:"text",placeholder:"Enter Skill",className:M.formInput,name:"skill",onChange:$=>sb($),value:te}),c.jsx("div",{className:M.btns,children:c.jsx("button",{className:M.btn,children:"Submit"})})]})]})]}),c.jsxs("div",{className:M.others,children:[c.jsx("img",{className:M.background,src:"/public/profbackpic.svg"}),c.jsx("h6",{children:"People you may know"}),LT.map(($,ne)=>c.jsxs("div",{className:M.interestContainer,children:[c.jsx("img",{src:$.profilePicture,alt:$.firstName,className:M.companylogo}),c.jsxs("div",{className:M.experience,children:[c.jsxs("p",{className:M.job,children:[$.firstName," ",$.lastName]}),c.jsx("p",{className:M.jobCompany,children:$.bio}),c.jsx("button",{className:M.followBtn,onClick:()=>MT($.id),children:"Connect"})]})]},ne))]})]})]})},C5="_networks_section_14hes_1",k5="_manage_network_section_14hes_11",E5="_connection_14hes_17",T5="_contacts_14hes_18",N5="_active_14hes_31",I5="_txt_14hes_39",j5="_contactRequests_14hes_43",A5="_RequestContainer_14hes_103",O5="_leftP_14hes_136",Ft={networks_section:C5,manage_network_section:k5,connection:E5,contacts:T5,active:N5,txt:I5,contactRequests:j5,RequestContainer:A5,leftP:O5},P5="_users_1gqt7_1",D5="_user_1gqt7_1",R5="_userImage_1gqt7_13",L5="_userName_1gqt7_19",M5="_connectBtn_1gqt7_23",U5="_acceptBtn_1gqt7_23",F5="_btns_1gqt7_35",V5="_imgContainer_1gqt7_46",ht={users:P5,user:D5,userImage:R5,userName:L5,connectBtn:M5,acceptBtn:U5,btns:F5,imgContainer:V5},fp=({type:t})=>{const e=Ie().currentUser,n=e.uid,[r,i]=S.useState([]),[s,o]=S.useState([]),[a,l]=S.useState([]),[u,h]=S.useState(new Set);S.useEffect(()=>{const w=async()=>{if(e){const W=ae(Y,"users",e.uid),me=await Ye(W);if(me.exists){const K=me.data().contacts||[],ie=[];for(let T of K){const P=ae(Y,"users",T),U=await Ye(P);U.exists&&ie.push(U.data())}i(ie)}}};w();const k=async()=>{const W=await f();o(W)};k();const I=async()=>{const W=await g();l(W)};I();const A=async()=>{const W=await v();h(W)};A();const O=ae(Y,"users",e.uid),z=Bv(O,W=>{W.exists()?(w(),k(),I(),A()):console.log("No such document!")});return()=>z()},[]);const d=async w=>{const k=Ie().currentUser;if(k){const I=qr(He(Y,"connections"),ln("userId","==",k.uid),ln("contactId","==",w));if(!(await _n(I)).empty){console.log("Connection request already exists");return}const A={userId:k.uid,contactId:w,timestamp:new Date,status:"requested"};try{const O=await Ds(He(Y,"connections"),A);console.log("Document written with ID: ",O.id),alert("Connection request sent!"),h(z=>new Set([...z,w]))}catch(O){console.error("Error adding document: ",O)}}},f=async()=>{const w=Ie().currentUser;if(w){let k=(await _n(He(Y,"users"))).docs.map(z=>({id:z.id,...z.data()}));const I=ae(Y,"users",w.uid),A=await Ye(I);let O=[];return A.exists()&&(O=A.data().contacts||[]),O.push(w.uid),k.filter(z=>!O.includes(z.id))}},g=async()=>{const w=He(Y,"connections"),k=qr(w,ln("contactId","==",e.uid),ln("status","==","requested")),I=(await _n(k)).docs.map(A=>({id:A.id,...A.data()})).map(async A=>{const O=ae(Y,"users",A.userId),z=await Ye(O);return z.exists()?{...A,userDetails:z.data()}:{...A,userDetails:{}}});return await Promise.all(I)},v=async()=>{const w=He(Y,"connections"),k=qr(w,ln("userId","==",e.uid),ln("status","==","requested")),I=(await _n(k)).docs.map(A=>A.data().contactId);return new Set(I)},b=async(w,k,I)=>{const A=ae(Y,"connections",w);try{await ft(A,{status:"accepted"})}catch(O){console.error("Error updating friend request status: ",O)}},x=async(w,k,I)=>{const A=ae(Y,"connections",w);try{await ft(A,{status:"rejected"})}catch(O){console.error("Error updating friend request status: ",O)}},m=async(w,k)=>{const I=ae(Y,"users",w),A=ae(Y,"users",k);try{await ft(I,{contacts:Ym(k)}),await ft(A,{contacts:Ym(w)})}catch(O){console.error("Error updating user contacts: ",O)}},p=async(w,k)=>{console.log("Accept request from:",k),await b(w),await m(n,k),l(I=>I.filter(A=>A.id!==w))},y=async(w,k)=>{console.log("Reject request from:",k),await x(w),l(I=>I.filter(A=>A.id!==w))};if(t==="new-connections")return c.jsx("div",{className:ht.users,children:s.map((w,k)=>c.jsxs("div",{className:ht.user,children:[c.jsxs("div",{className:ht.imgContainer,children:[c.jsx("img",{src:w.profilePicture,alt:w.firstName,className:ht.userImage}),c.jsxs("p",{className:ht.userName,children:[w.firstName," ",w.lastName]})]}),c.jsx("button",{onClick:()=>d(w.id),className:ht.connectBtn,disabled:u.has(w.id),children:u.has(w.id)?"Request Sent":"Connect"})]},k))});if(t==="contacts")return c.jsx("div",{className:ht.users,children:r.map((w,k)=>c.jsxs("div",{className:ht.user,children:[c.jsxs("div",{className:ht.imgContainer,children:[c.jsx("img",{src:w.profilePicture,alt:w.firstName,className:ht.userImage}),c.jsxs("p",{className:ht.userName,children:[w.firstName," ",w.lastName]})]}),c.jsx("button",{className:ht.connectBtn,children:"Connected"})]},k))});if(t==="requests")return c.jsx("div",{children:a.map((w,k)=>c.jsxs("div",{className:ht.user,children:[c.jsxs("div",{className:ht.imgContainer,children:[c.jsx("img",{src:w.userDetails.profilePicture,alt:"requests",className:ht.userImage}),c.jsxs("p",{className:ht.userName,children:[w.userDetails.firstName," ",w.userDetails.lastName]})]}),c.jsxs("div",{className:ht.btns,children:[c.jsx("button",{className:ht.acceptBtn,onClick:()=>p(w.id,w.userId),children:"Accept"}),c.jsx("button",{className:ht.acceptBtn,onClick:()=>y(w.id,w.userId),children:"Ignore"})]})]},k))})},z5=()=>{const[t,e]=S.useState("Connections");S.useState([]);const n=r=>{e(r)};return c.jsxs(c.Fragment,{children:[c.jsx(Eu,{}),c.jsxs("div",{className:Ft.networks_section,children:[c.jsxs("div",{className:Ft.manage_network_section,children:[c.jsx("h6",{children:"Manage your networks"}),c.jsx("div",{className:`${Ft.connection} ${t==="Connections"?Ft.active:""}`,onClick:()=>n("Connections"),children:c.jsx("p",{className:Ft.txt,children:"New Connections"})}),c.jsx("div",{className:`${Ft.contacts} ${t==="Contacts"?Ft.active:""}`,onClick:()=>n("Contacts"),children:c.jsx("p",{className:Ft.txt,children:"Contacts"})}),c.jsx("div",{className:`${Ft.connection} ${t==="Requests"?Ft.active:""}`,onClick:()=>n("Requests"),children:c.jsx("p",{className:Ft.txt,children:"Requests"})})]}),c.jsx("div",{className:Ft.leftP,children:c.jsx(Tu,{handleTabClick:n})}),c.jsxs("div",{className:Ft.users,children:[t==="Connections"&&c.jsxs("div",{className:Ft.title,children:[c.jsx("h3",{children:"Connections"}),c.jsx(fp,{type:"new-connections"})]}),t==="Contacts"&&c.jsxs("div",{className:Ft.title,children:[c.jsx("h3",{children:"Contacts"}),c.jsx(fp,{type:"contacts"})]}),t==="Requests"&&c.jsxs("div",{className:Ft.title,children:[c.jsx("h3",{children:"Connection Requests"}),c.jsx(fp,{type:"requests"})]})]})]})]})},B5="_jobs_section_q5udh_1",q5="_jobs_container_q5udh_10",$5="_search_post_q5udh_24",W5="_search_jobs_q5udh_35",H5="_create_job_q5udh_45",K5="_recommended_q5udh_56",G5="_title_q5udh_63",Q5="_jobs_q5udh_1",J5="_job_q5udh_1",X5="_logo_q5udh_93",Y5="_job_logo_q5udh_99",Z5="_details_q5udh_103",ez="_job_title_q5udh_109",tz="_job_company_name_q5udh_118",nz="_job_location_q5udh_126",rz="_save_icon_q5udh_136",iz="_right_q5udh_145",sz="_job_details_column_q5udh_152",oz="_experienceTitle_q5udh_162",az="_addExperienceTitle_q5udh_168",lz="_modalBtn_q5udh_171",uz="_formInput_q5udh_175",cz="_btns_q5udh_185",hz="_btn_q5udh_185",dz="_left_q5udh_202",fz="_jobsMain_q5udh_229",oe={jobs_section:B5,jobs_container:q5,search_post:$5,search_jobs:W5,create_job:H5,recommended:K5,title:G5,jobs:Q5,job:J5,logo:X5,job_logo:Y5,details:Z5,job_title:ez,job_company_name:tz,job_location:nz,save_icon:rz,right:iz,job_details_column:sz,experienceTitle:oz,addExperienceTitle:az,modalBtn:lz,formInput:uz,btns:cz,btn:hz,left:dz,jobsMain:fz};var Ri={},Gv={},pz="Expected a function",__=0/0,mz="[object Symbol]",gz=/^\s+|\s+$/g,yz=/^[-+]0x[0-9a-f]+$/i,vz=/^0b[01]+$/i,bz=/^0o[0-7]+$/i,wz=parseInt,_z=typeof Ru=="object"&&Ru&&Ru.Object===Object&&Ru,Sz=typeof self=="object"&&self&&self.Object===Object&&self,xz=_z||Sz||Function("return this")(),Cz=Object.prototype,kz=Cz.toString,Ez=Math.max,Tz=Math.min,pp=function(){return xz.Date.now()};function Nz(t,e,n){var r,i,s,o,a,l,u=0,h=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(pz);e=S_(e)||0,sg(n)&&(h=!!n.leading,d="maxWait"in n,s=d?Ez(S_(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function g(I){var A=r,O=i;return r=i=void 0,u=I,o=t.apply(O,A),o}function v(I){return u=I,a=setTimeout(m,e),h?g(I):o}function b(I){var A=I-l,O=I-u,z=e-A;return d?Tz(z,s-O):z}function x(I){var A=I-l,O=I-u;return l===void 0||A>=e||A<0||d&&O>=s}function m(){var I=pp();if(x(I))return p(I);a=setTimeout(m,b(I))}function p(I){return a=void 0,f&&r?g(I):(r=i=void 0,o)}function y(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function w(){return a===void 0?o:p(pp())}function k(){var I=pp(),A=x(I);if(r=arguments,i=this,l=I,A){if(a===void 0)return v(l);if(d)return a=setTimeout(m,e),g(l)}return a===void 0&&(a=setTimeout(m,e)),o}return k.cancel=y,k.flush=w,k}function sg(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Iz(t){return!!t&&typeof t=="object"}function jz(t){return typeof t=="symbol"||Iz(t)&&kz.call(t)==mz}function S_(t){if(typeof t=="number")return t;if(jz(t))return __;if(sg(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=sg(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(gz,"");var n=vz.test(t);return n||bz.test(t)?wz(t.slice(2),n?2:8):yz.test(t)?__:+t}var Az=Nz,sf={};Object.defineProperty(sf,"__esModule",{value:!0});sf.compose=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(){for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];e.forEach(function(o){return o&&o.apply(void 0,i)})}};sf.pick=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.reduce(function(i,s){return t&&t.hasOwnProperty(s)&&(i[s]=t[s]),i},{})};Object.defineProperty(Gv,"__esModule",{value:!0});var Zs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oz=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Pz=S,Dz=Qv(Pz),Rz=Wv,st=Qv(Rz),Lz=Az,Mz=Qv(Lz),Ar=sf;function Qv(t){return t&&t.__esModule?t:{default:t}}function Uz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fz(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Vz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var zz=function(t){return{mainText:t.main_text,secondaryText:t.secondary_text}},Jv=function(t){Vz(e,t);function e(n){Uz(this,e);var r=Fz(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.init=function(){if(!window.google)throw new Error("[react-places-autocomplete]: Google Maps JavaScript API library must be loaded. See: https://github.com/kenny-hibino/react-places-autocomplete#load-google-library");if(!window.google.maps.places)throw new Error("[react-places-autocomplete]: Google Maps Places library must be loaded. Please add `libraries=places` to the src URL. See: https://github.com/kenny-hibino/react-places-autocomplete#load-google-library");r.autocompleteService=new window.google.maps.places.AutocompleteService,r.autocompleteOK=window.google.maps.places.PlacesServiceStatus.OK,r.setState(function(i){return i.ready?null:{ready:!0}})},r.autocompleteCallback=function(i,s){if(r.setState({loading:!1}),s!==r.autocompleteOK){r.props.onError(s,r.clearSuggestions);return}var o=r.props.highlightFirstSuggestion;r.setState({suggestions:i.map(function(a,l){return{id:a.id,description:a.description,placeId:a.place_id,active:!!(o&&l===0),index:l,formattedSuggestion:zz(a.structured_formatting),matchedSubstrings:a.matched_substrings,terms:a.terms,types:a.types}})})},r.fetchPredictions=function(){var i=r.props.value;i.length&&(r.setState({loading:!0}),r.autocompleteService.getPlacePredictions(Zs({},r.props.searchOptions,{input:i}),r.autocompleteCallback))},r.clearSuggestions=function(){r.setState({suggestions:[]})},r.clearActive=function(){r.setState({suggestions:r.state.suggestions.map(function(i){return Zs({},i,{active:!1})})})},r.handleSelect=function(i,s,o){r.clearSuggestions(),r.props.onSelect?r.props.onSelect(i,s,o):r.props.onChange(i)},r.getActiveSuggestion=function(){return r.state.suggestions.find(function(i){return i.active})},r.selectActiveAtIndex=function(i){var s=r.state.suggestions.find(function(o){return o.index===i}).description;r.setActiveAtIndex(i),r.props.onChange(s)},r.selectUserInputValue=function(){r.clearActive(),r.props.onChange(r.state.userInputValue)},r.handleEnterKey=function(){var i=r.getActiveSuggestion();i===void 0?r.handleSelect(r.props.value,null,null):r.handleSelect(i.description,i.placeId,i)},r.handleDownKey=function(){if(r.state.suggestions.length!==0){var i=r.getActiveSuggestion();i===void 0?r.selectActiveAtIndex(0):i.index===r.state.suggestions.length-1?r.selectUserInputValue():r.selectActiveAtIndex(i.index+1)}},r.handleUpKey=function(){if(r.state.suggestions.length!==0){var i=r.getActiveSuggestion();i===void 0?r.selectActiveAtIndex(r.state.suggestions.length-1):i.index===0?r.selectUserInputValue():r.selectActiveAtIndex(i.index-1)}},r.handleInputKeyDown=function(i){switch(i.key){case"Enter":i.preventDefault(),r.handleEnterKey();break;case"ArrowDown":i.preventDefault(),r.handleDownKey();break;case"ArrowUp":i.preventDefault(),r.handleUpKey();break;case"Escape":r.clearSuggestions();break}},r.setActiveAtIndex=function(i){r.setState({suggestions:r.state.suggestions.map(function(s,o){return o===i?Zs({},s,{active:!0}):Zs({},s,{active:!1})})})},r.handleInputChange=function(i){var s=i.target.value;if(r.props.onChange(s),r.setState({userInputValue:s}),!s){r.clearSuggestions();return}r.props.shouldFetchSuggestions&&r.debouncedFetchPredictions()},r.handleInputOnBlur=function(){r.mousedownOnSuggestion||r.clearSuggestions()},r.getActiveSuggestionId=function(){var i=r.getActiveSuggestion();return i?"PlacesAutocomplete__suggestion-"+i.placeId:void 0},r.getIsExpanded=function(){return r.state.suggestions.length>0},r.getInputProps=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(i.hasOwnProperty("value"))throw new Error("[react-places-autocomplete]: getInputProps does not accept `value`. Use `value` prop instead");if(i.hasOwnProperty("onChange"))throw new Error("[react-places-autocomplete]: getInputProps does not accept `onChange`. Use `onChange` prop instead");var s={type:"text",autoComplete:"off",role:"combobox","aria-autocomplete":"list","aria-expanded":r.getIsExpanded(),"aria-activedescendant":r.getActiveSuggestionId(),disabled:!r.state.ready};return Zs({},s,i,{onKeyDown:(0,Ar.compose)(r.handleInputKeyDown,i.onKeyDown),onBlur:(0,Ar.compose)(r.handleInputOnBlur,i.onBlur),value:r.props.value,onChange:function(o){r.handleInputChange(o)}})},r.getSuggestionItemProps=function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.handleSuggestionMouseEnter.bind(r,i.index),a=r.handleSuggestionClick.bind(r,i);return Zs({},s,{key:i.id,id:r.getActiveSuggestionId(),role:"option",onMouseEnter:(0,Ar.compose)(o,s.onMouseEnter),onMouseLeave:(0,Ar.compose)(r.handleSuggestionMouseLeave,s.onMouseLeave),onMouseDown:(0,Ar.compose)(r.handleSuggestionMouseDown,s.onMouseDown),onMouseUp:(0,Ar.compose)(r.handleSuggestionMouseUp,s.onMouseUp),onTouchStart:(0,Ar.compose)(r.handleSuggestionTouchStart,s.onTouchStart),onTouchEnd:(0,Ar.compose)(r.handleSuggestionMouseUp,s.onTouchEnd),onClick:(0,Ar.compose)(a,s.onClick)})},r.handleSuggestionMouseEnter=function(i){r.setActiveAtIndex(i)},r.handleSuggestionMouseLeave=function(){r.mousedownOnSuggestion=!1,r.clearActive()},r.handleSuggestionMouseDown=function(i){i.preventDefault(),r.mousedownOnSuggestion=!0},r.handleSuggestionTouchStart=function(){r.mousedownOnSuggestion=!0},r.handleSuggestionMouseUp=function(){r.mousedownOnSuggestion=!1},r.handleSuggestionClick=function(i,s){s&&s.preventDefault&&s.preventDefault();var o=i.description,a=i.placeId;r.handleSelect(o,a,i),setTimeout(function(){r.mousedownOnSuggestion=!1})},r.state={loading:!1,suggestions:[],userInputValue:n.value,ready:!n.googleCallbackName},r.debouncedFetchPredictions=(0,Mz.default)(r.fetchPredictions,n.debounce),r}return Oz(e,[{key:"componentDidMount",value:function(){var n=this.props.googleCallbackName;if(n){var r=window.google&&window.google.maps&&window.google.maps.places;r?this.init():window[n]=this.init}else this.init()}},{key:"componentWillUnmount",value:function(){var n=this.props.googleCallbackName;n&&window[n]&&delete window[n]}},{key:"render",value:function(){return this.props.children({getInputProps:this.getInputProps,getSuggestionItemProps:this.getSuggestionItemProps,loading:this.state.loading,suggestions:this.state.suggestions})}}]),e}(Dz.default.Component);Jv.propTypes={onChange:st.default.func.isRequired,value:st.default.string.isRequired,children:st.default.func.isRequired,onError:st.default.func,onSelect:st.default.func,searchOptions:st.default.shape({bounds:st.default.object,componentRestrictions:st.default.object,location:st.default.object,offset:st.default.oneOfType([st.default.number,st.default.string]),radius:st.default.oneOfType([st.default.number,st.default.string]),types:st.default.array}),debounce:st.default.number,highlightFirstSuggestion:st.default.bool,shouldFetchSuggestions:st.default.bool,googleCallbackName:st.default.string};Jv.defaultProps={onError:function(t,e){return console.error(`[react-places-autocomplete]: error happened when fetching data from Google Maps API.
Please check the docs here (https://developers.google.com/maps/documentation/javascript/places#place_details_responses)
Status: `,t)},searchOptions:{},debounce:200,highlightFirstSuggestion:!1,shouldFetchSuggestions:!0};Gv.default=Jv;var ju={};Object.defineProperty(ju,"__esModule",{value:!0});ju.geocodeByAddress=function(t){var e=new window.google.maps.Geocoder,n=window.google.maps.GeocoderStatus.OK;return new Promise(function(r,i){e.geocode({address:t},function(s,o){o!==n&&i(o),r(s)})})};ju.getLatLng=function(t){return new Promise(function(e,n){try{var r={lat:t.geometry.location.lat(),lng:t.geometry.location.lng()};e(r)}catch(i){n(i)}})};ju.geocodeByPlaceId=function(t){var e=new window.google.maps.Geocoder,n=window.google.maps.GeocoderStatus.OK;return new Promise(function(r,i){e.geocode({placeId:t},function(s,o){o!==n&&i(o),r(s)})})};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.getLatLng=Ri.geocodeByPlaceId=Ri.geocodeByAddress=void 0;var Bz=Gv,qz=$z(Bz),Xv=ju;function $z(t){return t&&t.__esModule?t:{default:t}}Ri.geocodeByAddress=Xv.geocodeByAddress;Ri.geocodeByPlaceId=Xv.geocodeByPlaceId;Ri.getLatLng=Xv.getLatLng;Ri.default=qz.default;const x_=({job:t,onBookmarkClick:e,isBookmarked:n,onJobClick:r,onEditClick:i,onDeleteClick:s,scrollToJob:o})=>{const a=l=>{r(l),o()};return c.jsxs("div",{className:oe.job,onClick:()=>a(t),children:[c.jsx("div",{className:oe.logo,children:c.jsx("img",{className:oe.job_logo,src:t.imageUrl,alt:`${t.company} logo`})}),c.jsxs("div",{className:oe.details,children:[c.jsx("h4",{className:oe.job_title,children:t.title}),c.jsx("p",{className:oe.job_company_name,children:t.company}),c.jsx("p",{className:oe.job_location,children:t.location})]}),c.jsxs("div",{className:oe.save_icon,children:[n?c.jsx(eV,{onClick:l=>{l.stopPropagation(),e(t)}}):c.jsx(tV,{onClick:l=>{l.stopPropagation(),e(t)}}),c.jsx(qa,{onClick:()=>i()}),c.jsx(Zm,{onClick:l=>{l.stopPropagation(),s(t.id)}})]})]})},Wz=({job:t,jobRef:e})=>c.jsxs("div",{className:oe.job_details,ref:e,children:[c.jsx("h2",{children:t.title}),c.jsx("h3",{children:t.company}),c.jsx("p",{children:t.location}),c.jsx("button",{className:oe.btn,children:"Apply"}),c.jsx("p",{children:t.description}),c.jsx("p",{children:t.requirements})]}),Hz=()=>{const[t,e]=S.useState("recommended"),[n,r]=S.useState([]),[i,s]=S.useState([]),[o,a]=S.useState(!1),[l,u]=S.useState(""),[h,d]=S.useState(""),[f,g]=S.useState(""),[v,b]=S.useState(""),[x,m]=S.useState(""),[p,y]=S.useState(""),[w,k]=S.useState(""),[I,A]=S.useState(""),[O,z]=S.useState(null),[W,me]=S.useState(!1),[K,ie]=S.useState({title:"",company:"",type:"",salary:"",location:"",description:"",requirements:""}),[T,P]=S.useState(""),[U,E]=S.useState(null),N=()=>{a(!0)},L=()=>{a(!1)},H=()=>{me(!0)},te=()=>{me(!1)},ge=_=>()=>{z(_),console.log("Handle Job Click function !@#")},nt=async _=>{try{const q=Ie().currentUser;if(q){const F=ae(Y,"jobs",_);await Xm(F);const R=ae(Y,"users",q.uid);await ft(R,{interests:h_(_)}),r(Q=>Q.filter(xe=>xe.id!==_)),s(Q=>Q.filter(xe=>xe.id!==_)),O&&O.id===_&&z(null)}}catch(q){console.error("Error deleting job:",q)}},Pe=async _=>{if(!_)return;const q=No(Po,`logos/${_.name}`);try{const F=await nl(q,_);return await To(F.ref)}catch(F){console.error("Error uploading logo: ",F)}},Rt=async _=>{const q=_.target.files[0];if(q){const F=await Pe(q);console.log(F),E(q),P(F)}};S.useEffect(()=>{const _=He(Y,"jobs"),q=Bv(qr(_,$E("posted On","desc")),F=>{const R=F.docs.map(Ee=>({...Ee.data(),id:Ee.id}));if(r(R),l){const Ee=R.filter(zn=>zn.title.toLowerCase().includes(l.toLowerCase()));r(Ee)}const Q=R.map(Ee=>Ee.id),xe=Q.length!==new Set(Q).size;console.log("Has duplicate job IDs:",xe)},[l]);return()=>q()},[l]);const ze=async _=>{_.preventDefault();const q=Ie().currentUser;if(!q){console.log("User is NOT Authenticated");return}const F=await Pe(U),R=He(Y,"jobs"),Q=ae(R);await zv(Q,{title:h,company:f,type:v,salary:x,location:p,description:w,requirements:I,"posted On":Oo(),"posted By":q.uid,imageUrl:F}),d(""),g(""),b(""),m(""),y(""),k(""),A(""),E(null),P(""),L()},yt=async _=>{if(_.preventDefault(),!Ie().currentUser||!K){console.log("User is NOT Authenticated or editingJob is undefined");return}let q=K.imageUrl;U&&(q=await Pe(U));const F=He(Y,"jobs"),R=ae(F,K.id);await ft(R,{title:K.title,company:K.company,type:K.type,salary:K.salary,location:K.location,description:K.description,requirements:K.requirements,imageUrl:q}),ie(null),d(""),g(""),b(""),m(""),y(""),k(""),A(""),E(null),P(""),te()},on=async _=>{try{const q=Ie().currentUser;if(q&&_.id){const F=ae(Y,"users",q.uid);(await Ye(F)).data().interests.includes(_.id)?(await ft(F,{interests:h_(_.id)}),s(R=>R.filter(Q=>Q.id!==_.id)),console.log("Removed")):(await ft(F,{interests:Ym(_.id)}),s(R=>R.find(Q=>Q.id===_.id)?R:[...R,_]),console.log("Added"))}}catch(q){console.error("Error saving job:",q)}};S.useEffect(()=>{(async()=>{const _=Ie().currentUser;if(_){const q=ae(Y,"users",_.uid),F=await Ye(q);if(F.exists()){const R=F.data().interests,Q=await Promise.all(R.map(async xe=>{const Ee=await Ye(ae(Y,"jobs",xe));return{id:xe,...Ee.data()}}));s(Q)}else s([]);if(l){console.log("search",l);const R=i.filter(Q=>Q.title.toLowerCase().includes(l.toLowerCase()));s(R)}}})()},[t]);const Zi=_=>{e(_)},ni=_=>{console.log("Edit Job :",_),ie(_),H()},mn=_=>{const{name:q,value:F}=_.target;_.target.type==="file"&&(_.target.value=""),ie(R=>({...R,[q]:F}))},or=S.useRef(),ri=()=>{or.current&&or.current.scrollIntoView({behavior:"smooth",block:"center"})},[C,j]=S.useState(!0);return S.useEffect(()=>{const _=()=>{j(window.innerWidth>800)};return window.addEventListener("resize",_),_(),()=>{window.removeEventListener("resize",_)}},[]),c.jsxs(c.Fragment,{children:[c.jsx(Eu,{}),c.jsxs("div",{className:oe.jobs_section,children:[C&&c.jsx(Tu,{onFindJobsClick:()=>Zi("recommended"),onSavedJobsClick:()=>Zi("saved")}),c.jsxs("div",{className:oe.right,children:[c.jsxs("div",{className:oe.search_post,children:[c.jsx("input",{className:oe.search_jobs,placeholder:"Search Jobs",value:l,onChange:_=>u(_.target.value)}),c.jsx("button",{className:oe.create_job,onClick:N,children:"Post a Job"}),c.jsxs(yn,{isOpen:o,onRequestClose:L,ariaHideApp:!1,contentLabel:"Add Job Posting Modal",children:[c.jsxs("div",{className:oe.title,children:[c.jsx("h2",{className:oe.addExperienceTitle,children:"Post A Job"}),c.jsx("button",{onClick:L,className:oe.modalBtn,children:c.jsx(dr,{})})]}),c.jsx("input",{type:"text",placeholder:"Job Title",className:oe.formInput,value:h,onChange:_=>d(_.target.value)}),c.jsx("input",{type:"text",placeholder:"Company Name",className:oe.formInput,value:f,onChange:_=>g(_.target.value)}),c.jsxs("select",{name:"jobType",id:"jobType",className:oe.formInput,value:v,onChange:_=>b(_.target.value),children:[c.jsx("option",{value:"fullTime",children:"Full Time"}),c.jsx("option",{value:"partTime",children:"Part Time"}),c.jsx("option",{value:"internship",children:"Internship"}),c.jsx("option",{value:"contract",children:"Contract"}),c.jsx("option",{value:"temporary",children:"Temporary"}),c.jsx("option",{value:"volunteer",children:"Volunteer"}),c.jsx("option",{value:"other",children:"Other"})]}),c.jsx("input",{type:"text",placeholder:"Salary",className:oe.formInput,value:x,onChange:_=>m(_.target.value)}),c.jsx("input",{type:"text",placeholder:"Job Location",className:oe.formInput,value:p,onChange:_=>y(_.target.value)}),c.jsx("textarea",{placeholder:"Job Description",value:w,className:oe.formInput,onChange:_=>k(_.target.value)}),c.jsx("textarea",{placeholder:"Requirements",value:I,className:oe.formInput,onChange:_=>A(_.target.value)}),c.jsx("input",{type:"file",placeholder:"Upload Company Logo",className:oe.formInput,name:"logo",onChange:_=>Rt(_)}),c.jsxs("div",{className:oe.btns,children:[c.jsx("button",{className:oe.btn,onClick:L,children:"Close"}),c.jsx("button",{className:oe.btn,onClick:ze,children:"Submit"})]})]}),c.jsxs(yn,{isOpen:W,onRequestClose:te,ariaHideApp:!1,contentLabel:" Edit Job Posting Modal",children:[c.jsxs("div",{className:oe.title,children:[c.jsx("h2",{className:oe.addExperienceTitle,children:" Edit a Job Posting"}),c.jsx("button",{onClick:te,className:oe.modalBtn,children:c.jsx(dr,{})})]}),c.jsx("input",{type:"text",placeholder:"Job Title",className:oe.formInput,name:"title",value:K==null?void 0:K.title,onChange:_=>mn(_)}),c.jsx("input",{type:"text",placeholder:"Company Name",className:oe.formInput,name:"company",value:K==null?void 0:K.company,onChange:_=>mn(_)}),c.jsxs("select",{name:"jobType",id:"jobType",className:oe.formInput,value:K==null?void 0:K.type,onChange:_=>mn(_),children:[c.jsx("option",{value:"fullTime",children:"Full Time"}),c.jsx("option",{value:"partTime",children:"Part Time"}),c.jsx("option",{value:"internship",children:"Internship"}),c.jsx("option",{value:"contract",children:"Contract"}),c.jsx("option",{value:"temporary",children:"Temporary"}),c.jsx("option",{value:"volunteer",children:"Volunteer"}),c.jsx("option",{value:"other",children:"Other"})]}),c.jsx("input",{type:"text",placeholder:"Salary",className:oe.formInput,name:"salary",value:K==null?void 0:K.salary,onChange:_=>mn(_)}),c.jsx("input",{type:"text",placeholder:"Job Location",className:oe.formInput,name:"location",value:K==null?void 0:K.location,onChange:_=>mn(_)}),c.jsx("textarea",{placeholder:"Job Description",value:K==null?void 0:K.description,className:oe.formInput,name:"description",onChange:_=>mn(_)}),c.jsx("textarea",{placeholder:"Requirements",value:K==null?void 0:K.requirements,className:oe.formInput,name:"requirements",onChange:_=>mn(_)}),c.jsx("input",{type:"file",placeholder:"Upload Company Logo",className:oe.formInput,name:"logo",onChange:_=>Rt(_)}),c.jsxs("div",{className:oe.btns,children:[c.jsx("button",{className:oe.btn,onClick:te,children:"Close"}),c.jsx("button",{className:oe.btn,onClick:yt,children:"Submit"})]})]})]}),c.jsxs("div",{className:oe.jobsMain,style:{display:"flex"},children:[c.jsxs("div",{className:oe.jobs_container,children:[t==="recommended"&&c.jsx("div",{className:oe.recommended,children:c.jsx("div",{className:oe.jobs,children:n.map(_=>c.jsx(x_,{job:_,onBookmarkClick:on,isBookmarked:i.some(q=>q.id===_.id),onJobClick:ge(_),onEditClick:()=>ni(_),onDeleteClick:nt,scrollToJob:ri,jobRef:or},_.id))})}),t==="saved"&&c.jsx("div",{className:oe.recommended,children:c.jsx("div",{className:oe.jobs,children:i.length>0?i.map(_=>(console.log("Job:",_),c.jsx(x_,{job:_,isBookmarked:!0,onBookmarkClick:on,onJobClick:ge(_),onEditClick:()=>ni(_),onDeleteClick:nt},_.id?_.id.toString():""))):c.jsx("h3",{children:"No Saved Jobs"})})})]}),O&&c.jsx("div",{className:oe.job_details_column,children:c.jsx(Wz,{job:O,jobRef:or})})]})]})]})]})},Kz="_logo_g0ln6_4",Gz="_registerContainer_g0ln6_10",Qz="_formGroup_g0ln6_27",Jz="_error_g0ln6_68",Xz="_passwordContainer_g0ln6_91",Yz="_registerBtn_g0ln6_96",Zz="_googleSignIn_g0ln6_100",eB="_GSignInBtn_g0ln6_126",Or={logo:Kz,registerContainer:Gz,formGroup:Qz,error:Jz,passwordContainer:Xz,registerBtn:Yz,googleSignIn:Zz,GSignInBtn:eB},tB=()=>{var t,e,n,r;const{register:i,handleSubmit:s,formState:o}=jy(),{errors:a}=o,l=Ie().currentUser;S.useState(""),S.useState(""),S.useState(""),S.useState("");const u=Ir(),h=async d=>{try{if(l){const f=ae(Y,"users",l.uid);await ft(f,{firstName:d.firstName,lastName:d.lastName,dateOfBirth:d.dateOfBirth,age:d.age}),u("/feed")}}catch(f){console.error("Error adding user to firestore:",f)}};return c.jsxs(c.Fragment,{children:[c.jsx(qv,{}),c.jsxs("div",{className:Or.registerContainer,children:[c.jsx("h1",{children:"User"}),c.jsx("h6",{children:" To begin, we'll need some basic information from you"}),c.jsxs("form",{onSubmit:s(h),noValidate:!0,children:[c.jsxs("div",{className:Or.formGroup,children:[c.jsx("label",{htmlFor:"text",children:"First Name:"}),c.jsx("input",{type:"text",id:"fname",...i("firstName",{required:"First Name is required"})}),c.jsx("p",{className:Or.error,children:(t=a.firstName)==null?void 0:t.message})]}),c.jsxs("div",{className:Or.formGroup,children:[c.jsx("label",{htmlFor:"text",children:"Last Name:"}),c.jsx("input",{type:"text",id:"lname",...i("lastName",{required:"Last Name is required"})}),c.jsx("p",{className:Or.error,children:(e=a.lastName)==null?void 0:e.message})]}),c.jsxs("div",{className:Or.formGroup,children:[c.jsx("label",{htmlFor:"date",children:"Date of Birth:"}),c.jsx("input",{type:"date",id:"dob",...i("dateOfBirth",{required:"Date of Birth is required"}),max:`${new Date().getFullYear()}-12-31`}),c.jsx("p",{className:Or.error,children:(n=a.dateOfBirth)==null?void 0:n.message})]}),c.jsxs("div",{className:Or.formGroup,children:[c.jsx("label",{htmlFor:"number",children:"Age: "}),c.jsx("input",{type:"number",id:"age",...i("age",{required:"Age is required"})}),c.jsx("p",{className:Or.error,children:(r=a.age)==null?void 0:r.message})]}),c.jsx($v,{variant:"primary",size:"lg",className:"registerBtn",type:"submit",style:{backgroundColor:"#7F61A9"},onSubmit:h,children:"Register"})]})]})]})},nB="_container_1jvy3_1",rB="_profile_1jvy3_11",iB="_user_1jvy3_23",sB="_bannerContainer_1jvy3_35",oB="_banner_1jvy3_35",aB="_userTitles_1jvy3_63",lB="_pic_1jvy3_54",uB="_titleContainer_1jvy3_83",cB="_username_1jvy3_90",hB="_jobtitle_1jvy3_99",dB="_btns_1jvy3_109",fB="_btn_1jvy3_109",pB="_connectBtn_1jvy3_127",mB="_msgBtn_1jvy3_142",gB="_moreBtn_1jvy3_155",yB="_btnTxt_1jvy3_172",vB="_info_1jvy3_176",bB="_generalText_1jvy3_190",wB="_infoContainer_1jvy3_201",_B="_activity_1jvy3_210",SB="_followers_1jvy3_231",xB="_showPostsContainer_1jvy3_253",CB="_showPosts_1jvy3_253",kB="_experienceSection_1jvy3_271",EB="_experienceContainer_1jvy3_285",TB="_companylogo_1jvy3_301",NB="_job_1jvy3_99",IB="_jobCompany_1jvy3_317",jB="_jobDate_1jvy3_326",AB="_jobDesc_1jvy3_335",OB="_skillSection_1jvy3_347",PB="_skill_1jvy3_347",DB="_skillText_1jvy3_369",RB="_interestSection_1jvy3_378",LB="_interestContainer_1jvy3_392",MB="_experience_1jvy3_271",UB="_followBtn_1jvy3_406",FB="_others_1jvy3_418",VB="_background_1jvy3_431",zB="_experienceTitle_1jvy3_443",BB="_title_1jvy3_83",qB="_addExperienceTitle_1jvy3_449",$B="_modalBtn_1jvy3_453",WB="_formInput_1jvy3_457",HB="_formInput1_1jvy3_457",KB="_left_1jvy3_503",be={container:nB,profile:rB,user:iB,bannerContainer:sB,banner:oB,userTitles:aB,pic:lB,titleContainer:uB,username:cB,jobtitle:hB,btns:dB,btn:fB,connectBtn:pB,msgBtn:mB,moreBtn:gB,btnTxt:yB,info:vB,generalText:bB,infoContainer:wB,activity:_B,followers:SB,showPostsContainer:xB,showPosts:CB,experienceSection:kB,experienceContainer:EB,companylogo:TB,job:NB,jobCompany:IB,jobDate:jB,jobDesc:AB,skillSection:OB,skill:PB,skillText:DB,interestSection:RB,interestContainer:LB,experience:MB,followBtn:UB,others:FB,background:VB,experienceTitle:zB,title:BB,addExperienceTitle:qB,modalBtn:$B,formInput:WB,formInput1:HB,left:KB},GB=()=>{const t=Ie().currentUser,[e,n]=S.useState([]);S.useEffect(()=>{(async()=>{const u=await r();n(u)})()},[]);const r=async()=>{if(t){let u=(await _n(He(Y,"users"))).docs.map(g=>({id:g.id,...g.data()}));const h=ae(Y,"users",t.uid),d=await Ye(h);let f=[];return d.exists()&&(f=d.data().contacts||[]),f.push(t.uid),u.filter(g=>!f.includes(g.id))}},i=e.sort(()=>.5-Math.random()).slice(0,3),s=async u=>{if(t){const h=qr(He(Y,"connections"),ln("userId","==",t.uid),ln("contactId","==",u));if(!(await _n(h)).empty){console.log("Connection request already exists");return}const d={userId:t.uid,contactId:u,timestamp:new Date,status:"requested"};try{const f=await Ds(He(Y,"connections"),d);alert("Connection request sent!"),console.log("Document written with ID: ",f.id)}catch(f){console.error("Error adding document: ",f)}}},{userID:o}=xD(),[a,l]=S.useState(null);return S.useEffect(()=>{console.log("id",o);let u=o.slice(1);console.log(" after",u),console.log(typeof o),(async()=>{try{const h=ae(Y,"users",u);console.log("Path:",h.path);const d=await Ye(h);console.log("shot",d);const f=d.data();if(console.log("data",f),d.exists()){const g=d.data();console.log("data",g),l(d.data())}else console.error("User Not Found")}catch(h){console.log(h)}})()},[o]),console.log("prof",a),c.jsxs("div",{children:[c.jsx(Eu,{}),c.jsxs("div",{className:be.container,children:[c.jsx("div",{className:be.left,children:c.jsx(Tu,{})}),c.jsx("div",{className:be.profileContainer,children:c.jsxs("div",{className:be.profile,children:[c.jsxs("div",{className:be.user,children:[c.jsx("div",{className:be.bannerContainer,children:c.jsx("img",{className:be.banner,src:a==null?void 0:a.backPicture})}),c.jsxs("div",{className:be.userTitles,children:[c.jsx("img",{className:be.pic,src:a==null?void 0:a.profilePicture}),c.jsxs("div",{className:be.titleContainer,children:[c.jsxs("h6",{className:be.username,children:[a==null?void 0:a.firstName," ",a==null?void 0:a.lastName]}),c.jsxs("p",{className:be.jobtitle,children:[a==null?void 0:a.title," "]})]}),c.jsx("div",{className:be.btns,children:c.jsxs("button",{className:be.connectBtn,children:[c.jsx("img",{src:"./connect.svg",className:be.icon}),c.jsx("p",{className:be.btnTxt,onClick:()=>s(a==null?void 0:a.userID),children:" Connect"})]})})]})]}),c.jsxs("div",{className:be.info,children:[c.jsx("div",{className:be.infoContainer,children:c.jsx("h6",{children:"General Information"})}),(a==null?void 0:a.generalInfo)&&c.jsx("p",{children:a==null?void 0:a.generalInfo})]}),c.jsxs("div",{className:be.experienceSection,children:[c.jsx("div",{className:be.experienceTitle,children:c.jsx("h6",{children:"Experience"})}),(a==null?void 0:a.experience)&&(a==null?void 0:a.experience.map((u,h)=>c.jsxs("div",{className:be.experienceContainer,children:[c.jsx("img",{className:be.companylogo,src:u.companyLogo}),c.jsxs("div",{className:be.experience,children:[c.jsx("p",{className:be.job,children:u.title}),c.jsx("p",{className:be.jobCompany,children:u.company}),c.jsxs("p",{className:be.jobDate,children:[u.startDate," - ",u.endDate]}),c.jsx("p",{className:be.jobDesc,children:u.description})]})]},h)))]}),c.jsxs("div",{className:be.skillSection,children:[c.jsx("div",{className:be.experienceTitle,children:c.jsx("h6",{children:"Skills"})}),a==null?void 0:a.skills.map((u,h)=>c.jsx("div",{className:be.showPostsContainer,children:c.jsx("p",{children:u})},h))]})]})}),c.jsxs("div",{className:be.others,children:[c.jsx("img",{className:be.background,src:"/public/profbackpic.svg"}),c.jsx("h6",{children:"People you may know"}),i==null?void 0:i.map((u,h)=>c.jsxs("div",{className:be.interestContainer,children:[c.jsx("img",{src:u.profilePicture,alt:u.firstName,className:be.companylogo}),c.jsxs("div",{className:be.experience,children:[c.jsxs("p",{className:be.job,children:[u.firstName," ",u.lastName]}),c.jsx("p",{className:be.jobCompany,children:u.bio}),c.jsx("button",{className:be.followBtn,onClick:()=>s(u.id),children:"Connect"})]})]},h))]})]})]})},QB=()=>{const[t,e]=S.useState(null),[n,r]=S.useState(!0),i=Ie();return S.useEffect(()=>{const s=MO(i,o=>{e(o),r(!1)});return()=>s()},[i]),n?c.jsx(Yx,{}):c.jsx(uu.Provider,{value:{user:t,setUser:e},children:c.jsx($D,{children:c.jsxs(UD,{children:[c.jsx(cr,{path:"/",element:c.jsx(aR,{})}),c.jsx(cr,{path:"/register",element:c.jsx(i3,{})}),c.jsx(cr,{path:"/login",element:c.jsx(QF,{})}),c.jsx(cr,{path:"/feed",element:c.jsx(Js,{children:c.jsx(jV,{})})}),c.jsx(cr,{path:"/profile",element:c.jsx(Js,{children:c.jsx(x5,{})})}),c.jsx(cr,{path:"/network",element:c.jsx(Js,{children:c.jsx(z5,{})})}),c.jsx(cr,{path:"/jobs",element:c.jsx(Js,{children:c.jsx(Hz,{})})}),c.jsx(cr,{path:"/create-profile",element:c.jsx(Js,{children:c.jsx(tB,{})})}),c.jsx(cr,{path:"/:userID",element:c.jsx(Js,{children:c.jsx(GB,{})})})]})})})};function Xn(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function $i(t){return!!t&&!!t[qe]}function Zr(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===iq}(t)||Array.isArray(t)||!!t[j_]||!!(!((e=t.constructor)===null||e===void 0)&&e[j_])||Yv(t)||Zv(t))}function Ls(t,e,n){n===void 0&&(n=!1),va(t)===0?(n?Object.keys:Ro)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function va(t){var e=t[qe];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Yv(t)?2:Zv(t)?3:0}function Do(t,e){return va(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function JB(t,e){return va(t)===2?t.get(e):t[e]}function pT(t,e,n){var r=va(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function mT(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function Yv(t){return nq&&t instanceof Map}function Zv(t){return rq&&t instanceof Set}function ss(t){return t.o||t.t}function eb(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=yT(t);delete e[qe];for(var n=Ro(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function tb(t,e){return e===void 0&&(e=!1),nb(t)||$i(t)||!Zr(t)||(va(t)>1&&(t.set=t.add=t.clear=t.delete=XB),Object.freeze(t),e&&Ls(t,function(n,r){return tb(r,!0)},!0)),t}function XB(){Xn(2)}function nb(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Er(t){var e=ug[t];return e||Xn(18,t),e}function YB(t,e){ug[t]||(ug[t]=e)}function og(){return Gl}function mp(t,e){e&&(Er("Patches"),t.u=[],t.s=[],t.v=e)}function Mh(t){ag(t),t.p.forEach(ZB),t.p=null}function ag(t){t===Gl&&(Gl=t.l)}function C_(t){return Gl={p:[],l:Gl,h:t,m:!0,_:0}}function ZB(t){var e=t[qe];e.i===0||e.i===1?e.j():e.g=!0}function gp(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Er("ES5").S(e,t,r),r?(n[qe].P&&(Mh(e),Xn(4)),Zr(t)&&(t=Uh(e,t),e.l||Fh(e,t)),e.u&&Er("Patches").M(n[qe].t,t,e.u,e.s)):t=Uh(e,n,[]),Mh(e),e.u&&e.v(e.u,e.s),t!==gT?t:void 0}function Uh(t,e,n){if(nb(e))return e;var r=e[qe];if(!r)return Ls(e,function(a,l){return k_(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Fh(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=eb(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Ls(s,function(a,l){return k_(t,r,i,a,l,n,o)}),Fh(t,i,!1),n&&t.u&&Er("Patches").N(r,n,t.u,t.s)}return r.o}function k_(t,e,n,r,i,s,o){if($i(i)){var a=Uh(t,i,s&&e&&e.i!==3&&!Do(e.R,r)?s.concat(r):void 0);if(pT(n,r,a),!$i(a))return;t.m=!1}else o&&n.add(i);if(Zr(i)&&!nb(i)){if(!t.h.D&&t._<1)return;Uh(t,i),e&&e.A.l||Fh(t,i)}}function Fh(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&tb(e,n)}function yp(t,e){var n=t[qe];return(n?ss(n):t)[e]}function E_(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function mi(t){t.P||(t.P=!0,t.l&&mi(t.l))}function vp(t){t.o||(t.o=eb(t.t))}function lg(t,e,n){var r=Yv(e)?Er("MapSet").F(e,n):Zv(e)?Er("MapSet").T(e,n):t.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:og(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=Ql;o&&(l=[a],u=$a);var h=Proxy.revocable(l,u),d=h.revoke,f=h.proxy;return a.k=f,a.j=d,f}(e,n):Er("ES5").J(e,n);return(n?n.A:og()).p.push(r),r}function eq(t){return $i(t)||Xn(22,t),function e(n){if(!Zr(n))return n;var r,i=n[qe],s=va(n);if(i){if(!i.P&&(i.i<4||!Er("ES5").K(i)))return i.t;i.I=!0,r=T_(n,s),i.I=!1}else r=T_(n,s);return Ls(r,function(o,a){i&&JB(i.t,o)===a||pT(r,o,e(a))}),s===3?new Set(r):r}(t)}function T_(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return eb(t)}function tq(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[qe];return Ql.get(l,s)},set:function(l){var u=this[qe];Ql.set(u,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][qe];if(!a.P)switch(a.i){case 5:r(a)&&mi(a);break;case 4:n(a)&&mi(a)}}}function n(s){for(var o=s.t,a=s.k,l=Ro(a),u=l.length-1;u>=0;u--){var h=l[u];if(h!==qe){var d=o[h];if(d===void 0&&!Do(o,h))return!0;var f=a[h],g=f&&f[qe];if(g?g.t!==d:!mT(f,d))return!0}}var v=!!o[qe];return l.length!==Ro(o).length+(v?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};YB("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(h,d){if(h){for(var f=Array(d.length),g=0;g<d.length;g++)Object.defineProperty(f,""+g,t(g,!0));return f}var v=yT(d);delete v[qe];for(var b=Ro(v),x=0;x<b.length;x++){var m=b[x];v[m]=t(m,h||!!v[m].enumerable)}return Object.create(Object.getPrototypeOf(d),v)}(a,s),u={i:a?5:4,A:o?o.A:og(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,qe,{value:u,writable:!0}),l},S:function(s,o,a){a?$i(o)&&o[qe].A===s&&e(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var h=u[qe];if(h){var d=h.t,f=h.k,g=h.R,v=h.i;if(v===4)Ls(f,function(y){y!==qe&&(d[y]!==void 0||Do(d,y)?g[y]||l(f[y]):(g[y]=!0,mi(h)))}),Ls(d,function(y){f[y]!==void 0||Do(f,y)||(g[y]=!1,mi(h))});else if(v===5){if(r(h)&&(mi(h),g.length=!0),f.length<d.length)for(var b=f.length;b<d.length;b++)g[b]=!1;else for(var x=d.length;x<f.length;x++)g[x]=!0;for(var m=Math.min(f.length,d.length),p=0;p<m;p++)f.hasOwnProperty(p)||(g[p]=!0),g[p]===void 0&&l(f[p])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var N_,Gl,rb=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",nq=typeof Map<"u",rq=typeof Set<"u",I_=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",gT=rb?Symbol.for("immer-nothing"):((N_={})["immer-nothing"]=!0,N_),j_=rb?Symbol.for("immer-draftable"):"__$immer_draftable",qe=rb?Symbol.for("immer-state"):"__$immer_state",iq=""+Object.prototype.constructor,Ro=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,yT=Object.getOwnPropertyDescriptors||function(t){var e={};return Ro(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},ug={},Ql={get:function(t,e){if(e===qe)return t;var n=ss(t);if(!Do(n,e))return function(i,s,o){var a,l=E_(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!Zr(r)?r:r===yp(t.t,e)?(vp(t),t.o[e]=lg(t.A.h,r,t)):r},has:function(t,e){return e in ss(t)},ownKeys:function(t){return Reflect.ownKeys(ss(t))},set:function(t,e,n){var r=E_(ss(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=yp(ss(t),e),s=i==null?void 0:i[qe];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(mT(n,i)&&(n!==void 0||Do(t.t,e)))return!0;vp(t),mi(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return yp(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,vp(t),mi(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=ss(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){Xn(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Xn(12)}},$a={};Ls(Ql,function(t,e){$a[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),$a.deleteProperty=function(t,e){return $a.set.call(this,t,e,void 0)},$a.set=function(t,e,n){return Ql.set.call(this,t[0],e,n,t[0])};var sq=function(){function t(n){var r=this;this.O=I_,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(b){var x=this;b===void 0&&(b=a);for(var m=arguments.length,p=Array(m>1?m-1:0),y=1;y<m;y++)p[y-1]=arguments[y];return l.produce(b,function(w){var k;return(k=s).call.apply(k,[x,w].concat(p))})}}var u;if(typeof s!="function"&&Xn(6),o!==void 0&&typeof o!="function"&&Xn(7),Zr(i)){var h=C_(r),d=lg(r,i,void 0),f=!0;try{u=s(d),f=!1}finally{f?Mh(h):ag(h)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(b){return mp(h,o),gp(b,h)},function(b){throw Mh(h),b}):(mp(h,o),gp(u,h))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===gT&&(u=void 0),r.D&&tb(u,!0),o){var g=[],v=[];Er("Patches").M(i,u,g,v),o(g,v)}return u}Xn(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var h=arguments.length,d=Array(h>1?h-1:0),f=1;f<h;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,function(g){return i.apply(void 0,[g].concat(d))})};var o,a,l=r.produce(i,s,function(u,h){o=u,a=h});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Zr(n)||Xn(8),$i(n)&&(n=eq(n));var r=C_(this),i=lg(this,n,void 0);return i[qe].C=!0,ag(r),i},e.finishDraft=function(n,r){var i=n&&n[qe],s=i.A;return mp(s,r),gp(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!I_&&Xn(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Er("Patches").$;return $i(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),kn=new sq,vT=kn.produce;kn.produceWithPatches.bind(kn);kn.setAutoFreeze.bind(kn);kn.setUseProxies.bind(kn);kn.applyPatches.bind(kn);kn.createDraft.bind(kn);kn.finishDraft.bind(kn);function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function oq(t,e){if(Jl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aq(t){var e=oq(t,"string");return Jl(e)==="symbol"?e:String(e)}function lq(t,e,n){return e=aq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A_(Object(n),!0).forEach(function(r){lq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var P_=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),bp=function(){return Math.random().toString(36).substring(7).split("").join(".")},Vh={INIT:"@@redux/INIT"+bp(),REPLACE:"@@redux/REPLACE"+bp(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+bp()}};function uq(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function bT(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(zt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(zt(1));return n(bT)(t,e)}if(typeof t!="function")throw new Error(zt(2));var i=t,s=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function h(){if(l)throw new Error(zt(3));return s}function d(b){if(typeof b!="function")throw new Error(zt(4));if(l)throw new Error(zt(5));var x=!0;return u(),a.push(b),function(){if(x){if(l)throw new Error(zt(6));x=!1,u();var m=a.indexOf(b);a.splice(m,1),o=null}}}function f(b){if(!uq(b))throw new Error(zt(7));if(typeof b.type>"u")throw new Error(zt(8));if(l)throw new Error(zt(9));try{l=!0,s=i(s,b)}finally{l=!1}for(var x=o=a,m=0;m<x.length;m++){var p=x[m];p()}return b}function g(b){if(typeof b!="function")throw new Error(zt(10));i=b,f({type:Vh.REPLACE})}function v(){var b,x=d;return b={subscribe:function(m){if(typeof m!="object"||m===null)throw new Error(zt(11));function p(){m.next&&m.next(h())}p();var y=x(p);return{unsubscribe:y}}},b[P_]=function(){return this},b}return f({type:Vh.INIT}),r={dispatch:f,subscribe:d,getState:h,replaceReducer:g},r[P_]=v,r}function cq(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Vh.INIT});if(typeof r>"u")throw new Error(zt(12));if(typeof n(void 0,{type:Vh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(zt(13))})}function hq(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{cq(n)}catch(a){o=a}return function(a,l){if(a===void 0&&(a={}),o)throw o;for(var u=!1,h={},d=0;d<s.length;d++){var f=s[d],g=n[f],v=a[f],b=g(v,l);if(typeof b>"u")throw l&&l.type,new Error(zt(14));h[f]=b,u=u||b!==v}return u=u||s.length!==Object.keys(a).length,u?h:a}}function zh(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function dq(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(zt(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=zh.apply(void 0,a)(i.dispatch),O_(O_({},i),{},{dispatch:s})}}}function wT(t){var e=function(n){var r=n.dispatch,i=n.getState;return function(s){return function(o){return typeof o=="function"?o(r,i,t):s(o)}}};return e}var _T=wT();_T.withExtraArgument=wT;const cg=_T;var ST=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fq=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(h){return l([u,h])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(h){u=[6,h],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ta=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},pq=Object.defineProperty,mq=Object.defineProperties,gq=Object.getOwnPropertyDescriptors,D_=Object.getOwnPropertySymbols,yq=Object.prototype.hasOwnProperty,vq=Object.prototype.propertyIsEnumerable,R_=function(t,e,n){return e in t?pq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Li=function(t,e){for(var n in e||(e={}))yq.call(e,n)&&R_(t,n,e[n]);if(D_)for(var r=0,i=D_(e);r<i.length;r++){var n=i[r];vq.call(e,n)&&R_(t,n,e[n])}return t},wp=function(t,e){return mq(t,gq(e))},bq=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},wq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?zh:zh.apply(null,arguments)};function _q(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var Sq=function(t){ST(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,ta([void 0],n[0].concat(this)))):new(e.bind.apply(e,ta([void 0],n.concat(this))))},e}(Array),xq=function(t){ST(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,ta([void 0],n[0].concat(this)))):new(e.bind.apply(e,ta([void 0],n.concat(this))))},e}(Array);function hg(t){return Zr(t)?vT(t,function(){}):t}function Cq(t){return typeof t=="boolean"}function kq(){return function(t){return Eq(t)}}function Eq(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new Sq;return n&&(Cq(n)?r.push(cg):r.push(cg.withExtraArgument(n.extraArgument))),r}var Tq=!0;function Nq(t){var e=kq(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,h=u===void 0?void 0:u,d=n.enhancers,f=d===void 0?void 0:d,g;if(typeof i=="function")g=i;else if(_q(i))g=hq(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var v=o;typeof v=="function"&&(v=v(e));var b=dq.apply(void 0,v),x=zh;l&&(x=wq(Li({trace:!Tq},typeof l=="object"&&l)));var m=new xq(b),p=m;Array.isArray(f)?p=ta([b],f):typeof f=="function"&&(p=f(m));var y=x.apply(void 0,p);return bT(g,h,y)}function Mi(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Li(Li({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function xT(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function Iq(t){return typeof t=="function"}function jq(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?xT(e):[e,n,r],s=i[0],o=i[1],a=i[2],l;if(Iq(t))l=function(){return hg(t())};else{var u=hg(t);l=function(){return u}}function h(d,f){d===void 0&&(d=l());var g=ta([s[f.type]],o.filter(function(v){var b=v.matcher;return b(f)}).map(function(v){var b=v.reducer;return b}));return g.filter(function(v){return!!v}).length===0&&(g=[a]),g.reduce(function(v,b){if(b)if($i(v)){var x=v,m=b(x,f);return m===void 0?v:m}else{if(Zr(v))return vT(v,function(y){return b(y,f)});var m=b(v,f);if(m===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return v},d)}return h.getInitialState=l,h}function Aq(t,e){return t+"/"+e}function Oq(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");var n=typeof t.initialState=="function"?t.initialState:hg(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(h){var d=r[h],f=Aq(e,h),g,v;"reducer"in d?(g=d.reducer,v=d.prepare):g=d,s[h]=g,o[f]=g,a[h]=v?Mi(f,v):Mi(f)});function l(){var h=typeof t.extraReducers=="function"?xT(t.extraReducers):[t.extraReducers],d=h[0],f=d===void 0?{}:d,g=h[1],v=g===void 0?[]:g,b=h[2],x=b===void 0?void 0:b,m=Li(Li({},f),o);return jq(n,function(p){for(var y in m)p.addCase(y,m[y]);for(var w=0,k=v;w<k.length;w++){var I=k[w];p.addMatcher(I.matcher,I.reducer)}x&&p.addDefaultCase(x)})}var u;return{name:e,reducer:function(h,d){return u||(u=l()),u(h,d)},actions:a,caseReducers:s,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var Pq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Dq=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=Pq[Math.random()*64|0];return e},Rq=["name","message","stack","code"],_p=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),L_=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),Lq=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=Rq;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,n,r){var i=Mi(e+"/fulfilled",function(u,h,d,f){return{payload:u,meta:wp(Li({},f||{}),{arg:d,requestId:h,requestStatus:"fulfilled"})}}),s=Mi(e+"/pending",function(u,h,d){return{payload:void 0,meta:wp(Li({},d||{}),{arg:h,requestId:u,requestStatus:"pending"})}}),o=Mi(e+"/rejected",function(u,h,d,f,g){return{payload:f,error:(r&&r.serializeError||Lq)(u||"Rejected"),meta:wp(Li({},g||{}),{arg:d,requestId:h,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(h,d,f){var g=r!=null&&r.idGenerator?r.idGenerator(u):Dq(),v=new a,b;function x(p){b=p,v.abort()}var m=function(){return bq(this,null,function(){var p,y,w,k,I,A,O;return fq(this,function(z){switch(z.label){case 0:return z.trys.push([0,4,,5]),k=(p=r==null?void 0:r.condition)==null?void 0:p.call(r,u,{getState:d,extra:f}),Uq(k)?[4,k]:[3,2];case 1:k=z.sent(),z.label=2;case 2:if(k===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return I=new Promise(function(W,me){return v.signal.addEventListener("abort",function(){return me({name:"AbortError",message:b||"Aborted"})})}),h(s(g,u,(y=r==null?void 0:r.getPendingMeta)==null?void 0:y.call(r,{requestId:g,arg:u},{getState:d,extra:f}))),[4,Promise.race([I,Promise.resolve(n(u,{dispatch:h,getState:d,extra:f,requestId:g,signal:v.signal,abort:x,rejectWithValue:function(W,me){return new _p(W,me)},fulfillWithValue:function(W,me){return new L_(W,me)}})).then(function(W){if(W instanceof _p)throw W;return W instanceof L_?i(W.payload,g,u,W.meta):i(W,g,u)})])];case 3:return w=z.sent(),[3,5];case 4:return A=z.sent(),w=A instanceof _p?o(null,g,u,A.payload,A.meta):o(A,g,u),[3,5];case 5:return O=r&&!r.dispatchConditionRejection&&o.match(w)&&w.meta.condition,O||h(w),[2,w]}})})}();return Object.assign(m,{abort:x,requestId:g,arg:u,unwrap:function(){return m.then(Mq)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function Mq(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function Uq(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var ib="listenerMiddleware";Mi(ib+"/add");Mi(ib+"/removeAll");Mi(ib+"/remove");typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);tq();const Fq=Oq({name:"counter",initialState:{value:0},reducers:{increment:t=>{t.value+=1},decrement:t=>{t.value-=1},incrementByAmount:(t,e)=>{t.value+=e.payload}}}),Vq=Fq.reducer,zq=Nq({reducer:{counter:Vq},middleware:[cg]});Sp.createRoot(document.getElementById("root")).render(c.jsx(It.StrictMode,{children:c.jsx(g2,{store:zq,children:c.jsx(QB,{})})}));
