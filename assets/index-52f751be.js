function sP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function iP(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var r1={exports:{}},Jd={},s1={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ou=Symbol.for("react.element"),oP=Symbol.for("react.portal"),aP=Symbol.for("react.fragment"),lP=Symbol.for("react.strict_mode"),uP=Symbol.for("react.profiler"),cP=Symbol.for("react.provider"),dP=Symbol.for("react.context"),hP=Symbol.for("react.forward_ref"),fP=Symbol.for("react.suspense"),pP=Symbol.for("react.memo"),mP=Symbol.for("react.lazy"),Pv=Symbol.iterator;function gP(t){return t===null||typeof t!="object"?null:(t=Pv&&t[Pv]||t["@@iterator"],typeof t=="function"?t:null)}var i1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},o1=Object.assign,a1={};function oa(t,e,n){this.props=t,this.context=e,this.refs=a1,this.updater=n||i1}oa.prototype.isReactComponent={};oa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};oa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function l1(){}l1.prototype=oa.prototype;function Ng(t,e,n){this.props=t,this.context=e,this.refs=a1,this.updater=n||i1}var kg=Ng.prototype=new l1;kg.constructor=Ng;o1(kg,oa.prototype);kg.isPureReactComponent=!0;var Rv=Array.isArray,u1=Object.prototype.hasOwnProperty,bg={current:null},c1={key:!0,ref:!0,__self:!0,__source:!0};function d1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)u1.call(e,r)&&!c1.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ou,type:t,key:i,ref:o,props:s,_owner:bg.current}}function yP(t,e){return{$$typeof:ou,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Og(t){return typeof t=="object"&&t!==null&&t.$$typeof===ou}function _P(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Nv=/\/+/g;function Cf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_P(""+t.key):e.toString(36)}function Ec(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ou:case oP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Cf(o,0):r,Rv(s)?(n="",t!=null&&(n=t.replace(Nv,"$&/")+"/"),Ec(s,e,n,"",function(u){return u})):s!=null&&(Og(s)&&(s=yP(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Nv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Rv(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Cf(i,a);o+=Ec(i,e,n,l,s)}else if(l=gP(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Cf(i,a++),o+=Ec(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function qu(t,e,n){if(t==null)return t;var r=[],s=0;return Ec(t,r,"","",function(i){return e.call(n,i,s++)}),r}function vP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var an={current:null},Tc={transition:null},wP={ReactCurrentDispatcher:an,ReactCurrentBatchConfig:Tc,ReactCurrentOwner:bg};Te.Children={map:qu,forEach:function(t,e,n){qu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return qu(t,function(){e++}),e},toArray:function(t){return qu(t,function(e){return e})||[]},only:function(t){if(!Og(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=oa;Te.Fragment=aP;Te.Profiler=uP;Te.PureComponent=Ng;Te.StrictMode=lP;Te.Suspense=fP;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wP;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=o1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=bg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)u1.call(e,l)&&!c1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ou,type:t.type,key:s,ref:i,props:r,_owner:o}};Te.createContext=function(t){return t={$$typeof:dP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cP,_context:t},t.Consumer=t};Te.createElement=d1;Te.createFactory=function(t){var e=d1.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:hP,render:t}};Te.isValidElement=Og;Te.lazy=function(t){return{$$typeof:mP,_payload:{_status:-1,_result:t},_init:vP}};Te.memo=function(t,e){return{$$typeof:pP,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=Tc.transition;Tc.transition={};try{t()}finally{Tc.transition=e}};Te.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Te.useCallback=function(t,e){return an.current.useCallback(t,e)};Te.useContext=function(t){return an.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return an.current.useDeferredValue(t)};Te.useEffect=function(t,e){return an.current.useEffect(t,e)};Te.useId=function(){return an.current.useId()};Te.useImperativeHandle=function(t,e,n){return an.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return an.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return an.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return an.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return an.current.useReducer(t,e,n)};Te.useRef=function(t){return an.current.useRef(t)};Te.useState=function(t){return an.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return an.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return an.current.useTransition()};Te.version="18.2.0";s1.exports=Te;var T=s1.exports;const bt=Rg(T),EP=sP({__proto__:null,default:bt},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TP=T,IP=Symbol.for("react.element"),SP=Symbol.for("react.fragment"),CP=Object.prototype.hasOwnProperty,xP=TP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AP={key:!0,ref:!0,__self:!0,__source:!0};function h1(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)CP.call(e,r)&&!AP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:IP,type:t,key:i,ref:o,props:s,_owner:xP.current}}Jd.Fragment=SP;Jd.jsx=h1;Jd.jsxs=h1;r1.exports=Jd;var c=r1.exports,Vp={},f1={exports:{}},Pn={},p1={exports:{}},m1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(x,z){var U=x.length;x.push(z);e:for(;0<U;){var ne=U-1>>>1,fe=x[ne];if(0<s(fe,z))x[ne]=z,x[U]=fe,U=ne;else break e}}function n(x){return x.length===0?null:x[0]}function r(x){if(x.length===0)return null;var z=x[0],U=x.pop();if(U!==z){x[0]=U;e:for(var ne=0,fe=x.length,Oe=fe>>>1;ne<Oe;){var je=2*(ne+1)-1,Vt=x[je],rt=je+1,ot=x[rt];if(0>s(Vt,U))rt<fe&&0>s(ot,Vt)?(x[ne]=ot,x[rt]=U,ne=rt):(x[ne]=Vt,x[je]=U,ne=je);else if(rt<fe&&0>s(ot,U))x[ne]=ot,x[rt]=U,ne=rt;else break e}}return z}function s(x,z){var U=x.sortIndex-z.sortIndex;return U!==0?U:x.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,m=!1,_=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(x){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=x)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function I(x){if(v=!1,y(x),!_)if(n(l)!==null)_=!0,K(S);else{var z=n(u);z!==null&&C(I,z.startTime-x)}}function S(x,z){_=!1,v&&(v=!1,g(O),O=-1),m=!0;var U=f;try{for(y(z),h=n(l);h!==null&&(!(h.expirationTime>z)||x&&!J());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,f=h.priorityLevel;var fe=ne(h.expirationTime<=z);z=t.unstable_now(),typeof fe=="function"?h.callback=fe:h===n(l)&&r(l),y(z)}else r(l);h=n(l)}if(h!==null)var Oe=!0;else{var je=n(u);je!==null&&C(I,je.startTime-z),Oe=!1}return Oe}finally{h=null,f=U,m=!1}}var A=!1,k=null,O=-1,$=5,M=-1;function J(){return!(t.unstable_now()-M<$)}function W(){if(k!==null){var x=t.unstable_now();M=x;var z=!0;try{z=k(!0,x)}finally{z?Z():(A=!1,k=null)}}else A=!1}var Z;if(typeof p=="function")Z=function(){p(W)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,b=R.port2;R.port1.onmessage=W,Z=function(){b.postMessage(null)}}else Z=function(){w(W,0)};function K(x){k=x,A||(A=!0,Z())}function C(x,z){O=w(function(){x(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(x){x.callback=null},t.unstable_continueExecution=function(){_||m||(_=!0,K(S))},t.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<x?Math.floor(1e3/x):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(x){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var U=f;f=z;try{return x()}finally{f=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(x,z){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var U=f;f=x;try{return z()}finally{f=U}},t.unstable_scheduleCallback=function(x,z,U){var ne=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ne+U:ne):U=ne,x){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=U+fe,x={id:d++,callback:z,priorityLevel:x,startTime:U,expirationTime:fe,sortIndex:-1},U>ne?(x.sortIndex=U,e(u,x),n(l)===null&&x===n(u)&&(v?(g(O),O=-1):v=!0,C(I,U-ne))):(x.sortIndex=fe,e(l,x),_||m||(_=!0,K(S))),x},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(x){var z=f;return function(){var U=f;f=z;try{return x.apply(this,arguments)}finally{f=U}}}})(m1);p1.exports=m1;var PP=p1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g1=T,Cn=PP;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y1=new Set,vl={};function Bi(t,e){$o(t,e),$o(t+"Capture",e)}function $o(t,e){for(vl[t]=e,t=0;t<e.length;t++)y1.add(e[t])}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Up=Object.prototype.hasOwnProperty,RP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kv={},bv={};function NP(t){return Up.call(bv,t)?!0:Up.call(kv,t)?!1:RP.test(t)?bv[t]=!0:(kv[t]=!0,!1)}function kP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bP(t,e,n,r){if(e===null||typeof e>"u"||kP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ln(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Mt[t]=new ln(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Mt[e]=new ln(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Mt[t]=new ln(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Mt[t]=new ln(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Mt[t]=new ln(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Mt[t]=new ln(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Mt[t]=new ln(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Mt[t]=new ln(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Mt[t]=new ln(t,5,!1,t.toLowerCase(),null,!1,!1)});var jg=/[\-:]([a-z])/g;function Dg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jg,Dg);Mt[e]=new ln(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jg,Dg);Mt[e]=new ln(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jg,Dg);Mt[e]=new ln(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Mt[t]=new ln(t,1,!1,t.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Mt[t]=new ln(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lg(t,e,n,r){var s=Mt.hasOwnProperty(e)?Mt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bP(e,n,s,r)&&(n=null),r||s===null?NP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var os=g1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wu=Symbol.for("react.element"),ao=Symbol.for("react.portal"),lo=Symbol.for("react.fragment"),Mg=Symbol.for("react.strict_mode"),$p=Symbol.for("react.profiler"),_1=Symbol.for("react.provider"),v1=Symbol.for("react.context"),Vg=Symbol.for("react.forward_ref"),Fp=Symbol.for("react.suspense"),Bp=Symbol.for("react.suspense_list"),Ug=Symbol.for("react.memo"),ds=Symbol.for("react.lazy"),w1=Symbol.for("react.offscreen"),Ov=Symbol.iterator;function Pa(t){return t===null||typeof t!="object"?null:(t=Ov&&t[Ov]||t["@@iterator"],typeof t=="function"?t:null)}var Qe=Object.assign,xf;function Fa(t){if(xf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xf=e&&e[1]||""}return`
`+xf+t}var Af=!1;function Pf(t,e){if(!t||Af)return"";Af=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Af=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Fa(t):""}function OP(t){switch(t.tag){case 5:return Fa(t.type);case 16:return Fa("Lazy");case 13:return Fa("Suspense");case 19:return Fa("SuspenseList");case 0:case 2:case 15:return t=Pf(t.type,!1),t;case 11:return t=Pf(t.type.render,!1),t;case 1:return t=Pf(t.type,!0),t;default:return""}}function zp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case lo:return"Fragment";case ao:return"Portal";case $p:return"Profiler";case Mg:return"StrictMode";case Fp:return"Suspense";case Bp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case v1:return(t.displayName||"Context")+".Consumer";case _1:return(t._context.displayName||"Context")+".Provider";case Vg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ug:return e=t.displayName||null,e!==null?e:zp(t.type)||"Memo";case ds:e=t._payload,t=t._init;try{return zp(t(e))}catch{}}return null}function jP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zp(e);case 8:return e===Mg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function E1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DP(t){var e=E1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hu(t){t._valueTracker||(t._valueTracker=DP(t))}function T1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=E1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Bc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qp(t,e){var n=e.checked;return Qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function jv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Bs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function I1(t,e){e=e.checked,e!=null&&Lg(t,"checked",e,!1)}function Wp(t,e){I1(t,e);var n=Bs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Hp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Hp(t,e.type,Bs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Dv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Hp(t,e,n){(e!=="number"||Bc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ba=Array.isArray;function Io(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Bs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Kp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Lv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Ba(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Bs(n)}}function S1(t,e){var n=Bs(e.value),r=Bs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Mv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function C1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?C1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ku,x1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ku=Ku||document.createElement("div"),Ku.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ku.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var el={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LP=["Webkit","ms","Moz","O"];Object.keys(el).forEach(function(t){LP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),el[e]=el[t]})});function A1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||el.hasOwnProperty(t)&&el[t]?(""+e).trim():e+"px"}function P1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=A1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var MP=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qp(t,e){if(e){if(MP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Jp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yp=null;function $g(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xp=null,So=null,Co=null;function Vv(t){if(t=uu(t)){if(typeof Xp!="function")throw Error(B(280));var e=t.stateNode;e&&(e=th(e),Xp(t.stateNode,t.type,e))}}function R1(t){So?Co?Co.push(t):Co=[t]:So=t}function N1(){if(So){var t=So,e=Co;if(Co=So=null,Vv(t),e)for(t=0;t<e.length;t++)Vv(e[t])}}function k1(t,e){return t(e)}function b1(){}var Rf=!1;function O1(t,e,n){if(Rf)return t(e,n);Rf=!0;try{return k1(t,e,n)}finally{Rf=!1,(So!==null||Co!==null)&&(b1(),N1())}}function El(t,e){var n=t.stateNode;if(n===null)return null;var r=th(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Zp=!1;if(Jr)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){Zp=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{Zp=!1}function VP(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var tl=!1,zc=null,qc=!1,em=null,UP={onError:function(t){tl=!0,zc=t}};function $P(t,e,n,r,s,i,o,a,l){tl=!1,zc=null,VP.apply(UP,arguments)}function FP(t,e,n,r,s,i,o,a,l){if($P.apply(this,arguments),tl){if(tl){var u=zc;tl=!1,zc=null}else throw Error(B(198));qc||(qc=!0,em=u)}}function zi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function j1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Uv(t){if(zi(t)!==t)throw Error(B(188))}function BP(t){var e=t.alternate;if(!e){if(e=zi(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Uv(s),t;if(i===r)return Uv(s),e;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function D1(t){return t=BP(t),t!==null?L1(t):null}function L1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=L1(t);if(e!==null)return e;t=t.sibling}return null}var M1=Cn.unstable_scheduleCallback,$v=Cn.unstable_cancelCallback,zP=Cn.unstable_shouldYield,qP=Cn.unstable_requestPaint,st=Cn.unstable_now,WP=Cn.unstable_getCurrentPriorityLevel,Fg=Cn.unstable_ImmediatePriority,V1=Cn.unstable_UserBlockingPriority,Wc=Cn.unstable_NormalPriority,HP=Cn.unstable_LowPriority,U1=Cn.unstable_IdlePriority,Yd=null,Sr=null;function KP(t){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(Yd,t,void 0,(t.current.flags&128)===128)}catch{}}var ir=Math.clz32?Math.clz32:JP,GP=Math.log,QP=Math.LN2;function JP(t){return t>>>=0,t===0?32:31-(GP(t)/QP|0)|0}var Gu=64,Qu=4194304;function za(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=za(a):(i&=o,i!==0&&(r=za(i)))}else o=n&~s,o!==0?r=za(o):i!==0&&(r=za(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ir(e),s=1<<n,r|=t[n],e&=~s;return r}function YP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ir(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=YP(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function tm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $1(){var t=Gu;return Gu<<=1,!(Gu&4194240)&&(Gu=64),t}function Nf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function au(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ir(e),t[e]=n}function ZP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ir(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Bg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ir(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Re=0;function F1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var B1,zg,z1,q1,W1,nm=!1,Ju=[],xs=null,As=null,Ps=null,Tl=new Map,Il=new Map,fs=[],eR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fv(t,e){switch(t){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":Tl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(e.pointerId)}}function Na(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=uu(e),e!==null&&zg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function tR(t,e,n,r,s){switch(e){case"focusin":return xs=Na(xs,t,e,n,r,s),!0;case"dragenter":return As=Na(As,t,e,n,r,s),!0;case"mouseover":return Ps=Na(Ps,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Tl.set(i,Na(Tl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Il.set(i,Na(Il.get(i)||null,t,e,n,r,s)),!0}return!1}function H1(t){var e=di(t.target);if(e!==null){var n=zi(e);if(n!==null){if(e=n.tag,e===13){if(e=j1(n),e!==null){t.blockedOn=e,W1(t.priority,function(){z1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ic(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=rm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Yp=r,n.target.dispatchEvent(r),Yp=null}else return e=uu(n),e!==null&&zg(e),t.blockedOn=n,!1;e.shift()}return!0}function Bv(t,e,n){Ic(t)&&n.delete(e)}function nR(){nm=!1,xs!==null&&Ic(xs)&&(xs=null),As!==null&&Ic(As)&&(As=null),Ps!==null&&Ic(Ps)&&(Ps=null),Tl.forEach(Bv),Il.forEach(Bv)}function ka(t,e){t.blockedOn===e&&(t.blockedOn=null,nm||(nm=!0,Cn.unstable_scheduleCallback(Cn.unstable_NormalPriority,nR)))}function Sl(t){function e(s){return ka(s,t)}if(0<Ju.length){ka(Ju[0],t);for(var n=1;n<Ju.length;n++){var r=Ju[n];r.blockedOn===t&&(r.blockedOn=null)}}for(xs!==null&&ka(xs,t),As!==null&&ka(As,t),Ps!==null&&ka(Ps,t),Tl.forEach(e),Il.forEach(e),n=0;n<fs.length;n++)r=fs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fs.length&&(n=fs[0],n.blockedOn===null);)H1(n),n.blockedOn===null&&fs.shift()}var xo=os.ReactCurrentBatchConfig,Kc=!0;function rR(t,e,n,r){var s=Re,i=xo.transition;xo.transition=null;try{Re=1,qg(t,e,n,r)}finally{Re=s,xo.transition=i}}function sR(t,e,n,r){var s=Re,i=xo.transition;xo.transition=null;try{Re=4,qg(t,e,n,r)}finally{Re=s,xo.transition=i}}function qg(t,e,n,r){if(Kc){var s=rm(t,e,n,r);if(s===null)$f(t,e,r,Gc,n),Fv(t,r);else if(tR(s,t,e,n,r))r.stopPropagation();else if(Fv(t,r),e&4&&-1<eR.indexOf(t)){for(;s!==null;){var i=uu(s);if(i!==null&&B1(i),i=rm(t,e,n,r),i===null&&$f(t,e,r,Gc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else $f(t,e,r,null,n)}}var Gc=null;function rm(t,e,n,r){if(Gc=null,t=$g(r),t=di(t),t!==null)if(e=zi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=j1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gc=t,null}function K1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WP()){case Fg:return 1;case V1:return 4;case Wc:case HP:return 16;case U1:return 536870912;default:return 16}default:return 16}}var ws=null,Wg=null,Sc=null;function G1(){if(Sc)return Sc;var t,e=Wg,n=e.length,r,s="value"in ws?ws.value:ws.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Sc=s.slice(t,1<r?1-r:void 0)}function Cc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yu(){return!0}function zv(){return!1}function Rn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yu:zv,this.isPropagationStopped=zv,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yu)},persist:function(){},isPersistent:Yu}),e}var aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hg=Rn(aa),lu=Qe({},aa,{view:0,detail:0}),iR=Rn(lu),kf,bf,ba,Xd=Qe({},lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ba&&(ba&&t.type==="mousemove"?(kf=t.screenX-ba.screenX,bf=t.screenY-ba.screenY):bf=kf=0,ba=t),kf)},movementY:function(t){return"movementY"in t?t.movementY:bf}}),qv=Rn(Xd),oR=Qe({},Xd,{dataTransfer:0}),aR=Rn(oR),lR=Qe({},lu,{relatedTarget:0}),Of=Rn(lR),uR=Qe({},aa,{animationName:0,elapsedTime:0,pseudoElement:0}),cR=Rn(uR),dR=Qe({},aa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hR=Rn(dR),fR=Qe({},aa,{data:0}),Wv=Rn(fR),pR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gR[t])?!!e[t]:!1}function Kg(){return yR}var _R=Qe({},lu,{key:function(t){if(t.key){var e=pR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Cc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kg,charCode:function(t){return t.type==="keypress"?Cc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vR=Rn(_R),wR=Qe({},Xd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hv=Rn(wR),ER=Qe({},lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kg}),TR=Rn(ER),IR=Qe({},aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),SR=Rn(IR),CR=Qe({},Xd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xR=Rn(CR),AR=[9,13,27,32],Gg=Jr&&"CompositionEvent"in window,nl=null;Jr&&"documentMode"in document&&(nl=document.documentMode);var PR=Jr&&"TextEvent"in window&&!nl,Q1=Jr&&(!Gg||nl&&8<nl&&11>=nl),Kv=String.fromCharCode(32),Gv=!1;function J1(t,e){switch(t){case"keyup":return AR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Y1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var uo=!1;function RR(t,e){switch(t){case"compositionend":return Y1(e);case"keypress":return e.which!==32?null:(Gv=!0,Kv);case"textInput":return t=e.data,t===Kv&&Gv?null:t;default:return null}}function NR(t,e){if(uo)return t==="compositionend"||!Gg&&J1(t,e)?(t=G1(),Sc=Wg=ws=null,uo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Q1&&e.locale!=="ko"?null:e.data;default:return null}}var kR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kR[t.type]:e==="textarea"}function X1(t,e,n,r){R1(r),e=Qc(e,"onChange"),0<e.length&&(n=new Hg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var rl=null,Cl=null;function bR(t){uT(t,0)}function Zd(t){var e=fo(t);if(T1(e))return t}function OR(t,e){if(t==="change")return e}var Z1=!1;if(Jr){var jf;if(Jr){var Df="oninput"in document;if(!Df){var Jv=document.createElement("div");Jv.setAttribute("oninput","return;"),Df=typeof Jv.oninput=="function"}jf=Df}else jf=!1;Z1=jf&&(!document.documentMode||9<document.documentMode)}function Yv(){rl&&(rl.detachEvent("onpropertychange",eT),Cl=rl=null)}function eT(t){if(t.propertyName==="value"&&Zd(Cl)){var e=[];X1(e,Cl,t,$g(t)),O1(bR,e)}}function jR(t,e,n){t==="focusin"?(Yv(),rl=e,Cl=n,rl.attachEvent("onpropertychange",eT)):t==="focusout"&&Yv()}function DR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zd(Cl)}function LR(t,e){if(t==="click")return Zd(e)}function MR(t,e){if(t==="input"||t==="change")return Zd(e)}function VR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lr=typeof Object.is=="function"?Object.is:VR;function xl(t,e){if(lr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Up.call(e,s)||!lr(t[s],e[s]))return!1}return!0}function Xv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zv(t,e){var n=Xv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xv(n)}}function tT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?tT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nT(){for(var t=window,e=Bc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bc(t.document)}return e}function Qg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function UR(t){var e=nT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&tT(n.ownerDocument.documentElement,n)){if(r!==null&&Qg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Zv(n,i);var o=Zv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $R=Jr&&"documentMode"in document&&11>=document.documentMode,co=null,sm=null,sl=null,im=!1;function ew(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;im||co==null||co!==Bc(r)||(r=co,"selectionStart"in r&&Qg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sl&&xl(sl,r)||(sl=r,r=Qc(sm,"onSelect"),0<r.length&&(e=new Hg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=co)))}function Xu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ho={animationend:Xu("Animation","AnimationEnd"),animationiteration:Xu("Animation","AnimationIteration"),animationstart:Xu("Animation","AnimationStart"),transitionend:Xu("Transition","TransitionEnd")},Lf={},rT={};Jr&&(rT=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function eh(t){if(Lf[t])return Lf[t];if(!ho[t])return t;var e=ho[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in rT)return Lf[t]=e[n];return t}var sT=eh("animationend"),iT=eh("animationiteration"),oT=eh("animationstart"),aT=eh("transitionend"),lT=new Map,tw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qs(t,e){lT.set(t,e),Bi(e,[t])}for(var Mf=0;Mf<tw.length;Mf++){var Vf=tw[Mf],FR=Vf.toLowerCase(),BR=Vf[0].toUpperCase()+Vf.slice(1);Qs(FR,"on"+BR)}Qs(sT,"onAnimationEnd");Qs(iT,"onAnimationIteration");Qs(oT,"onAnimationStart");Qs("dblclick","onDoubleClick");Qs("focusin","onFocus");Qs("focusout","onBlur");Qs(aT,"onTransitionEnd");$o("onMouseEnter",["mouseout","mouseover"]);$o("onMouseLeave",["mouseout","mouseover"]);$o("onPointerEnter",["pointerout","pointerover"]);$o("onPointerLeave",["pointerout","pointerover"]);Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zR=new Set("cancel close invalid load scroll toggle".split(" ").concat(qa));function nw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,FP(r,e,void 0,t),t.currentTarget=null}function uT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;nw(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;nw(s,a,u),i=l}}}if(qc)throw t=em,qc=!1,em=null,t}function Ve(t,e){var n=e[cm];n===void 0&&(n=e[cm]=new Set);var r=t+"__bubble";n.has(r)||(cT(e,t,2,!1),n.add(r))}function Uf(t,e,n){var r=0;e&&(r|=4),cT(n,t,r,e)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function Al(t){if(!t[Zu]){t[Zu]=!0,y1.forEach(function(n){n!=="selectionchange"&&(zR.has(n)||Uf(n,!1,t),Uf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zu]||(e[Zu]=!0,Uf("selectionchange",!1,e))}}function cT(t,e,n,r){switch(K1(e)){case 1:var s=rR;break;case 4:s=sR;break;default:s=qg}n=s.bind(null,e,n,t),s=void 0,!Zp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function $f(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=di(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}O1(function(){var u=i,d=$g(n),h=[];e:{var f=lT.get(t);if(f!==void 0){var m=Hg,_=t;switch(t){case"keypress":if(Cc(n)===0)break e;case"keydown":case"keyup":m=vR;break;case"focusin":_="focus",m=Of;break;case"focusout":_="blur",m=Of;break;case"beforeblur":case"afterblur":m=Of;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=qv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=aR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=TR;break;case sT:case iT:case oT:m=cR;break;case aT:m=SR;break;case"scroll":m=iR;break;case"wheel":m=xR;break;case"copy":case"cut":case"paste":m=hR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Hv}var v=(e&4)!==0,w=!v&&t==="scroll",g=v?f!==null?f+"Capture":null:f;v=[];for(var p=u,y;p!==null;){y=p;var I=y.stateNode;if(y.tag===5&&I!==null&&(y=I,g!==null&&(I=El(p,g),I!=null&&v.push(Pl(p,I,y)))),w)break;p=p.return}0<v.length&&(f=new m(f,_,null,n,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Yp&&(_=n.relatedTarget||n.fromElement)&&(di(_)||_[Yr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(_=n.relatedTarget||n.toElement,m=u,_=_?di(_):null,_!==null&&(w=zi(_),_!==w||_.tag!==5&&_.tag!==6)&&(_=null)):(m=null,_=u),m!==_)){if(v=qv,I="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=Hv,I="onPointerLeave",g="onPointerEnter",p="pointer"),w=m==null?f:fo(m),y=_==null?f:fo(_),f=new v(I,p+"leave",m,n,d),f.target=w,f.relatedTarget=y,I=null,di(d)===u&&(v=new v(g,p+"enter",_,n,d),v.target=y,v.relatedTarget=w,I=v),w=I,m&&_)t:{for(v=m,g=_,p=0,y=v;y;y=Zi(y))p++;for(y=0,I=g;I;I=Zi(I))y++;for(;0<p-y;)v=Zi(v),p--;for(;0<y-p;)g=Zi(g),y--;for(;p--;){if(v===g||g!==null&&v===g.alternate)break t;v=Zi(v),g=Zi(g)}v=null}else v=null;m!==null&&rw(h,f,m,v,!1),_!==null&&w!==null&&rw(h,w,_,v,!0)}}e:{if(f=u?fo(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var S=OR;else if(Qv(f))if(Z1)S=MR;else{S=DR;var A=jR}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=LR);if(S&&(S=S(t,u))){X1(h,S,n,d);break e}A&&A(t,f,u),t==="focusout"&&(A=f._wrapperState)&&A.controlled&&f.type==="number"&&Hp(f,"number",f.value)}switch(A=u?fo(u):window,t){case"focusin":(Qv(A)||A.contentEditable==="true")&&(co=A,sm=u,sl=null);break;case"focusout":sl=sm=co=null;break;case"mousedown":im=!0;break;case"contextmenu":case"mouseup":case"dragend":im=!1,ew(h,n,d);break;case"selectionchange":if($R)break;case"keydown":case"keyup":ew(h,n,d)}var k;if(Gg)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else uo?J1(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(Q1&&n.locale!=="ko"&&(uo||O!=="onCompositionStart"?O==="onCompositionEnd"&&uo&&(k=G1()):(ws=d,Wg="value"in ws?ws.value:ws.textContent,uo=!0)),A=Qc(u,O),0<A.length&&(O=new Wv(O,t,null,n,d),h.push({event:O,listeners:A}),k?O.data=k:(k=Y1(n),k!==null&&(O.data=k)))),(k=PR?RR(t,n):NR(t,n))&&(u=Qc(u,"onBeforeInput"),0<u.length&&(d=new Wv("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=k))}uT(h,e)})}function Pl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=El(t,n),i!=null&&r.unshift(Pl(t,i,s)),i=El(t,e),i!=null&&r.push(Pl(t,i,s))),t=t.return}return r}function Zi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=El(n,i),l!=null&&o.unshift(Pl(n,l,a))):s||(l=El(n,i),l!=null&&o.push(Pl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var qR=/\r\n?/g,WR=/\u0000|\uFFFD/g;function sw(t){return(typeof t=="string"?t:""+t).replace(qR,`
`).replace(WR,"")}function ec(t,e,n){if(e=sw(e),sw(t)!==e&&n)throw Error(B(425))}function Jc(){}var om=null,am=null;function lm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var um=typeof setTimeout=="function"?setTimeout:void 0,HR=typeof clearTimeout=="function"?clearTimeout:void 0,iw=typeof Promise=="function"?Promise:void 0,KR=typeof queueMicrotask=="function"?queueMicrotask:typeof iw<"u"?function(t){return iw.resolve(null).then(t).catch(GR)}:um;function GR(t){setTimeout(function(){throw t})}function Ff(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Sl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Sl(e)}function Rs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ow(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var la=Math.random().toString(36).slice(2),_r="__reactFiber$"+la,Rl="__reactProps$"+la,Yr="__reactContainer$"+la,cm="__reactEvents$"+la,QR="__reactListeners$"+la,JR="__reactHandles$"+la;function di(t){var e=t[_r];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Yr]||n[_r]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ow(t);t!==null;){if(n=t[_r])return n;t=ow(t)}return e}t=n,n=t.parentNode}return null}function uu(t){return t=t[_r]||t[Yr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function th(t){return t[Rl]||null}var dm=[],po=-1;function Js(t){return{current:t}}function Fe(t){0>po||(t.current=dm[po],dm[po]=null,po--)}function De(t,e){po++,dm[po]=t.current,t.current=e}var zs={},Xt=Js(zs),fn=Js(!1),xi=zs;function Fo(t,e){var n=t.type.contextTypes;if(!n)return zs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function pn(t){return t=t.childContextTypes,t!=null}function Yc(){Fe(fn),Fe(Xt)}function aw(t,e,n){if(Xt.current!==zs)throw Error(B(168));De(Xt,e),De(fn,n)}function dT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(B(108,jP(t)||"Unknown",s));return Qe({},n,r)}function Xc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zs,xi=Xt.current,De(Xt,t),De(fn,fn.current),!0}function lw(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=dT(t,e,xi),r.__reactInternalMemoizedMergedChildContext=t,Fe(fn),Fe(Xt),De(Xt,t)):Fe(fn),De(fn,n)}var Fr=null,nh=!1,Bf=!1;function hT(t){Fr===null?Fr=[t]:Fr.push(t)}function YR(t){nh=!0,hT(t)}function Ys(){if(!Bf&&Fr!==null){Bf=!0;var t=0,e=Re;try{var n=Fr;for(Re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Fr=null,nh=!1}catch(s){throw Fr!==null&&(Fr=Fr.slice(t+1)),M1(Fg,Ys),s}finally{Re=e,Bf=!1}}return null}var mo=[],go=0,Zc=null,ed=0,Mn=[],Vn=0,Ai=null,Br=1,zr="";function oi(t,e){mo[go++]=ed,mo[go++]=Zc,Zc=t,ed=e}function fT(t,e,n){Mn[Vn++]=Br,Mn[Vn++]=zr,Mn[Vn++]=Ai,Ai=t;var r=Br;t=zr;var s=32-ir(r)-1;r&=~(1<<s),n+=1;var i=32-ir(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Br=1<<32-ir(e)+s|n<<s|r,zr=i+t}else Br=1<<i|n<<s|r,zr=t}function Jg(t){t.return!==null&&(oi(t,1),fT(t,1,0))}function Yg(t){for(;t===Zc;)Zc=mo[--go],mo[go]=null,ed=mo[--go],mo[go]=null;for(;t===Ai;)Ai=Mn[--Vn],Mn[Vn]=null,zr=Mn[--Vn],Mn[Vn]=null,Br=Mn[--Vn],Mn[Vn]=null}var Sn=null,wn=null,We=!1,tr=null;function pT(t,e){var n=$n(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function uw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Sn=t,wn=Rs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Sn=t,wn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ai!==null?{id:Br,overflow:zr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$n(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Sn=t,wn=null,!0):!1;default:return!1}}function hm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fm(t){if(We){var e=wn;if(e){var n=e;if(!uw(t,e)){if(hm(t))throw Error(B(418));e=Rs(n.nextSibling);var r=Sn;e&&uw(t,e)?pT(r,n):(t.flags=t.flags&-4097|2,We=!1,Sn=t)}}else{if(hm(t))throw Error(B(418));t.flags=t.flags&-4097|2,We=!1,Sn=t}}}function cw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Sn=t}function tc(t){if(t!==Sn)return!1;if(!We)return cw(t),We=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!lm(t.type,t.memoizedProps)),e&&(e=wn)){if(hm(t))throw mT(),Error(B(418));for(;e;)pT(t,e),e=Rs(e.nextSibling)}if(cw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wn=Rs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wn=null}}else wn=Sn?Rs(t.stateNode.nextSibling):null;return!0}function mT(){for(var t=wn;t;)t=Rs(t.nextSibling)}function Bo(){wn=Sn=null,We=!1}function Xg(t){tr===null?tr=[t]:tr.push(t)}var XR=os.ReactCurrentBatchConfig;function Xn(t,e){if(t&&t.defaultProps){e=Qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var td=Js(null),nd=null,yo=null,Zg=null;function ey(){Zg=yo=nd=null}function ty(t){var e=td.current;Fe(td),t._currentValue=e}function pm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ao(t,e){nd=t,Zg=yo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hn=!0),t.firstContext=null)}function zn(t){var e=t._currentValue;if(Zg!==t)if(t={context:t,memoizedValue:e,next:null},yo===null){if(nd===null)throw Error(B(308));yo=t,nd.dependencies={lanes:0,firstContext:t}}else yo=yo.next=t;return e}var hi=null;function ny(t){hi===null?hi=[t]:hi.push(t)}function gT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,ny(e)):(n.next=s.next,s.next=n),e.interleaved=n,Xr(t,r)}function Xr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hs=!1;function ry(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Kr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ns(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Xr(t,n)}return s=r.interleaved,s===null?(e.next=e,ny(r)):(e.next=s.next,s.next=e),r.interleaved=e,Xr(t,n)}function xc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bg(t,n)}}function dw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function rd(t,e,n,r){var s=t.updateQueue;hs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,v=a;switch(f=e,m=n,v.tag){case 1:if(_=v.payload,typeof _=="function"){h=_.call(m,h,f);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=v.payload,f=typeof _=="function"?_.call(m,h,f):_,f==null)break e;h=Qe({},h,f);break e;case 2:hs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ri|=o,t.lanes=o,t.memoizedState=h}}function hw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var _T=new g1.Component().refs;function mm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var rh={isMounted:function(t){return(t=t._reactInternals)?zi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=on(),s=bs(t),i=Kr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ns(t,i,s),e!==null&&(or(e,t,s,r),xc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=on(),s=bs(t),i=Kr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ns(t,i,s),e!==null&&(or(e,t,s,r),xc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=on(),r=bs(t),s=Kr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ns(t,s,r),e!==null&&(or(e,t,r,n),xc(e,t,r))}};function fw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!xl(n,r)||!xl(s,i):!0}function vT(t,e,n){var r=!1,s=zs,i=e.contextType;return typeof i=="object"&&i!==null?i=zn(i):(s=pn(e)?xi:Xt.current,r=e.contextTypes,i=(r=r!=null)?Fo(t,s):zs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=rh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function pw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&rh.enqueueReplaceState(e,e.state,null)}function gm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=_T,ry(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=zn(i):(i=pn(e)?xi:Xt.current,s.context=Fo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(mm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&rh.enqueueReplaceState(s,s.state,null),rd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Oa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===_T&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function nc(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function mw(t){var e=t._init;return e(t._payload)}function wT(t){function e(g,p){if(t){var y=g.deletions;y===null?(g.deletions=[p],g.flags|=16):y.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Os(g,p),g.index=0,g.sibling=null,g}function i(g,p,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<p?(g.flags|=2,p):y):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,y,I){return p===null||p.tag!==6?(p=Qf(y,g.mode,I),p.return=g,p):(p=s(p,y),p.return=g,p)}function l(g,p,y,I){var S=y.type;return S===lo?d(g,p,y.props.children,I,y.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ds&&mw(S)===p.type)?(I=s(p,y.props),I.ref=Oa(g,p,y),I.return=g,I):(I=bc(y.type,y.key,y.props,null,g.mode,I),I.ref=Oa(g,p,y),I.return=g,I)}function u(g,p,y,I){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Jf(y,g.mode,I),p.return=g,p):(p=s(p,y.children||[]),p.return=g,p)}function d(g,p,y,I,S){return p===null||p.tag!==7?(p=Ei(y,g.mode,I,S),p.return=g,p):(p=s(p,y),p.return=g,p)}function h(g,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Qf(""+p,g.mode,y),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Wu:return y=bc(p.type,p.key,p.props,null,g.mode,y),y.ref=Oa(g,null,p),y.return=g,y;case ao:return p=Jf(p,g.mode,y),p.return=g,p;case ds:var I=p._init;return h(g,I(p._payload),y)}if(Ba(p)||Pa(p))return p=Ei(p,g.mode,y,null),p.return=g,p;nc(g,p)}return null}function f(g,p,y,I){var S=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:a(g,p,""+y,I);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Wu:return y.key===S?l(g,p,y,I):null;case ao:return y.key===S?u(g,p,y,I):null;case ds:return S=y._init,f(g,p,S(y._payload),I)}if(Ba(y)||Pa(y))return S!==null?null:d(g,p,y,I,null);nc(g,y)}return null}function m(g,p,y,I,S){if(typeof I=="string"&&I!==""||typeof I=="number")return g=g.get(y)||null,a(p,g,""+I,S);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Wu:return g=g.get(I.key===null?y:I.key)||null,l(p,g,I,S);case ao:return g=g.get(I.key===null?y:I.key)||null,u(p,g,I,S);case ds:var A=I._init;return m(g,p,y,A(I._payload),S)}if(Ba(I)||Pa(I))return g=g.get(y)||null,d(p,g,I,S,null);nc(p,I)}return null}function _(g,p,y,I){for(var S=null,A=null,k=p,O=p=0,$=null;k!==null&&O<y.length;O++){k.index>O?($=k,k=null):$=k.sibling;var M=f(g,k,y[O],I);if(M===null){k===null&&(k=$);break}t&&k&&M.alternate===null&&e(g,k),p=i(M,p,O),A===null?S=M:A.sibling=M,A=M,k=$}if(O===y.length)return n(g,k),We&&oi(g,O),S;if(k===null){for(;O<y.length;O++)k=h(g,y[O],I),k!==null&&(p=i(k,p,O),A===null?S=k:A.sibling=k,A=k);return We&&oi(g,O),S}for(k=r(g,k);O<y.length;O++)$=m(k,g,O,y[O],I),$!==null&&(t&&$.alternate!==null&&k.delete($.key===null?O:$.key),p=i($,p,O),A===null?S=$:A.sibling=$,A=$);return t&&k.forEach(function(J){return e(g,J)}),We&&oi(g,O),S}function v(g,p,y,I){var S=Pa(y);if(typeof S!="function")throw Error(B(150));if(y=S.call(y),y==null)throw Error(B(151));for(var A=S=null,k=p,O=p=0,$=null,M=y.next();k!==null&&!M.done;O++,M=y.next()){k.index>O?($=k,k=null):$=k.sibling;var J=f(g,k,M.value,I);if(J===null){k===null&&(k=$);break}t&&k&&J.alternate===null&&e(g,k),p=i(J,p,O),A===null?S=J:A.sibling=J,A=J,k=$}if(M.done)return n(g,k),We&&oi(g,O),S;if(k===null){for(;!M.done;O++,M=y.next())M=h(g,M.value,I),M!==null&&(p=i(M,p,O),A===null?S=M:A.sibling=M,A=M);return We&&oi(g,O),S}for(k=r(g,k);!M.done;O++,M=y.next())M=m(k,g,O,M.value,I),M!==null&&(t&&M.alternate!==null&&k.delete(M.key===null?O:M.key),p=i(M,p,O),A===null?S=M:A.sibling=M,A=M);return t&&k.forEach(function(W){return e(g,W)}),We&&oi(g,O),S}function w(g,p,y,I){if(typeof y=="object"&&y!==null&&y.type===lo&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Wu:e:{for(var S=y.key,A=p;A!==null;){if(A.key===S){if(S=y.type,S===lo){if(A.tag===7){n(g,A.sibling),p=s(A,y.props.children),p.return=g,g=p;break e}}else if(A.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ds&&mw(S)===A.type){n(g,A.sibling),p=s(A,y.props),p.ref=Oa(g,A,y),p.return=g,g=p;break e}n(g,A);break}else e(g,A);A=A.sibling}y.type===lo?(p=Ei(y.props.children,g.mode,I,y.key),p.return=g,g=p):(I=bc(y.type,y.key,y.props,null,g.mode,I),I.ref=Oa(g,p,y),I.return=g,g=I)}return o(g);case ao:e:{for(A=y.key;p!==null;){if(p.key===A)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(g,p.sibling),p=s(p,y.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=Jf(y,g.mode,I),p.return=g,g=p}return o(g);case ds:return A=y._init,w(g,p,A(y._payload),I)}if(Ba(y))return _(g,p,y,I);if(Pa(y))return v(g,p,y,I);nc(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(g,p.sibling),p=s(p,y),p.return=g,g=p):(n(g,p),p=Qf(y,g.mode,I),p.return=g,g=p),o(g)):n(g,p)}return w}var zo=wT(!0),ET=wT(!1),cu={},Cr=Js(cu),Nl=Js(cu),kl=Js(cu);function fi(t){if(t===cu)throw Error(B(174));return t}function sy(t,e){switch(De(kl,e),De(Nl,t),De(Cr,cu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gp(e,t)}Fe(Cr),De(Cr,e)}function qo(){Fe(Cr),Fe(Nl),Fe(kl)}function TT(t){fi(kl.current);var e=fi(Cr.current),n=Gp(e,t.type);e!==n&&(De(Nl,t),De(Cr,n))}function iy(t){Nl.current===t&&(Fe(Cr),Fe(Nl))}var He=Js(0);function sd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zf=[];function oy(){for(var t=0;t<zf.length;t++)zf[t]._workInProgressVersionPrimary=null;zf.length=0}var Ac=os.ReactCurrentDispatcher,qf=os.ReactCurrentBatchConfig,Pi=0,Ge=null,gt=null,Tt=null,id=!1,il=!1,bl=0,ZR=0;function Ut(){throw Error(B(321))}function ay(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!lr(t[n],e[n]))return!1;return!0}function ly(t,e,n,r,s,i){if(Pi=i,Ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ac.current=t===null||t.memoizedState===null?rN:sN,t=n(r,s),il){i=0;do{if(il=!1,bl=0,25<=i)throw Error(B(301));i+=1,Tt=gt=null,e.updateQueue=null,Ac.current=iN,t=n(r,s)}while(il)}if(Ac.current=od,e=gt!==null&&gt.next!==null,Pi=0,Tt=gt=Ge=null,id=!1,e)throw Error(B(300));return t}function uy(){var t=bl!==0;return bl=0,t}function gr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Ge.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function qn(){if(gt===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=Tt===null?Ge.memoizedState:Tt.next;if(e!==null)Tt=e,gt=t;else{if(t===null)throw Error(B(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Tt===null?Ge.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function Ol(t,e){return typeof e=="function"?e(t):e}function Wf(t){var e=qn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=gt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Pi&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ge.lanes|=d,Ri|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,lr(r,e.memoizedState)||(hn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ge.lanes|=i,Ri|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Hf(t){var e=qn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);lr(i,e.memoizedState)||(hn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function IT(){}function ST(t,e){var n=Ge,r=qn(),s=e(),i=!lr(r.memoizedState,s);if(i&&(r.memoizedState=s,hn=!0),r=r.queue,cy(AT.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,jl(9,xT.bind(null,n,r,s,e),void 0,null),It===null)throw Error(B(349));Pi&30||CT(n,e,s)}return s}function CT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xT(t,e,n,r){e.value=n,e.getSnapshot=r,PT(e)&&RT(t)}function AT(t,e,n){return n(function(){PT(e)&&RT(t)})}function PT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!lr(t,n)}catch{return!0}}function RT(t){var e=Xr(t,1);e!==null&&or(e,t,1,-1)}function gw(t){var e=gr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ol,lastRenderedState:t},e.queue=t,t=t.dispatch=nN.bind(null,Ge,t),[e.memoizedState,t]}function jl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function NT(){return qn().memoizedState}function Pc(t,e,n,r){var s=gr();Ge.flags|=t,s.memoizedState=jl(1|e,n,void 0,r===void 0?null:r)}function sh(t,e,n,r){var s=qn();r=r===void 0?null:r;var i=void 0;if(gt!==null){var o=gt.memoizedState;if(i=o.destroy,r!==null&&ay(r,o.deps)){s.memoizedState=jl(e,n,i,r);return}}Ge.flags|=t,s.memoizedState=jl(1|e,n,i,r)}function yw(t,e){return Pc(8390656,8,t,e)}function cy(t,e){return sh(2048,8,t,e)}function kT(t,e){return sh(4,2,t,e)}function bT(t,e){return sh(4,4,t,e)}function OT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jT(t,e,n){return n=n!=null?n.concat([t]):null,sh(4,4,OT.bind(null,e,t),n)}function dy(){}function DT(t,e){var n=qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ay(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function LT(t,e){var n=qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ay(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function MT(t,e,n){return Pi&21?(lr(n,e)||(n=$1(),Ge.lanes|=n,Ri|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hn=!0),t.memoizedState=n)}function eN(t,e){var n=Re;Re=n!==0&&4>n?n:4,t(!0);var r=qf.transition;qf.transition={};try{t(!1),e()}finally{Re=n,qf.transition=r}}function VT(){return qn().memoizedState}function tN(t,e,n){var r=bs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},UT(t))$T(e,n);else if(n=gT(t,e,n,r),n!==null){var s=on();or(n,t,r,s),FT(n,e,r)}}function nN(t,e,n){var r=bs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(UT(t))$T(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,lr(a,o)){var l=e.interleaved;l===null?(s.next=s,ny(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=gT(t,e,s,r),n!==null&&(s=on(),or(n,t,r,s),FT(n,e,r))}}function UT(t){var e=t.alternate;return t===Ge||e!==null&&e===Ge}function $T(t,e){il=id=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function FT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bg(t,n)}}var od={readContext:zn,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},rN={readContext:zn,useCallback:function(t,e){return gr().memoizedState=[t,e===void 0?null:e],t},useContext:zn,useEffect:yw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Pc(4194308,4,OT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Pc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Pc(4,2,t,e)},useMemo:function(t,e){var n=gr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=tN.bind(null,Ge,t),[r.memoizedState,t]},useRef:function(t){var e=gr();return t={current:t},e.memoizedState=t},useState:gw,useDebugValue:dy,useDeferredValue:function(t){return gr().memoizedState=t},useTransition:function(){var t=gw(!1),e=t[0];return t=eN.bind(null,t[1]),gr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ge,s=gr();if(We){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),It===null)throw Error(B(349));Pi&30||CT(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,yw(AT.bind(null,r,i,t),[t]),r.flags|=2048,jl(9,xT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=gr(),e=It.identifierPrefix;if(We){var n=zr,r=Br;n=(r&~(1<<32-ir(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=bl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ZR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sN={readContext:zn,useCallback:DT,useContext:zn,useEffect:cy,useImperativeHandle:jT,useInsertionEffect:kT,useLayoutEffect:bT,useMemo:LT,useReducer:Wf,useRef:NT,useState:function(){return Wf(Ol)},useDebugValue:dy,useDeferredValue:function(t){var e=qn();return MT(e,gt.memoizedState,t)},useTransition:function(){var t=Wf(Ol)[0],e=qn().memoizedState;return[t,e]},useMutableSource:IT,useSyncExternalStore:ST,useId:VT,unstable_isNewReconciler:!1},iN={readContext:zn,useCallback:DT,useContext:zn,useEffect:cy,useImperativeHandle:jT,useInsertionEffect:kT,useLayoutEffect:bT,useMemo:LT,useReducer:Hf,useRef:NT,useState:function(){return Hf(Ol)},useDebugValue:dy,useDeferredValue:function(t){var e=qn();return gt===null?e.memoizedState=t:MT(e,gt.memoizedState,t)},useTransition:function(){var t=Hf(Ol)[0],e=qn().memoizedState;return[t,e]},useMutableSource:IT,useSyncExternalStore:ST,useId:VT,unstable_isNewReconciler:!1};function Wo(t,e){try{var n="",r=e;do n+=OP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Kf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ym(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var oN=typeof WeakMap=="function"?WeakMap:Map;function BT(t,e,n){n=Kr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ld||(ld=!0,Am=r),ym(t,e)},n}function zT(t,e,n){n=Kr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ym(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ym(t,e),typeof r!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function _w(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new oN;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=wN.bind(null,t,e,n),e.then(t,t))}function vw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ww(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Kr(-1,1),e.tag=2,Ns(n,e,1))),n.lanes|=1),t)}var aN=os.ReactCurrentOwner,hn=!1;function nn(t,e,n,r){e.child=t===null?ET(e,null,n,r):zo(e,t.child,n,r)}function Ew(t,e,n,r,s){n=n.render;var i=e.ref;return Ao(e,s),r=ly(t,e,n,r,i,s),n=uy(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Zr(t,e,s)):(We&&n&&Jg(e),e.flags|=1,nn(t,e,r,s),e.child)}function Tw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!vy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,qT(t,e,i,r,s)):(t=bc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:xl,n(o,r)&&t.ref===e.ref)return Zr(t,e,s)}return e.flags|=1,t=Os(i,r),t.ref=e.ref,t.return=e,e.child=t}function qT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(xl(i,r)&&t.ref===e.ref)if(hn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(hn=!0);else return e.lanes=t.lanes,Zr(t,e,s)}return _m(t,e,n,r,s)}function WT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(vo,_n),_n|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(vo,_n),_n|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,De(vo,_n),_n|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,De(vo,_n),_n|=r;return nn(t,e,s,n),e.child}function HT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _m(t,e,n,r,s){var i=pn(n)?xi:Xt.current;return i=Fo(e,i),Ao(e,s),n=ly(t,e,n,r,i,s),r=uy(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Zr(t,e,s)):(We&&r&&Jg(e),e.flags|=1,nn(t,e,n,s),e.child)}function Iw(t,e,n,r,s){if(pn(n)){var i=!0;Xc(e)}else i=!1;if(Ao(e,s),e.stateNode===null)Rc(t,e),vT(e,n,r),gm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=zn(u):(u=pn(n)?xi:Xt.current,u=Fo(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&pw(e,o,r,u),hs=!1;var f=e.memoizedState;o.state=f,rd(e,r,o,s),l=e.memoizedState,a!==r||f!==l||fn.current||hs?(typeof d=="function"&&(mm(e,n,d,r),l=e.memoizedState),(a=hs||fw(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,yT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Xn(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=zn(l):(l=pn(n)?xi:Xt.current,l=Fo(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&pw(e,o,r,l),hs=!1,f=e.memoizedState,o.state=f,rd(e,r,o,s);var _=e.memoizedState;a!==h||f!==_||fn.current||hs?(typeof m=="function"&&(mm(e,n,m,r),_=e.memoizedState),(u=hs||fw(e,n,u,r,f,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return vm(t,e,n,r,i,s)}function vm(t,e,n,r,s,i){HT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&lw(e,n,!1),Zr(t,e,i);r=e.stateNode,aN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=zo(e,t.child,null,i),e.child=zo(e,null,a,i)):nn(t,e,a,i),e.memoizedState=r.state,s&&lw(e,n,!0),e.child}function KT(t){var e=t.stateNode;e.pendingContext?aw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&aw(t,e.context,!1),sy(t,e.containerInfo)}function Sw(t,e,n,r,s){return Bo(),Xg(s),e.flags|=256,nn(t,e,n,r),e.child}var wm={dehydrated:null,treeContext:null,retryLane:0};function Em(t){return{baseLanes:t,cachePool:null,transitions:null}}function GT(t,e,n){var r=e.pendingProps,s=He.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),De(He,s&1),t===null)return fm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ah(o,r,0,null),t=Ei(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Em(n),e.memoizedState=wm,t):hy(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return lN(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Os(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Os(a,i):(i=Ei(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Em(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=wm,r}return i=t.child,t=i.sibling,r=Os(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function hy(t,e){return e=ah({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function rc(t,e,n,r){return r!==null&&Xg(r),zo(e,t.child,null,n),t=hy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function lN(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Kf(Error(B(422))),rc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ah({mode:"visible",children:r.children},s,0,null),i=Ei(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&zo(e,t.child,null,o),e.child.memoizedState=Em(o),e.memoizedState=wm,i);if(!(e.mode&1))return rc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(B(419)),r=Kf(i,r,void 0),rc(t,e,o,r)}if(a=(o&t.childLanes)!==0,hn||a){if(r=It,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Xr(t,s),or(r,t,s,-1))}return _y(),r=Kf(Error(B(421))),rc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=EN.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,wn=Rs(s.nextSibling),Sn=e,We=!0,tr=null,t!==null&&(Mn[Vn++]=Br,Mn[Vn++]=zr,Mn[Vn++]=Ai,Br=t.id,zr=t.overflow,Ai=e),e=hy(e,r.children),e.flags|=4096,e)}function Cw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pm(t.return,e,n)}function Gf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function QT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(nn(t,e,r.children,n),r=He.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cw(t,n,e);else if(t.tag===19)Cw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(De(He,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&sd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Gf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&sd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Gf(e,!0,n,null,i);break;case"together":Gf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ri|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Os(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Os(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function uN(t,e,n){switch(e.tag){case 3:KT(e),Bo();break;case 5:TT(e);break;case 1:pn(e.type)&&Xc(e);break;case 4:sy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;De(td,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(De(He,He.current&1),e.flags|=128,null):n&e.child.childLanes?GT(t,e,n):(De(He,He.current&1),t=Zr(t,e,n),t!==null?t.sibling:null);De(He,He.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return QT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),De(He,He.current),r)break;return null;case 22:case 23:return e.lanes=0,WT(t,e,n)}return Zr(t,e,n)}var JT,Tm,YT,XT;JT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Tm=function(){};YT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,fi(Cr.current);var i=null;switch(n){case"input":s=qp(t,s),r=qp(t,r),i=[];break;case"select":s=Qe({},s,{value:void 0}),r=Qe({},r,{value:void 0}),i=[];break;case"textarea":s=Kp(t,s),r=Kp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Jc)}Qp(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(vl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(vl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ve("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};XT=function(t,e,n,r){n!==r&&(e.flags|=4)};function ja(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function cN(t,e,n){var r=e.pendingProps;switch(Yg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(e),null;case 1:return pn(e.type)&&Yc(),$t(e),null;case 3:return r=e.stateNode,qo(),Fe(fn),Fe(Xt),oy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(tc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,tr!==null&&(Nm(tr),tr=null))),Tm(t,e),$t(e),null;case 5:iy(e);var s=fi(kl.current);if(n=e.type,t!==null&&e.stateNode!=null)YT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return $t(e),null}if(t=fi(Cr.current),tc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[_r]=e,r[Rl]=i,t=(e.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(s=0;s<qa.length;s++)Ve(qa[s],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":jv(r,i),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ve("invalid",r);break;case"textarea":Lv(r,i),Ve("invalid",r)}Qp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ec(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ec(r.textContent,a,t),s=["children",""+a]):vl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ve("scroll",r)}switch(n){case"input":Hu(r),Dv(r,i,!0);break;case"textarea":Hu(r),Mv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Jc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=C1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[_r]=e,t[Rl]=r,JT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Jp(n,r),n){case"dialog":Ve("cancel",t),Ve("close",t),s=r;break;case"iframe":case"object":case"embed":Ve("load",t),s=r;break;case"video":case"audio":for(s=0;s<qa.length;s++)Ve(qa[s],t);s=r;break;case"source":Ve("error",t),s=r;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),s=r;break;case"details":Ve("toggle",t),s=r;break;case"input":jv(t,r),s=qp(t,r),Ve("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Qe({},r,{value:void 0}),Ve("invalid",t);break;case"textarea":Lv(t,r),s=Kp(t,r),Ve("invalid",t);break;default:s=r}Qp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?P1(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&x1(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&wl(t,l):typeof l=="number"&&wl(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(vl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ve("scroll",t):l!=null&&Lg(t,i,l,o))}switch(n){case"input":Hu(t),Dv(t,r,!1);break;case"textarea":Hu(t),Mv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Bs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Io(t,!!r.multiple,i,!1):r.defaultValue!=null&&Io(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Jc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $t(e),null;case 6:if(t&&e.stateNode!=null)XT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=fi(kl.current),fi(Cr.current),tc(e)){if(r=e.stateNode,n=e.memoizedProps,r[_r]=e,(i=r.nodeValue!==n)&&(t=Sn,t!==null))switch(t.tag){case 3:ec(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ec(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_r]=e,e.stateNode=r}return $t(e),null;case 13:if(Fe(He),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&wn!==null&&e.mode&1&&!(e.flags&128))mT(),Bo(),e.flags|=98560,i=!1;else if(i=tc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[_r]=e}else Bo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$t(e),i=!1}else tr!==null&&(Nm(tr),tr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||He.current&1?_t===0&&(_t=3):_y())),e.updateQueue!==null&&(e.flags|=4),$t(e),null);case 4:return qo(),Tm(t,e),t===null&&Al(e.stateNode.containerInfo),$t(e),null;case 10:return ty(e.type._context),$t(e),null;case 17:return pn(e.type)&&Yc(),$t(e),null;case 19:if(Fe(He),i=e.memoizedState,i===null)return $t(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ja(i,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=sd(t),o!==null){for(e.flags|=128,ja(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De(He,He.current&1|2),e.child}t=t.sibling}i.tail!==null&&st()>Ho&&(e.flags|=128,r=!0,ja(i,!1),e.lanes=4194304)}else{if(!r)if(t=sd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ja(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!We)return $t(e),null}else 2*st()-i.renderingStartTime>Ho&&n!==1073741824&&(e.flags|=128,r=!0,ja(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=st(),e.sibling=null,n=He.current,De(He,r?n&1|2:n&1),e):($t(e),null);case 22:case 23:return yy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?_n&1073741824&&($t(e),e.subtreeFlags&6&&(e.flags|=8192)):$t(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function dN(t,e){switch(Yg(e),e.tag){case 1:return pn(e.type)&&Yc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qo(),Fe(fn),Fe(Xt),oy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return iy(e),null;case 13:if(Fe(He),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Bo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe(He),null;case 4:return qo(),null;case 10:return ty(e.type._context),null;case 22:case 23:return yy(),null;case 24:return null;default:return null}}var sc=!1,Kt=!1,hN=typeof WeakSet=="function"?WeakSet:Set,X=null;function _o(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xe(t,e,r)}else n.current=null}function Im(t,e,n){try{n()}catch(r){Xe(t,e,r)}}var xw=!1;function fN(t,e){if(om=Kc,t=nT(),Qg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===s&&(a=o),f===i&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(am={focusedElem:t,selectionRange:n},Kc=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var v=_.memoizedProps,w=_.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:Xn(e.type,v),w);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(I){Xe(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return _=xw,xw=!1,_}function ol(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Im(e,n,i)}s=s.next}while(s!==r)}}function ih(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Sm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ZT(t){var e=t.alternate;e!==null&&(t.alternate=null,ZT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_r],delete e[Rl],delete e[cm],delete e[QR],delete e[JR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function eI(t){return t.tag===5||t.tag===3||t.tag===4}function Aw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||eI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jc));else if(r!==4&&(t=t.child,t!==null))for(Cm(t,e,n),t=t.sibling;t!==null;)Cm(t,e,n),t=t.sibling}function xm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(xm(t,e,n),t=t.sibling;t!==null;)xm(t,e,n),t=t.sibling}var Rt=null,er=!1;function ls(t,e,n){for(n=n.child;n!==null;)tI(t,e,n),n=n.sibling}function tI(t,e,n){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(Yd,n)}catch{}switch(n.tag){case 5:Kt||_o(n,e);case 6:var r=Rt,s=er;Rt=null,ls(t,e,n),Rt=r,er=s,Rt!==null&&(er?(t=Rt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Rt.removeChild(n.stateNode));break;case 18:Rt!==null&&(er?(t=Rt,n=n.stateNode,t.nodeType===8?Ff(t.parentNode,n):t.nodeType===1&&Ff(t,n),Sl(t)):Ff(Rt,n.stateNode));break;case 4:r=Rt,s=er,Rt=n.stateNode.containerInfo,er=!0,ls(t,e,n),Rt=r,er=s;break;case 0:case 11:case 14:case 15:if(!Kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Im(n,e,o),s=s.next}while(s!==r)}ls(t,e,n);break;case 1:if(!Kt&&(_o(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Xe(n,e,a)}ls(t,e,n);break;case 21:ls(t,e,n);break;case 22:n.mode&1?(Kt=(r=Kt)||n.memoizedState!==null,ls(t,e,n),Kt=r):ls(t,e,n);break;default:ls(t,e,n)}}function Pw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new hN),e.forEach(function(r){var s=TN.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Jn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Rt=a.stateNode,er=!1;break e;case 3:Rt=a.stateNode.containerInfo,er=!0;break e;case 4:Rt=a.stateNode.containerInfo,er=!0;break e}a=a.return}if(Rt===null)throw Error(B(160));tI(i,o,s),Rt=null,er=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Xe(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nI(e,t),e=e.sibling}function nI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jn(e,t),fr(t),r&4){try{ol(3,t,t.return),ih(3,t)}catch(v){Xe(t,t.return,v)}try{ol(5,t,t.return)}catch(v){Xe(t,t.return,v)}}break;case 1:Jn(e,t),fr(t),r&512&&n!==null&&_o(n,n.return);break;case 5:if(Jn(e,t),fr(t),r&512&&n!==null&&_o(n,n.return),t.flags&32){var s=t.stateNode;try{wl(s,"")}catch(v){Xe(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&I1(s,i),Jp(a,o);var u=Jp(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?P1(s,h):d==="dangerouslySetInnerHTML"?x1(s,h):d==="children"?wl(s,h):Lg(s,d,h,u)}switch(a){case"input":Wp(s,i);break;case"textarea":S1(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Io(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Io(s,!!i.multiple,i.defaultValue,!0):Io(s,!!i.multiple,i.multiple?[]:"",!1))}s[Rl]=i}catch(v){Xe(t,t.return,v)}}break;case 6:if(Jn(e,t),fr(t),r&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Xe(t,t.return,v)}}break;case 3:if(Jn(e,t),fr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sl(e.containerInfo)}catch(v){Xe(t,t.return,v)}break;case 4:Jn(e,t),fr(t);break;case 13:Jn(e,t),fr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(my=st())),r&4&&Pw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Kt=(u=Kt)||d,Jn(e,t),Kt=u):Jn(e,t),fr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(X=t,d=t.child;d!==null;){for(h=X=d;X!==null;){switch(f=X,m=f.child,f.tag){case 0:case 11:case 14:case 15:ol(4,f,f.return);break;case 1:_o(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(v){Xe(r,n,v)}}break;case 5:_o(f,f.return);break;case 22:if(f.memoizedState!==null){Nw(h);continue}}m!==null?(m.return=f,X=m):Nw(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=A1("display",o))}catch(v){Xe(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Xe(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Jn(e,t),fr(t),r&4&&Pw(t);break;case 21:break;default:Jn(e,t),fr(t)}}function fr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(eI(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(wl(s,""),r.flags&=-33);var i=Aw(t);xm(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Aw(t);Cm(t,a,o);break;default:throw Error(B(161))}}catch(l){Xe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function pN(t,e,n){X=t,rI(t)}function rI(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||sc;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Kt;a=sc;var u=Kt;if(sc=o,(Kt=l)&&!u)for(X=s;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?kw(s):l!==null?(l.return=o,X=l):kw(s);for(;i!==null;)X=i,rI(i),i=i.sibling;X=s,sc=a,Kt=u}Rw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):Rw(t)}}function Rw(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kt||ih(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Kt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Xn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&hw(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}hw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Sl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Kt||e.flags&512&&Sm(e)}catch(f){Xe(e,e.return,f)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function Nw(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function kw(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ih(4,e)}catch(l){Xe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Xe(e,s,l)}}var i=e.return;try{Sm(e)}catch(l){Xe(e,i,l)}break;case 5:var o=e.return;try{Sm(e)}catch(l){Xe(e,o,l)}}}catch(l){Xe(e,e.return,l)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var mN=Math.ceil,ad=os.ReactCurrentDispatcher,fy=os.ReactCurrentOwner,Fn=os.ReactCurrentBatchConfig,Ce=0,It=null,ht=null,jt=0,_n=0,vo=Js(0),_t=0,Dl=null,Ri=0,oh=0,py=0,al=null,un=null,my=0,Ho=1/0,$r=null,ld=!1,Am=null,ks=null,ic=!1,Es=null,ud=0,ll=0,Pm=null,Nc=-1,kc=0;function on(){return Ce&6?st():Nc!==-1?Nc:Nc=st()}function bs(t){return t.mode&1?Ce&2&&jt!==0?jt&-jt:XR.transition!==null?(kc===0&&(kc=$1()),kc):(t=Re,t!==0||(t=window.event,t=t===void 0?16:K1(t.type)),t):1}function or(t,e,n,r){if(50<ll)throw ll=0,Pm=null,Error(B(185));au(t,n,r),(!(Ce&2)||t!==It)&&(t===It&&(!(Ce&2)&&(oh|=n),_t===4&&ps(t,jt)),mn(t,r),n===1&&Ce===0&&!(e.mode&1)&&(Ho=st()+500,nh&&Ys()))}function mn(t,e){var n=t.callbackNode;XP(t,e);var r=Hc(t,t===It?jt:0);if(r===0)n!==null&&$v(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$v(n),e===1)t.tag===0?YR(bw.bind(null,t)):hT(bw.bind(null,t)),KR(function(){!(Ce&6)&&Ys()}),n=null;else{switch(F1(r)){case 1:n=Fg;break;case 4:n=V1;break;case 16:n=Wc;break;case 536870912:n=U1;break;default:n=Wc}n=dI(n,sI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function sI(t,e){if(Nc=-1,kc=0,Ce&6)throw Error(B(327));var n=t.callbackNode;if(Po()&&t.callbackNode!==n)return null;var r=Hc(t,t===It?jt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=cd(t,r);else{e=r;var s=Ce;Ce|=2;var i=oI();(It!==t||jt!==e)&&($r=null,Ho=st()+500,wi(t,e));do try{_N();break}catch(a){iI(t,a)}while(1);ey(),ad.current=i,Ce=s,ht!==null?e=0:(It=null,jt=0,e=_t)}if(e!==0){if(e===2&&(s=tm(t),s!==0&&(r=s,e=Rm(t,s))),e===1)throw n=Dl,wi(t,0),ps(t,r),mn(t,st()),n;if(e===6)ps(t,r);else{if(s=t.current.alternate,!(r&30)&&!gN(s)&&(e=cd(t,r),e===2&&(i=tm(t),i!==0&&(r=i,e=Rm(t,i))),e===1))throw n=Dl,wi(t,0),ps(t,r),mn(t,st()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:ai(t,un,$r);break;case 3:if(ps(t,r),(r&130023424)===r&&(e=my+500-st(),10<e)){if(Hc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){on(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=um(ai.bind(null,t,un,$r),e);break}ai(t,un,$r);break;case 4:if(ps(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ir(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=st()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mN(r/1960))-r,10<r){t.timeoutHandle=um(ai.bind(null,t,un,$r),r);break}ai(t,un,$r);break;case 5:ai(t,un,$r);break;default:throw Error(B(329))}}}return mn(t,st()),t.callbackNode===n?sI.bind(null,t):null}function Rm(t,e){var n=al;return t.current.memoizedState.isDehydrated&&(wi(t,e).flags|=256),t=cd(t,e),t!==2&&(e=un,un=n,e!==null&&Nm(e)),t}function Nm(t){un===null?un=t:un.push.apply(un,t)}function gN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!lr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ps(t,e){for(e&=~py,e&=~oh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ir(e),r=1<<n;t[n]=-1,e&=~r}}function bw(t){if(Ce&6)throw Error(B(327));Po();var e=Hc(t,0);if(!(e&1))return mn(t,st()),null;var n=cd(t,e);if(t.tag!==0&&n===2){var r=tm(t);r!==0&&(e=r,n=Rm(t,r))}if(n===1)throw n=Dl,wi(t,0),ps(t,e),mn(t,st()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ai(t,un,$r),mn(t,st()),null}function gy(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(Ho=st()+500,nh&&Ys())}}function Ni(t){Es!==null&&Es.tag===0&&!(Ce&6)&&Po();var e=Ce;Ce|=1;var n=Fn.transition,r=Re;try{if(Fn.transition=null,Re=1,t)return t()}finally{Re=r,Fn.transition=n,Ce=e,!(Ce&6)&&Ys()}}function yy(){_n=vo.current,Fe(vo)}function wi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,HR(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(Yg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yc();break;case 3:qo(),Fe(fn),Fe(Xt),oy();break;case 5:iy(r);break;case 4:qo();break;case 13:Fe(He);break;case 19:Fe(He);break;case 10:ty(r.type._context);break;case 22:case 23:yy()}n=n.return}if(It=t,ht=t=Os(t.current,null),jt=_n=e,_t=0,Dl=null,py=oh=Ri=0,un=al=null,hi!==null){for(e=0;e<hi.length;e++)if(n=hi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}hi=null}return t}function iI(t,e){do{var n=ht;try{if(ey(),Ac.current=od,id){for(var r=Ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}id=!1}if(Pi=0,Tt=gt=Ge=null,il=!1,bl=0,fy.current=null,n===null||n.return===null){_t=1,Dl=e,ht=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=jt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=vw(o);if(m!==null){m.flags&=-257,ww(m,o,a,i,e),m.mode&1&&_w(i,u,e),e=m,l=u;var _=e.updateQueue;if(_===null){var v=new Set;v.add(l),e.updateQueue=v}else _.add(l);break e}else{if(!(e&1)){_w(i,u,e),_y();break e}l=Error(B(426))}}else if(We&&a.mode&1){var w=vw(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),ww(w,o,a,i,e),Xg(Wo(l,a));break e}}i=l=Wo(l,a),_t!==4&&(_t=2),al===null?al=[i]:al.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=BT(i,l,e);dw(i,g);break e;case 1:a=l;var p=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ks===null||!ks.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var I=zT(i,a,e);dw(i,I);break e}}i=i.return}while(i!==null)}lI(n)}catch(S){e=S,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(1)}function oI(){var t=ad.current;return ad.current=od,t===null?od:t}function _y(){(_t===0||_t===3||_t===2)&&(_t=4),It===null||!(Ri&268435455)&&!(oh&268435455)||ps(It,jt)}function cd(t,e){var n=Ce;Ce|=2;var r=oI();(It!==t||jt!==e)&&($r=null,wi(t,e));do try{yN();break}catch(s){iI(t,s)}while(1);if(ey(),Ce=n,ad.current=r,ht!==null)throw Error(B(261));return It=null,jt=0,_t}function yN(){for(;ht!==null;)aI(ht)}function _N(){for(;ht!==null&&!zP();)aI(ht)}function aI(t){var e=cI(t.alternate,t,_n);t.memoizedProps=t.pendingProps,e===null?lI(t):ht=e,fy.current=null}function lI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=dN(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,ht=null;return}}else if(n=cN(n,e,_n),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);_t===0&&(_t=5)}function ai(t,e,n){var r=Re,s=Fn.transition;try{Fn.transition=null,Re=1,vN(t,e,n,r)}finally{Fn.transition=s,Re=r}return null}function vN(t,e,n,r){do Po();while(Es!==null);if(Ce&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(ZP(t,i),t===It&&(ht=It=null,jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ic||(ic=!0,dI(Wc,function(){return Po(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Fn.transition,Fn.transition=null;var o=Re;Re=1;var a=Ce;Ce|=4,fy.current=null,fN(t,n),nI(n,t),UR(am),Kc=!!om,am=om=null,t.current=n,pN(n),qP(),Ce=a,Re=o,Fn.transition=i}else t.current=n;if(ic&&(ic=!1,Es=t,ud=s),i=t.pendingLanes,i===0&&(ks=null),KP(n.stateNode),mn(t,st()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ld)throw ld=!1,t=Am,Am=null,t;return ud&1&&t.tag!==0&&Po(),i=t.pendingLanes,i&1?t===Pm?ll++:(ll=0,Pm=t):ll=0,Ys(),null}function Po(){if(Es!==null){var t=F1(ud),e=Fn.transition,n=Re;try{if(Fn.transition=null,Re=16>t?16:t,Es===null)var r=!1;else{if(t=Es,Es=null,ud=0,Ce&6)throw Error(B(331));var s=Ce;for(Ce|=4,X=t.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(X=u;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:ol(8,d,i)}var h=d.child;if(h!==null)h.return=d,X=h;else for(;X!==null;){d=X;var f=d.sibling,m=d.return;if(ZT(d),d===u){X=null;break}if(f!==null){f.return=m,X=f;break}X=m}}}var _=i.alternate;if(_!==null){var v=_.child;if(v!==null){_.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ol(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,X=g;break e}X=i.return}}var p=t.current;for(X=p;X!==null;){o=X;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,X=y;else e:for(o=p;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ih(9,a)}}catch(S){Xe(a,a.return,S)}if(a===o){X=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,X=I;break e}X=a.return}}if(Ce=s,Ys(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(Yd,t)}catch{}r=!0}return r}finally{Re=n,Fn.transition=e}}return!1}function Ow(t,e,n){e=Wo(n,e),e=BT(t,e,1),t=Ns(t,e,1),e=on(),t!==null&&(au(t,1,e),mn(t,e))}function Xe(t,e,n){if(t.tag===3)Ow(t,t,n);else for(;e!==null;){if(e.tag===3){Ow(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ks===null||!ks.has(r))){t=Wo(n,t),t=zT(e,t,1),e=Ns(e,t,1),t=on(),e!==null&&(au(e,1,t),mn(e,t));break}}e=e.return}}function wN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=on(),t.pingedLanes|=t.suspendedLanes&n,It===t&&(jt&n)===n&&(_t===4||_t===3&&(jt&130023424)===jt&&500>st()-my?wi(t,0):py|=n),mn(t,e)}function uI(t,e){e===0&&(t.mode&1?(e=Qu,Qu<<=1,!(Qu&130023424)&&(Qu=4194304)):e=1);var n=on();t=Xr(t,e),t!==null&&(au(t,e,n),mn(t,n))}function EN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),uI(t,n)}function TN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),uI(t,n)}var cI;cI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fn.current)hn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return hn=!1,uN(t,e,n);hn=!!(t.flags&131072)}else hn=!1,We&&e.flags&1048576&&fT(e,ed,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Rc(t,e),t=e.pendingProps;var s=Fo(e,Xt.current);Ao(e,n),s=ly(null,e,r,t,s,n);var i=uy();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pn(r)?(i=!0,Xc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ry(e),s.updater=rh,e.stateNode=s,s._reactInternals=e,gm(e,r,t,n),e=vm(null,e,r,!0,i,n)):(e.tag=0,We&&i&&Jg(e),nn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Rc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=SN(r),t=Xn(r,t),s){case 0:e=_m(null,e,r,t,n);break e;case 1:e=Iw(null,e,r,t,n);break e;case 11:e=Ew(null,e,r,t,n);break e;case 14:e=Tw(null,e,r,Xn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xn(r,s),_m(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xn(r,s),Iw(t,e,r,s,n);case 3:e:{if(KT(e),t===null)throw Error(B(387));r=e.pendingProps,i=e.memoizedState,s=i.element,yT(t,e),rd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Wo(Error(B(423)),e),e=Sw(t,e,r,n,s);break e}else if(r!==s){s=Wo(Error(B(424)),e),e=Sw(t,e,r,n,s);break e}else for(wn=Rs(e.stateNode.containerInfo.firstChild),Sn=e,We=!0,tr=null,n=ET(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bo(),r===s){e=Zr(t,e,n);break e}nn(t,e,r,n)}e=e.child}return e;case 5:return TT(e),t===null&&fm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,lm(r,s)?o=null:i!==null&&lm(r,i)&&(e.flags|=32),HT(t,e),nn(t,e,o,n),e.child;case 6:return t===null&&fm(e),null;case 13:return GT(t,e,n);case 4:return sy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=zo(e,null,r,n):nn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xn(r,s),Ew(t,e,r,s,n);case 7:return nn(t,e,e.pendingProps,n),e.child;case 8:return nn(t,e,e.pendingProps.children,n),e.child;case 12:return nn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,De(td,r._currentValue),r._currentValue=o,i!==null)if(lr(i.value,o)){if(i.children===s.children&&!fn.current){e=Zr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Kr(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),pm(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),pm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}nn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ao(e,n),s=zn(s),r=r(s),e.flags|=1,nn(t,e,r,n),e.child;case 14:return r=e.type,s=Xn(r,e.pendingProps),s=Xn(r.type,s),Tw(t,e,r,s,n);case 15:return qT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xn(r,s),Rc(t,e),e.tag=1,pn(r)?(t=!0,Xc(e)):t=!1,Ao(e,n),vT(e,r,s),gm(e,r,s,n),vm(null,e,r,!0,t,n);case 19:return QT(t,e,n);case 22:return WT(t,e,n)}throw Error(B(156,e.tag))};function dI(t,e){return M1(t,e)}function IN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(t,e,n,r){return new IN(t,e,n,r)}function vy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function SN(t){if(typeof t=="function")return vy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vg)return 11;if(t===Ug)return 14}return 2}function Os(t,e){var n=t.alternate;return n===null?(n=$n(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")vy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case lo:return Ei(n.children,s,i,e);case Mg:o=8,s|=8;break;case $p:return t=$n(12,n,e,s|2),t.elementType=$p,t.lanes=i,t;case Fp:return t=$n(13,n,e,s),t.elementType=Fp,t.lanes=i,t;case Bp:return t=$n(19,n,e,s),t.elementType=Bp,t.lanes=i,t;case w1:return ah(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _1:o=10;break e;case v1:o=9;break e;case Vg:o=11;break e;case Ug:o=14;break e;case ds:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=$n(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ei(t,e,n,r){return t=$n(7,t,r,e),t.lanes=n,t}function ah(t,e,n,r){return t=$n(22,t,r,e),t.elementType=w1,t.lanes=n,t.stateNode={isHidden:!1},t}function Qf(t,e,n){return t=$n(6,t,null,e),t.lanes=n,t}function Jf(t,e,n){return e=$n(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function CN(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nf(0),this.expirationTimes=Nf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function wy(t,e,n,r,s,i,o,a,l){return t=new CN(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=$n(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ry(i),t}function xN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ao,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function hI(t){if(!t)return zs;t=t._reactInternals;e:{if(zi(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(pn(n))return dT(t,n,e)}return e}function fI(t,e,n,r,s,i,o,a,l){return t=wy(n,r,!0,t,s,i,o,a,l),t.context=hI(null),n=t.current,r=on(),s=bs(n),i=Kr(r,s),i.callback=e??null,Ns(n,i,s),t.current.lanes=s,au(t,s,r),mn(t,r),t}function lh(t,e,n,r){var s=e.current,i=on(),o=bs(s);return n=hI(n),e.context===null?e.context=n:e.pendingContext=n,e=Kr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ns(s,e,o),t!==null&&(or(t,s,o,i),xc(t,s,o)),o}function dd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ey(t,e){jw(t,e),(t=t.alternate)&&jw(t,e)}function AN(){return null}var pI=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ty(t){this._internalRoot=t}uh.prototype.render=Ty.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));lh(t,e,null,null)};uh.prototype.unmount=Ty.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ni(function(){lh(null,t,null,null)}),e[Yr]=null}};function uh(t){this._internalRoot=t}uh.prototype.unstable_scheduleHydration=function(t){if(t){var e=q1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fs.length&&e!==0&&e<fs[n].priority;n++);fs.splice(n,0,t),n===0&&H1(t)}};function Iy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ch(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Dw(){}function PN(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=dd(o);i.call(u)}}var o=fI(e,r,t,0,null,!1,!1,"",Dw);return t._reactRootContainer=o,t[Yr]=o.current,Al(t.nodeType===8?t.parentNode:t),Ni(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=dd(l);a.call(u)}}var l=wy(t,0,!1,null,null,!1,!1,"",Dw);return t._reactRootContainer=l,t[Yr]=l.current,Al(t.nodeType===8?t.parentNode:t),Ni(function(){lh(e,l,n,r)}),l}function dh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=dd(o);a.call(l)}}lh(e,o,t,s)}else o=PN(n,e,t,s,r);return dd(o)}B1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=za(e.pendingLanes);n!==0&&(Bg(e,n|1),mn(e,st()),!(Ce&6)&&(Ho=st()+500,Ys()))}break;case 13:Ni(function(){var r=Xr(t,1);if(r!==null){var s=on();or(r,t,1,s)}}),Ey(t,1)}};zg=function(t){if(t.tag===13){var e=Xr(t,134217728);if(e!==null){var n=on();or(e,t,134217728,n)}Ey(t,134217728)}};z1=function(t){if(t.tag===13){var e=bs(t),n=Xr(t,e);if(n!==null){var r=on();or(n,t,e,r)}Ey(t,e)}};q1=function(){return Re};W1=function(t,e){var n=Re;try{return Re=t,e()}finally{Re=n}};Xp=function(t,e,n){switch(e){case"input":if(Wp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=th(r);if(!s)throw Error(B(90));T1(r),Wp(r,s)}}}break;case"textarea":S1(t,n);break;case"select":e=n.value,e!=null&&Io(t,!!n.multiple,e,!1)}};k1=gy;b1=Ni;var RN={usingClientEntryPoint:!1,Events:[uu,fo,th,R1,N1,gy]},Da={findFiberByHostInstance:di,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},NN={bundleType:Da.bundleType,version:Da.version,rendererPackageName:Da.rendererPackageName,rendererConfig:Da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:os.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=D1(t),t===null?null:t.stateNode},findFiberByHostInstance:Da.findFiberByHostInstance||AN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{Yd=oc.inject(NN),Sr=oc}catch{}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RN;Pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Iy(e))throw Error(B(200));return xN(t,e,null,n)};Pn.createRoot=function(t,e){if(!Iy(t))throw Error(B(299));var n=!1,r="",s=pI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=wy(t,1,!1,null,null,n,!1,r,s),t[Yr]=e.current,Al(t.nodeType===8?t.parentNode:t),new Ty(e)};Pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=D1(e),t=t===null?null:t.stateNode,t};Pn.flushSync=function(t){return Ni(t)};Pn.hydrate=function(t,e,n){if(!ch(e))throw Error(B(200));return dh(null,t,e,!0,n)};Pn.hydrateRoot=function(t,e,n){if(!Iy(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=pI;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=fI(e,null,t,1,n??null,s,!1,i,o),t[Yr]=e.current,Al(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new uh(e)};Pn.render=function(t,e,n){if(!ch(e))throw Error(B(200));return dh(null,t,e,!1,n)};Pn.unmountComponentAtNode=function(t){if(!ch(t))throw Error(B(40));return t._reactRootContainer?(Ni(function(){dh(null,null,t,!1,function(){t._reactRootContainer=null,t[Yr]=null})}),!0):!1};Pn.unstable_batchedUpdates=gy;Pn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ch(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return dh(t,e,n,!1,r)};Pn.version="18.2.0-next-9e3b772b8-20220608";function mI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mI)}catch(t){console.error(t)}}mI(),f1.exports=Pn;var Sy=f1.exports,Lw=Sy;Vp.createRoot=Lw.createRoot,Vp.hydrateRoot=Lw.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},kN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},yI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new bN;const f=i<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const _=u<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ON=function(t){const e=gI(t);return yI.encodeByteArray(e,!0)},hd=function(t){return ON(t).replace(/\./g,"")},_I=function(t){try{return yI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=()=>jN().__FIREBASE_DEFAULTS__,LN=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_I(t[1]);return e&&JSON.parse(e)},hh=()=>{try{return DN()||LN()||MN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vI=t=>{var e,n;return(n=(e=hh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wI=t=>{const e=vI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},EI=()=>{var t;return(t=hh())===null||t===void 0?void 0:t.config},TI=t=>{var e;return(e=hh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[hd(JSON.stringify(n)),hd(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function $N(){var t;const e=(t=hh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function BN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zN(){const t=Zt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qN(){try{return typeof indexedDB=="object"}catch{return!1}}function WN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="FirebaseError";class Or extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=HN,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,du.prototype.create)}}class du{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?KN(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Or(s,a,r)}}function KN(t,e){return t.replace(GN,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const GN=/\{\$([^}]+)}/g;function QN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Mw(i)&&Mw(o)){if(!fd(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Mw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ha(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function JN(t,e){const n=new YN(t,e);return n.subscribe.bind(n)}class YN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");XN(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Yf),s.error===void 0&&(s.error=Yf),s.complete===void 0&&(s.complete=Yf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t){return t&&t._delegate?t._delegate:t}class qs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZN=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new VN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tk(e))try{this.getOrInitializeService({instanceIdentifier:li})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=li){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=li){return this.instances.has(e)}getOptions(e=li){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ek(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=li){return this.component?this.component.multipleInstances?e:li:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ek(t){return t===li?void 0:t}function tk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ZN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const rk={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},sk=Ie.INFO,ik={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},ok=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=ik[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cy{constructor(e){this.name=e,this._logLevel=sk,this._logHandler=ok,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const ak=(t,e)=>e.some(n=>t instanceof n);let Vw,Uw;function lk(){return Vw||(Vw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uk(){return Uw||(Uw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SI=new WeakMap,km=new WeakMap,CI=new WeakMap,Xf=new WeakMap,xy=new WeakMap;function ck(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(js(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&SI.set(n,t)}).catch(()=>{}),xy.set(e,t),e}function dk(t){if(km.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});km.set(t,e)}let bm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return km.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return js(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hk(t){bm=t(bm)}function fk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Zf(this),e,...n);return CI.set(r,e.sort?e.sort():[e]),js(r)}:uk().includes(t)?function(...e){return t.apply(Zf(this),e),js(SI.get(this))}:function(...e){return js(t.apply(Zf(this),e))}}function pk(t){return typeof t=="function"?fk(t):(t instanceof IDBTransaction&&dk(t),ak(t,lk())?new Proxy(t,bm):t)}function js(t){if(t instanceof IDBRequest)return ck(t);if(Xf.has(t))return Xf.get(t);const e=pk(t);return e!==t&&(Xf.set(t,e),xy.set(e,t)),e}const Zf=t=>xy.get(t);function mk(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=js(o);return r&&o.addEventListener("upgradeneeded",l=>{r(js(o.result),l.oldVersion,l.newVersion,js(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const gk=["get","getKey","getAll","getAllKeys","count"],yk=["put","add","delete","clear"],ep=new Map;function $w(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ep.get(e))return ep.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=yk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||gk.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return ep.set(e,i),i}hk(t=>({...t,get:(e,n,r)=>$w(e,n)||t.get(e,n,r),has:(e,n)=>!!$w(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Om="@firebase/app",Fw="0.9.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new Cy("@firebase/app"),wk="@firebase/app-compat",Ek="@firebase/analytics-compat",Tk="@firebase/analytics",Ik="@firebase/app-check-compat",Sk="@firebase/app-check",Ck="@firebase/auth",xk="@firebase/auth-compat",Ak="@firebase/database",Pk="@firebase/database-compat",Rk="@firebase/functions",Nk="@firebase/functions-compat",kk="@firebase/installations",bk="@firebase/installations-compat",Ok="@firebase/messaging",jk="@firebase/messaging-compat",Dk="@firebase/performance",Lk="@firebase/performance-compat",Mk="@firebase/remote-config",Vk="@firebase/remote-config-compat",Uk="@firebase/storage",$k="@firebase/storage-compat",Fk="@firebase/firestore",Bk="@firebase/firestore-compat",zk="firebase",qk="10.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="[DEFAULT]",Wk={[Om]:"fire-core",[wk]:"fire-core-compat",[Tk]:"fire-analytics",[Ek]:"fire-analytics-compat",[Sk]:"fire-app-check",[Ik]:"fire-app-check-compat",[Ck]:"fire-auth",[xk]:"fire-auth-compat",[Ak]:"fire-rtdb",[Pk]:"fire-rtdb-compat",[Rk]:"fire-fn",[Nk]:"fire-fn-compat",[kk]:"fire-iid",[bk]:"fire-iid-compat",[Ok]:"fire-fcm",[jk]:"fire-fcm-compat",[Dk]:"fire-perf",[Lk]:"fire-perf-compat",[Mk]:"fire-rc",[Vk]:"fire-rc-compat",[Uk]:"fire-gcs",[$k]:"fire-gcs-compat",[Fk]:"fire-fst",[Bk]:"fire-fst-compat","fire-js":"fire-js",[zk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=new Map,Dm=new Map;function Hk(t,e){try{t.container.addComponent(e)}catch(n){ki.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bi(t){const e=t.name;if(Dm.has(e))return ki.debug(`There were multiple attempts to register component ${e}.`),!1;Dm.set(e,t);for(const n of pd.values())Hk(n,t);return!0}function fh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ds=new du("app","Firebase",Kk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=qk;function xI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:jm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ds.create("bad-app-name",{appName:String(s)});if(n||(n=EI()),!n)throw Ds.create("no-options");const i=pd.get(s);if(i){if(fd(n,i.options)&&fd(r,i.config))return i;throw Ds.create("duplicate-app",{appName:s})}const o=new nk(s);for(const l of Dm.values())o.addComponent(l);const a=new Gk(n,r,o);return pd.set(s,a),a}function Ay(t=jm){const e=pd.get(t);if(!e&&t===jm&&EI())return xI();if(!e)throw Ds.create("no-app",{appName:t});return e}function xr(t,e,n){var r;let s=(r=Wk[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ki.warn(a.join(" "));return}bi(new qs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk="firebase-heartbeat-database",Jk=1,Ll="firebase-heartbeat-store";let tp=null;function AI(){return tp||(tp=mk(Qk,Jk,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ll)}}}).catch(t=>{throw Ds.create("idb-open",{originalErrorMessage:t.message})})),tp}async function Yk(t){try{return await(await AI()).transaction(Ll).objectStore(Ll).get(PI(t))}catch(e){if(e instanceof Or)ki.warn(e.message);else{const n=Ds.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ki.warn(n.message)}}}async function Bw(t,e){try{const r=(await AI()).transaction(Ll,"readwrite");await r.objectStore(Ll).put(e,PI(t)),await r.done}catch(n){if(n instanceof Or)ki.warn(n.message);else{const r=Ds.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ki.warn(r.message)}}}function PI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=1024,Zk=30*24*60*60*1e3;class eb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=zw();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=Zk}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=zw(),{heartbeatsToSend:n,unsentEntries:r}=tb(this._heartbeatsCache.heartbeats),s=hd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function zw(){return new Date().toISOString().substring(0,10)}function tb(t,e=Xk){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),qw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),qw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qN()?WN().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Yk(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Bw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Bw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function qw(t){return hd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(t){bi(new qs("platform-logger",e=>new _k(e),"PRIVATE")),bi(new qs("heartbeat",e=>new eb(e),"PRIVATE")),xr(Om,Fw,t),xr(Om,Fw,"esm2017"),xr("fire-js","")}rb("");function Py(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Ww(t){return t!==void 0&&t.enterprise!==void 0}class sb{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function RI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ib=RI,NI=new du("auth","Firebase",RI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md=new Cy("@firebase/auth");function ob(t,...e){md.logLevel<=Ie.WARN&&md.warn(`Auth (${qi}): ${t}`,...e)}function Oc(t,...e){md.logLevel<=Ie.ERROR&&md.error(`Auth (${qi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(t,...e){throw Ry(t,...e)}function Ar(t,...e){return Ry(t,...e)}function kI(t,e,n){const r=Object.assign(Object.assign({},ib()),{[e]:n});return new du("auth","Firebase",r).create(e,{appName:t.name})}function ab(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Wn(t,"argument-error"),kI(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ry(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return NI.create(t,...e)}function ce(t,e,...n){if(!t)throw Ry(e,...n)}function qr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Oc(e),new Error(e)}function es(t,e){t||qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function lb(){return Hw()==="http:"||Hw()==="https:"}function Hw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lb()||FN()||"connection"in navigator)?navigator.onLine:!0}function cb(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,es(n>e,"Short delay should be less than long delay!"),this.isMobile=UN()||BN()}get(){return ub()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(t,e){es(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=new fu(3e4,6e4);function Wi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Hi(t,e,n,r,s={}){return OI(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=hu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),bI.fetch()(jI(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function OI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},db),e);try{const s=new fb(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ac(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ac(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ac(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ac(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw kI(t,d,u);Wn(t,d)}}catch(s){if(s instanceof Or)throw s;Wn(t,"network-request-failed",{message:String(s)})}}async function pu(t,e,n,r,s={}){const i=await Hi(t,e,n,r,s);return"mfaPendingCredential"in i&&Wn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function jI(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Ny(t.config,s):`${t.config.apiScheme}://${s}`}class fb{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ar(this.auth,"network-request-failed")),hb.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ac(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ar(t,e,r);return s.customData._tokenResponse=n,s}async function pb(t,e){return Hi(t,"GET","/v2/recaptchaConfig",Wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mb(t,e){return Hi(t,"POST","/v1/accounts:delete",e)}async function gb(t,e){return Hi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yb(t,e=!1){const n=Je(t),r=await n.getIdToken(e),s=ky(r);ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ul(np(s.auth_time)),issuedAtTime:ul(np(s.iat)),expirationTime:ul(np(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function np(t){return Number(t)*1e3}function ky(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const s=_I(n);return s?JSON.parse(s):(Oc("Failed to decode base64 JWT payload"),null)}catch(s){return Oc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function _b(t){const e=ky(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Or&&vb(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function vb({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ul(this.lastLoginAt),this.creationTime=ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gd(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Ml(t,gb(n,{idToken:r}));ce(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Ib(i.providerUserInfo):[],a=Tb(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new DI(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function Eb(t){const e=Je(t);await gd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Tb(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Ib(t){return t.map(e=>{var{providerId:n}=e,r=Py(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sb(t,e){const n=await OI(t,{},async()=>{const r=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=jI(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",bI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_b(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ce(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Sb(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Vl;return r&&(ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ce(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ce(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ti{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Py(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new DI(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ml(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yb(this,e)}reload(){return Eb(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await gd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ml(this,mb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:y,emailVerified:I,isAnonymous:S,providerData:A,stsTokenManager:k}=n;ce(y&&k,e,"internal-error");const O=Vl.fromJSON(this.name,k);ce(typeof y=="string",e,"internal-error"),us(h,e.name),us(f,e.name),ce(typeof I=="boolean",e,"internal-error"),ce(typeof S=="boolean",e,"internal-error"),us(m,e.name),us(_,e.name),us(v,e.name),us(w,e.name),us(g,e.name),us(p,e.name);const $=new Ti({uid:y,auth:e,email:f,emailVerified:I,displayName:h,isAnonymous:S,photoURL:_,phoneNumber:m,tenantId:v,stsTokenManager:O,createdAt:g,lastLoginAt:p});return A&&Array.isArray(A)&&($.providerData=A.map(M=>Object.assign({},M))),w&&($._redirectEventId=w),$}static async _fromIdTokenResponse(e,n,r=!1){const s=new Vl;s.updateFromServerResponse(n);const i=new Ti({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await gd(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=new Map;function Wr(t){es(t instanceof Function,"Expected a class definition");let e=Kw.get(t);return e?(es(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Kw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}LI.type="NONE";const Gw=LI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(t,e,n){return`firebase:${t}:${e}:${n}`}class Ro{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=jc(this.userKey,s.apiKey,i),this.fullPersistenceKey=jc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ti._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ro(Wr(Gw),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Wr(Gw);const o=jc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=Ti._fromJSON(e,d);u!==i&&(a=h),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ro(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Ro(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FI(e))return"Blackberry";if(BI(e))return"Webos";if(by(e))return"Safari";if((e.includes("chrome/")||VI(e))&&!e.includes("edge/"))return"Chrome";if($I(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function MI(t=Zt()){return/firefox\//i.test(t)}function by(t=Zt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VI(t=Zt()){return/crios\//i.test(t)}function UI(t=Zt()){return/iemobile/i.test(t)}function $I(t=Zt()){return/android/i.test(t)}function FI(t=Zt()){return/blackberry/i.test(t)}function BI(t=Zt()){return/webos/i.test(t)}function ph(t=Zt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Cb(t=Zt()){var e;return ph(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xb(){return zN()&&document.documentMode===10}function zI(t=Zt()){return ph(t)||$I(t)||BI(t)||FI(t)||/windows phone/i.test(t)||UI(t)}function Ab(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t,e=[]){let n;switch(t){case"Browser":n=Qw(Zt());break;case"Worker":n=`${Qw(Zt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rb(t,e={}){return Hi(t,"GET","/v2/passwordPolicy",Wi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=6;class kb{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Nb,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jw(this),this.idTokenSubscription=new Jw(this),this.beforeStateQueue=new Pb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ro.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Je(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Rb(this),n=new kb(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new du("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wr(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await Ro.create(this,[Wr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ob(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Xs(t){return Je(t)}class Jw{constructor(e){this.auth=e,this.observer=null,this.addObserver=JN(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function WI(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Ar("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Ob().appendChild(r)})}function jb(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Db="https://www.google.com/recaptcha/enterprise.js?render=",Lb="recaptcha-enterprise",Mb="NO_RECAPTCHA";class Vb{constructor(e){this.type=Lb,this.auth=Xs(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{pb(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new sb(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Ww(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(Mb)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Ww(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}WI(Db+a).then(()=>{s(a,i,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function yd(t,e,n,r=!1){const s=new Vb(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(t,e){const n=fh(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(fd(i,e??{}))return s;Wn(s,"already-initialized")}return n.initialize({options:e})}function $b(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Fb(t,e,n){const r=Xs(t);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=HI(e),{host:o,port:a}=Bb(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||zb()}function HI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Bb(t){const e=HI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Yw(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Yw(o)}}}function Yw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zb(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qr("not implemented")}_getIdTokenResponse(e){return qr("not implemented")}_linkToIdToken(e,n){return qr("not implemented")}_getReauthenticationResolver(e){return qr("not implemented")}}async function qb(t,e){return Hi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rp(t,e){return pu(t,"POST","/v1/accounts:signInWithPassword",Wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wb(t,e){return pu(t,"POST","/v1/accounts:signInWithEmailLink",Wi(t,e))}async function Hb(t,e){return pu(t,"POST","/v1/accounts:signInWithEmailLink",Wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends Oy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ul(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ul(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await yd(e,r,"signInWithPassword");return rp(e,s)}else return rp(e,r).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const i=await yd(e,r,"signInWithPassword");return rp(e,i)}else return Promise.reject(s)});case"emailLink":return Wb(e,{email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return qb(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Hb(e,{idToken:n,email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(t,e){return pu(t,"POST","/v1/accounts:signInWithIdp",Wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="http://localhost";class Oi extends Oy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Oi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Py(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Oi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return No(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,No(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,No(e,n)}buildRequest(){const e={requestUri:Kb,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Qb(t){const e=Wa(Ha(t)).link,n=e?Wa(Ha(e)).deep_link_id:null,r=Wa(Ha(t)).deep_link_id;return(r?Wa(Ha(r)).link:null)||r||n||e||t}class jy{constructor(e){var n,r,s,i,o,a;const l=Wa(Ha(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=Gb((s=l.mode)!==null&&s!==void 0?s:null);ce(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Qb(e);try{return new jy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.providerId=ua.PROVIDER_ID}static credential(e,n){return Ul._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=jy.parseLink(n);return ce(r,"argument-error"),Ul._fromEmailAndCode(e,r.code,r.tenantId)}}ua.PROVIDER_ID="password";ua.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ua.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends Dy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends mu{constructor(){super("facebook.com")}static credential(e){return Oi._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Oi._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return nr.credential(n,r)}catch{return null}}}nr.GOOGLE_SIGN_IN_METHOD="google.com";nr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends mu{constructor(){super("github.com")}static credential(e){return Oi._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.GITHUB_SIGN_IN_METHOD="github.com";gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends mu{constructor(){super("twitter.com")}static credential(e,n){return Oi._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ys.credential(n,r)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sp(t,e){return pu(t,"POST","/v1/accounts:signUp",Wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ti._fromIdTokenResponse(e,r,s),o=Xw(r);return new ji({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Xw(r);return new ji({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Xw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d extends Or{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,_d.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new _d(e,n,r,s)}}function KI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?_d._fromErrorAndOperation(t,i,e,r):i})}async function Jb(t,e,n=!1){const r=await Ml(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ji._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yb(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await Ml(t,KI(r,s,e,t),n);ce(i.idToken,r,"internal-error");const o=ky(i.idToken);ce(o,r,"internal-error");const{sub:a}=o;return ce(t.uid===a,r,"user-mismatch"),ji._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Wn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(t,e,n=!1){const r="signIn",s=await KI(t,r,e),i=await ji._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Xb(t,e){return GI(Xs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(t){const e=Xs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Zb(t,e,n){var r;const s=Xs(t),i={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await yd(s,i,"signUpPassword");o=sp(s,u)}else o=sp(s,i).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=await yd(s,i,"signUpPassword");return sp(s,d)}throw u});const a=await o.catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&QI(t),u}),l=await ji._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function eO(t,e,n){return Xb(Je(t),ua.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&QI(t),r})}function tO(t,e,n,r){return Je(t).onIdTokenChanged(e,n,r)}function nO(t,e,n){return Je(t).beforeAuthStateChanged(e,n)}function rO(t,e,n,r){return Je(t).onAuthStateChanged(e,n,r)}function sO(t){return Je(t).signOut()}const vd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vd,"1"),this.storage.removeItem(vd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(){const t=Zt();return by(t)||ph(t)}const oO=1e3,aO=10;class YI extends JI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=iO()&&Ab(),this.fallbackToPolling=zI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);xb()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,aO):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},oO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}YI.type="LOCAL";const lO=YI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI extends JI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}XI.type="SESSION";const ZI=XI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new mh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await uO(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=Ly("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(){return window}function dO(t){Pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(){return typeof Pr().WorkerGlobalScope<"u"&&typeof Pr().importScripts=="function"}async function hO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function pO(){return eS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="firebaseLocalStorageDb",mO=1,wd="firebaseLocalStorage",nS="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gh(t,e){return t.transaction([wd],e?"readwrite":"readonly").objectStore(wd)}function gO(){const t=indexedDB.deleteDatabase(tS);return new gu(t).toPromise()}function Mm(){const t=indexedDB.open(tS,mO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wd,{keyPath:nS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wd)?e(r):(r.close(),await gO(),e(await Mm()))})})}async function Zw(t,e,n){const r=gh(t,!0).put({[nS]:e,value:n});return new gu(r).toPromise()}async function yO(t,e){const n=gh(t,!1).get(e),r=await new gu(n).toPromise();return r===void 0?null:r.value}function e0(t,e){const n=gh(t,!0).delete(e);return new gu(n).toPromise()}const _O=800,vO=3;class rS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>vO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mh._getInstance(pO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await hO(),!this.activeServiceWorker)return;this.sender=new cO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mm();return await Zw(e,vd,"1"),await e0(e,vd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Zw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>yO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>e0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=gh(s,!1).getAll();return new gu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_O)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rS.type="LOCAL";const wO=rS;new fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(t,e){return e?Wr(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My extends Oy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return No(e,this._buildIdpRequest())}_linkToIdToken(e,n){return No(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return No(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function EO(t){return GI(t.auth,new My(t),t.bypassAuthState)}function TO(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),Yb(n,new My(t),t.bypassAuthState)}async function IO(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),Jb(n,new My(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EO;case"linkViaPopup":case"linkViaRedirect":return IO;case"reauthViaPopup":case"reauthViaRedirect":return TO;default:Wn(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=new fu(2e3,1e4);async function oS(t,e,n){const r=Xs(t);ab(t,e,Dy);const s=sS(r,n);return new pi(r,"signInViaPopup",e,s).executeNotNull()}class pi extends iS{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,pi.currentPopupAction&&pi.currentPopupAction.cancel(),pi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=Ly();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SO.get())};e()}}pi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO="pendingRedirect",Dc=new Map;class xO extends iS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Dc.get(this.auth._key());if(!e){try{const r=await AO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Dc.set(this.auth._key(),e)}return this.bypassAuthState||Dc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AO(t,e){const n=NO(e),r=RO(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function PO(t,e){Dc.set(t._key(),e)}function RO(t){return Wr(t._redirectPersistence)}function NO(t){return jc(CO,t.config.apiKey,t.name)}async function kO(t,e,n=!1){const r=Xs(t),s=sS(r,e),o=await new xO(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=10*60*1e3;class OO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!aS(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ar(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bO&&this.cachedEventUids.clear(),this.cachedEventUids.has(t0(e))}saveEventToCache(e){this.cachedEventUids.add(t0(e)),this.lastProcessedEventTime=Date.now()}}function t0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(t,e={}){return Hi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MO=/^https?/;async function VO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await DO(t);for(const n of e)try{if(UO(n))return}catch{}Wn(t,"unauthorized-domain")}function UO(t){const e=Lm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!MO.test(n))return!1;if(LO.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=new fu(3e4,6e4);function n0(){const t=Pr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function FO(t){return new Promise((e,n)=>{var r,s,i;function o(){n0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{n0(),n(Ar(t,"network-request-failed"))},timeout:$O.get()})}if(!((s=(r=Pr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Pr().gapi)===null||i===void 0)&&i.load)o();else{const a=jb("iframefcb");return Pr()[a]=()=>{gapi.load?o():n(Ar(t,"network-request-failed"))},WI(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Lc=null,e})}let Lc=null;function BO(t){return Lc=Lc||FO(t),Lc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new fu(5e3,15e3),qO="__/auth/iframe",WO="emulator/auth/iframe",HO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GO(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ny(e,WO):`https://${t.config.authDomain}/${qO}`,r={apiKey:e.apiKey,appName:t.name,v:qi},s=KO.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${hu(r).slice(1)}`}async function QO(t){const e=await BO(t),n=Pr().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:GO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HO,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Ar(t,"network-request-failed"),a=Pr().setTimeout(()=>{i(o)},zO.get());function l(){Pr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YO=500,XO=600,ZO="_blank",ej="http://localhost";class r0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tj(t,e,n,r=YO,s=XO){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},JO),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Zt().toLowerCase();n&&(a=VI(u)?ZO:n),MI(u)&&(e=e||ej,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,_])=>`${f}${m}=${_},`,"");if(Cb(u)&&a!=="_self")return nj(e||"",a),new r0(null);const h=window.open(e||"",a,d);ce(h,t,"popup-blocked");try{h.focus()}catch{}return new r0(h)}function nj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj="__/auth/handler",sj="emulator/auth/handler",ij=encodeURIComponent("fac");async function s0(t,e,n,r,s,i){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qi,eventId:s};if(e instanceof Dy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",QN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(i||{}))o[d]=h}if(e instanceof mu){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${ij}=${encodeURIComponent(l)}`:"";return`${oj(t)}?${hu(a).slice(1)}${u}`}function oj({config:t}){return t.emulator?Ny(t,sj):`https://${t.authDomain}/${rj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="webStorageSupport";class aj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZI,this._completeRedirectFn=kO,this._overrideRedirectResult=PO}async _openPopup(e,n,r,s){var i;es((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await s0(e,n,r,Lm(),s);return tj(e,o,Ly())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await s0(e,n,r,Lm(),s);return dO(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(es(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await QO(e),r=new OO(e);return n.register("authEvent",s=>(ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ip,{type:ip},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[ip];o!==void 0&&n(!!o),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zI()||by()||ph()}}const lj=aj;var i0="@firebase/auth",o0="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function dj(t){bi(new qs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qI(t)},u=new bb(r,s,i,l);return $b(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bi(new qs("auth-internal",e=>{const n=Xs(e.getProvider("auth").getImmediate());return(r=>new uj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xr(i0,o0,cj(t)),xr(i0,o0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=5*60,fj=TI("authIdTokenMaxAge")||hj;let a0=null;const pj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>fj)return;const s=n==null?void 0:n.token;a0!==s&&(a0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Pe(t=Ay()){const e=fh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Ub(t,{popupRedirectResolver:lj,persistence:[wO,lO,ZI]}),r=TI("authTokenSyncURL");if(r){const i=pj(r);nO(n,i,()=>i(n.currentUser)),tO(n,o=>i(o))}const s=vI("auth");return s&&Fb(n,`http://${s}`),n}dj("Browser");/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $l(){return $l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$l.apply(this,arguments)}var Ts;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ts||(Ts={}));const l0="popstate";function mj(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Vm("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ed(s)}return yj(e,n,null,t)}function it(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gj(){return Math.random().toString(36).substr(2,8)}function u0(t,e){return{usr:t.state,key:t.key,idx:e}}function Vm(t,e,n,r){return n===void 0&&(n=null),$l({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ca(e):e,{state:n,key:e&&e.key||r||gj()})}function Ed(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ca(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function yj(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ts.Pop,l=null,u=d();u==null&&(u=0,o.replaceState($l({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Ts.Pop;let w=d(),g=w==null?null:w-u;u=w,l&&l({action:a,location:v.location,delta:g})}function f(w,g){a=Ts.Push;let p=Vm(v.location,w,g);n&&n(p,w),u=d()+1;let y=u0(p,u),I=v.createHref(p);try{o.pushState(y,"",I)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(I)}i&&l&&l({action:a,location:v.location,delta:1})}function m(w,g){a=Ts.Replace;let p=Vm(v.location,w,g);n&&n(p,w),u=d();let y=u0(p,u),I=v.createHref(p);o.replaceState(y,"",I),i&&l&&l({action:a,location:v.location,delta:0})}function _(w){let g=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof w=="string"?w:Ed(w);return it(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let v={get action(){return a},get location(){return t(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(l0,h),l=w,()=>{s.removeEventListener(l0,h),l=null}},createHref(w){return e(s,w)},createURL:_,encodeLocation(w){let g=_(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(w){return o.go(w)}};return v}var c0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(c0||(c0={}));function _j(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ca(e):e,s=Uy(r.pathname||"/",n);if(s==null)return null;let i=lS(t);vj(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=Pj(i[a],kj(s));return o}function lS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(it(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ls([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(it(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),lS(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:xj(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of uS(i.path))s(i,o,l)}),e}function uS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=uS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function vj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Aj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wj=/^:\w+$/,Ej=3,Tj=2,Ij=1,Sj=10,Cj=-2,d0=t=>t==="*";function xj(t,e){let n=t.split("/"),r=n.length;return n.some(d0)&&(r+=Cj),e&&(r+=Tj),n.filter(s=>!d0(s)).reduce((s,i)=>s+(wj.test(i)?Ej:i===""?Ij:Sj),r)}function Aj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Pj(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=Rj({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!d)return null;Object.assign(r,d.params);let h=a.route;i.push({params:r,pathname:Ls([s,d.pathname]),pathnameBase:Dj(Ls([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Ls([s,d.pathnameBase]))}return i}function Rj(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Nj(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{if(d==="*"){let f=a[h]||"";o=i.slice(0,i.length-f.length).replace(/(.)\/+$/,"$1")}return u[d]=bj(a[h]||"",d),u},{}),pathname:i,pathnameBase:o,pattern:t}}function Nj(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Vy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function kj(t){try{return decodeURI(t)}catch(e){return Vy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function bj(t,e){try{return decodeURIComponent(t)}catch(n){return Vy(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Uy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Oj(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ca(t):t;return{pathname:n?n.startsWith("/")?n:jj(n,e):e,search:Lj(r),hash:Mj(s)}}function jj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function op(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $y(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fy(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ca(t):(s=$l({},t),it(!s.pathname||!s.pathname.includes("?"),op("?","pathname","search",s)),it(!s.pathname||!s.pathname.includes("#"),op("#","pathname","hash",s)),it(!s.search||!s.search.includes("#"),op("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=Oj(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Ls=t=>t.join("/").replace(/\/\/+/g,"/"),Dj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Lj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Mj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Vj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const cS=["post","put","patch","delete"];new Set(cS);const Uj=["get",...cS];new Set(Uj);/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Td(){return Td=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Td.apply(this,arguments)}const By=T.createContext(null),$j=T.createContext(null),da=T.createContext(null),yh=T.createContext(null),as=T.createContext({outlet:null,matches:[],isDataRoute:!1}),dS=T.createContext(null);function Fj(t,e){let{relative:n}=e===void 0?{}:e;ha()||it(!1);let{basename:r,navigator:s}=T.useContext(da),{hash:i,pathname:o,search:a}=fS(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ls([r,o])),s.createHref({pathname:l,search:a,hash:i})}function ha(){return T.useContext(yh)!=null}function yu(){return ha()||it(!1),T.useContext(yh).location}function hS(t){T.useContext(da).static||T.useLayoutEffect(t)}function jr(){let{isDataRoute:t}=T.useContext(as);return t?tD():Bj()}function Bj(){ha()||it(!1);let t=T.useContext(By),{basename:e,navigator:n}=T.useContext(da),{matches:r}=T.useContext(as),{pathname:s}=yu(),i=JSON.stringify($y(r).map(l=>l.pathnameBase)),o=T.useRef(!1);return hS(()=>{o.current=!0}),T.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=Fy(l,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ls([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,i,s,t])}function zj(){let{matches:t}=T.useContext(as),e=t[t.length-1];return e?e.params:{}}function fS(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=T.useContext(as),{pathname:s}=yu(),i=JSON.stringify($y(r).map(o=>o.pathnameBase));return T.useMemo(()=>Fy(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function qj(t,e){return Wj(t,e)}function Wj(t,e,n){ha()||it(!1);let{navigator:r}=T.useContext(da),{matches:s}=T.useContext(as),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let l=yu(),u;if(e){var d;let v=typeof e=="string"?ca(e):e;a==="/"||(d=v.pathname)!=null&&d.startsWith(a)||it(!1),u=v}else u=l;let h=u.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",m=_j(t,{pathname:f}),_=Jj(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Ls([a,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:Ls([a,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n);return e&&_?T.createElement(yh.Provider,{value:{location:Td({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ts.Pop}},_):_}function Hj(){let t=eD(),e=Vj(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:s},n):null,i)}const Kj=T.createElement(Hj,null);class Gj extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?T.createElement(as.Provider,{value:this.props.routeContext},T.createElement(dS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Qj(t){let{routeContext:e,match:n,children:r}=t,s=T.useContext(By);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(as.Provider,{value:e},r)}function Jj(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let i=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=i.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||it(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((a,l,u)=>{let d=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||Kj);let f=e.concat(i.slice(0,u+1)),m=()=>{let _;return d?_=h:l.route.Component?_=T.createElement(l.route.Component,null):l.route.element?_=l.route.element:_=a,T.createElement(Qj,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:_})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?T.createElement(Gj,{location:n.location,revalidation:n.revalidation,component:h,error:d,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()},null)}var pS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(pS||{}),Id=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Id||{});function Yj(t){let e=T.useContext(By);return e||it(!1),e}function Xj(t){let e=T.useContext($j);return e||it(!1),e}function Zj(t){let e=T.useContext(as);return e||it(!1),e}function mS(t){let e=Zj(),n=e.matches[e.matches.length-1];return n.route.id||it(!1),n.route.id}function eD(){var t;let e=T.useContext(dS),n=Xj(Id.UseRouteError),r=mS(Id.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function tD(){let{router:t}=Yj(pS.UseNavigateStable),e=mS(Id.UseNavigateStable),n=T.useRef(!1);return hS(()=>{n.current=!0}),T.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Td({fromRouteId:e},i)))},[t,e])}function nD(t){let{to:e,replace:n,state:r,relative:s}=t;ha()||it(!1);let{matches:i}=T.useContext(as),{pathname:o}=yu(),a=jr(),l=Fy(e,$y(i).map(d=>d.pathnameBase),o,s==="path"),u=JSON.stringify(l);return T.useEffect(()=>a(JSON.parse(u),{replace:n,state:r,relative:s}),[a,u,s,n,r]),null}function mr(t){it(!1)}function rD(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ts.Pop,navigator:i,static:o=!1}=t;ha()&&it(!1);let a=e.replace(/^\/*/,"/"),l=T.useMemo(()=>({basename:a,navigator:i,static:o}),[a,i,o]);typeof r=="string"&&(r=ca(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:m="default"}=r,_=T.useMemo(()=>{let v=Uy(u,a);return v==null?null:{location:{pathname:v,search:d,hash:h,state:f,key:m},navigationType:s}},[a,u,d,h,f,m,s]);return _==null?null:T.createElement(da.Provider,{value:l},T.createElement(yh.Provider,{children:n,value:_}))}function sD(t){let{children:e,location:n}=t;return qj(Um(e),n)}new Promise(()=>{});function Um(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,s)=>{if(!T.isValidElement(r))return;let i=[...e,s];if(r.type===T.Fragment){n.push.apply(n,Um(r.props.children,i));return}r.type!==mr&&it(!1),!r.props.index||!r.props.children||it(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Um(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $m(){return $m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$m.apply(this,arguments)}function iD(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function oD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aD(t,e){return t.button===0&&(!e||e==="_self")&&!oD(t)}const lD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],uD="startTransition",h0=EP[uD];function cD(t){let{basename:e,children:n,future:r,window:s}=t,i=T.useRef();i.current==null&&(i.current=mj({window:s,v5Compat:!0}));let o=i.current,[a,l]=T.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=T.useCallback(h=>{u&&h0?h0(()=>l(h)):l(h)},[l,u]);return T.useLayoutEffect(()=>o.listen(d),[o,d]),T.createElement(rD,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const dD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wt=T.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d}=e,h=iD(e,lD),{basename:f}=T.useContext(da),m,_=!1;if(typeof u=="string"&&hD.test(u)&&(m=u,dD))try{let p=new URL(window.location.href),y=u.startsWith("//")?new URL(p.protocol+u):new URL(u),I=Uy(y.pathname,f);y.origin===p.origin&&I!=null?u=I+y.search+y.hash:_=!0}catch{}let v=Fj(u,{relative:s}),w=fD(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s});function g(p){r&&r(p),p.defaultPrevented||w(p)}return T.createElement("a",$m({},h,{href:m||v,onClick:_||i?r:g,ref:n,target:l}))});var f0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(f0||(f0={}));var p0;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(p0||(p0={}));function fD(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o}=e===void 0?{}:e,a=jr(),l=yu(),u=fS(t,{relative:o});return T.useCallback(d=>{if(aD(d,n)){d.preventDefault();let h=r!==void 0?r:Ed(l)===Ed(u);a(t,{replace:h,state:s,preventScrollReset:i,relative:o})}},[l,a,u,r,s,n,t,i,o])}const _u=T.createContext(),gS=()=>T.useContext(_u),eo=({children:t})=>{const{user:e,isLoadingAuth:n}=T.useContext(_u);return n?null:e?t:c.jsx(nD,{to:"/login",replace:!0})},pD="_container_cnomo_1",mD="_nav_cnomo_9",gD="_logoContainer_cnomo_15",yD="_logo_cnomo_15",_D="_logoTitle_cnomo_25",vD="_linksContainer_cnomo_40",wD="_link_cnomo_40",ED="_homeImgContainer_cnomo_60",TD="_homeImg_cnomo_60",ID="_linkBtn_cnomo_75",jn={container:pD,nav:mD,logoContainer:gD,logo:yD,logoTitle:_D,linksContainer:vD,link:wD,homeImgContainer:ED,homeImg:TD,linkBtn:ID},SD="_loading_xrayy_1",CD="_spinner_xrayy_9",xD="_spin_xrayy_9",m0={loading:SD,spinner:CD,spin:xD},yS=()=>c.jsxs("div",{className:m0.loading,children:[c.jsx("div",{className:m0.spinner}),c.jsx("h2",{children:"Loading..."})]}),AD=()=>{const{user:t}=T.useContext(_u),e=jr(),[n,r]=T.useState(!0);return T.useEffect(()=>{t?e("/feed"):r(!1)},[t,e]),c.jsx("div",{className:jn.container,children:n?c.jsx(yS,{}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:jn.nav,children:[c.jsxs("div",{className:jn.logoContainer,children:[c.jsx("img",{src:"/public/logo.jpg",alt:"Your Logo",className:jn.logo}),c.jsx("div",{className:jn.logoTitle,children:c.jsx("h1",{children:"TAKE OFF"})})]}),c.jsxs("div",{className:jn.linksContainer,children:[c.jsx("button",{className:jn.linkBtn,children:c.jsx(Wt,{to:"/register",className:jn.link,children:"JOIN NOW"})}),c.jsx("button",{className:jn.linkBtn,children:c.jsx(Wt,{to:"/login",className:jn.link,children:"SIGN IN"})})]})]}),c.jsx("div",{className:jn.homeImgContainer,children:c.jsx("img",{alt:"home",className:jn.homeImg,src:"/public/homepage.svg"})})]})})},PD="_loginForm_tpvyz_5",RD="_formContent_tpvyz_15",ND="_formInput_tpvyz_19",kD="_errors_tpvyz_23",bD="_signInBtn_tpvyz_28",OD="_dividerContainer_tpvyz_43",jD="_divider_tpvyz_43",DD="_dividerContent_tpvyz_59",LD="_googleSignIn_tpvyz_67",MD="_registerContainer_tpvyz_81",VD="_formGroup_tpvyz_98",UD="_error_tpvyz_23",$D="_passwordContainer_tpvyz_162",FD="_registerButton_tpvyz_1",BD="_GSignInBtn_tpvyz_197",pr={loginForm:PD,formContent:RD,formInput:ND,errors:kD,signInBtn:bD,dividerContainer:OD,divider:jD,dividerContent:DD,googleSignIn:LD,registerContainer:MD,formGroup:VD,error:UD,passwordContainer:$D,registerButton:FD,GSignInBtn:BD};var vu=t=>t.type==="checkbox",wo=t=>t instanceof Date,rn=t=>t==null;const _S=t=>typeof t=="object";var wt=t=>!rn(t)&&!Array.isArray(t)&&_S(t)&&!wo(t),zD=t=>wt(t)&&t.target?vu(t.target)?t.target.checked:t.target.value:t,qD=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,WD=(t,e)=>t.has(qD(e)),HD=t=>{const e=t.constructor&&t.constructor.prototype;return wt(e)&&e.hasOwnProperty("isPrototypeOf")},zy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ur(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(zy&&(t instanceof Blob||t instanceof FileList))&&(n||wt(t)))if(e=n?[]:{},!n&&!HD(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Ur(t[r]));else return t;return e}var wu=t=>Array.isArray(t)?t.filter(Boolean):[],ct=t=>t===void 0,se=(t,e,n)=>{if(!e||!wt(t))return n;const r=wu(e.split(/[,[\].]+?/)).reduce((s,i)=>rn(s)?s:s[i],t);return ct(r)||r===t?ct(t[e])?n:t[e]:r},mi=t=>typeof t=="boolean";const g0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},rr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Lr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};bt.createContext(null);var KD=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==rr.all&&(e._proxyFormState[o]=!r||rr.all),n&&(n[o]=!0),t[o]}});return s},Dn=t=>wt(t)&&!Object.keys(t).length,GD=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Dn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||rr.all))},ap=t=>Array.isArray(t)?t:[t];function QD(t){const e=bt.useRef(t);e.current=t,bt.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var wr=t=>typeof t=="string",JD=(t,e,n,r,s)=>wr(t)?(r&&e.watch.add(t),se(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),se(n,i))):(r&&(e.watchAll=!0),n),qy=t=>/^\w*$/.test(t),vS=t=>wu(t.replace(/["|']|\]/g,"").split(/\.|\[/));function ze(t,e,n){let r=-1;const s=qy(e)?[e]:vS(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const u=t[a];l=wt(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}t[a]=l,t=t[a]}return t}var YD=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{};const Fm=(t,e,n)=>{for(const r of n||Object.keys(t)){const s=se(t,r);if(s){const{_f:i,...o}=s;if(i&&e(i.name)){if(i.ref.focus){i.ref.focus();break}else if(i.refs&&i.refs[0].focus){i.refs[0].focus();break}}else wt(o)&&Fm(o,e)}}};var y0=t=>({isOnSubmit:!t||t===rr.onSubmit,isOnBlur:t===rr.onBlur,isOnChange:t===rr.onChange,isOnAll:t===rr.all,isOnTouch:t===rr.onTouched}),_0=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),XD=(t,e,n)=>{const r=wu(se(t,n));return ze(r,"root",e[n]),ze(t,n,r),t},Wy=t=>t.type==="file",Is=t=>typeof t=="function",Sd=t=>{if(!zy)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Mc=t=>wr(t),Hy=t=>t.type==="radio",Cd=t=>t instanceof RegExp;const v0={value:!1,isValid:!1},w0={value:!0,isValid:!0};var wS=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ct(t[0].attributes.value)?ct(t[0].value)||t[0].value===""?w0:{value:t[0].value,isValid:!0}:w0:v0}return v0};const E0={isValid:!1,value:null};var ES=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,E0):E0;function T0(t,e,n="validate"){if(Mc(t)||Array.isArray(t)&&t.every(Mc)||mi(t)&&!t)return{type:n,message:Mc(t)?t:"",ref:e}}var to=t=>wt(t)&&!Cd(t)?t:{value:t,message:""},I0=async(t,e,n,r,s)=>{const{ref:i,refs:o,required:a,maxLength:l,minLength:u,min:d,max:h,pattern:f,validate:m,name:_,valueAsNumber:v,mount:w,disabled:g}=t._f,p=se(e,_);if(!w||g)return{};const y=o?o[0]:i,I=W=>{r&&y.reportValidity&&(y.setCustomValidity(mi(W)?"":W||""),y.reportValidity())},S={},A=Hy(i),k=vu(i),O=A||k,$=(v||Wy(i))&&ct(i.value)&&ct(p)||Sd(i)&&i.value===""||p===""||Array.isArray(p)&&!p.length,M=YD.bind(null,_,n,S),J=(W,Z,R,b=Lr.maxLength,K=Lr.minLength)=>{const C=W?Z:R;S[_]={type:W?b:K,message:C,ref:i,...M(W?b:K,C)}};if(s?!Array.isArray(p)||!p.length:a&&(!O&&($||rn(p))||mi(p)&&!p||k&&!wS(o).isValid||A&&!ES(o).isValid)){const{value:W,message:Z}=Mc(a)?{value:!!a,message:a}:to(a);if(W&&(S[_]={type:Lr.required,message:Z,ref:y,...M(Lr.required,Z)},!n))return I(Z),S}if(!$&&(!rn(d)||!rn(h))){let W,Z;const R=to(h),b=to(d);if(!rn(p)&&!isNaN(p)){const K=i.valueAsNumber||p&&+p;rn(R.value)||(W=K>R.value),rn(b.value)||(Z=K<b.value)}else{const K=i.valueAsDate||new Date(p),C=U=>new Date(new Date().toDateString()+" "+U),x=i.type=="time",z=i.type=="week";wr(R.value)&&p&&(W=x?C(p)>C(R.value):z?p>R.value:K>new Date(R.value)),wr(b.value)&&p&&(Z=x?C(p)<C(b.value):z?p<b.value:K<new Date(b.value))}if((W||Z)&&(J(!!W,R.message,b.message,Lr.max,Lr.min),!n))return I(S[_].message),S}if((l||u)&&!$&&(wr(p)||s&&Array.isArray(p))){const W=to(l),Z=to(u),R=!rn(W.value)&&p.length>+W.value,b=!rn(Z.value)&&p.length<+Z.value;if((R||b)&&(J(R,W.message,Z.message),!n))return I(S[_].message),S}if(f&&!$&&wr(p)){const{value:W,message:Z}=to(f);if(Cd(W)&&!p.match(W)&&(S[_]={type:Lr.pattern,message:Z,ref:i,...M(Lr.pattern,Z)},!n))return I(Z),S}if(m){if(Is(m)){const W=await m(p,e),Z=T0(W,y);if(Z&&(S[_]={...Z,...M(Lr.validate,Z.message)},!n))return I(Z.message),S}else if(wt(m)){let W={};for(const Z in m){if(!Dn(W)&&!n)break;const R=T0(await m[Z](p,e),y,Z);R&&(W={...R,...M(Z,R.message)},I(R.message),n&&(S[_]=W))}if(!Dn(W)&&(S[_]={ref:y,...W},!n))return S}}return I(!0),S};function ZD(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=ct(t)?r++:t[e[r++]];return t}function e2(t){for(const e in t)if(t.hasOwnProperty(e)&&!ct(t[e]))return!1;return!0}function Pt(t,e){const n=Array.isArray(e)?e:qy(e)?[e]:vS(e),r=n.length===1?t:ZD(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(wt(r)&&Dn(r)||Array.isArray(r)&&e2(r))&&Pt(t,n.slice(0,-1)),t}function lp(){let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}}var xd=t=>rn(t)||!_S(t);function gi(t,e){if(xd(t)||xd(e))return t===e;if(wo(t)&&wo(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(wo(i)&&wo(o)||wt(i)&&wt(o)||Array.isArray(i)&&Array.isArray(o)?!gi(i,o):i!==o)return!1}}return!0}var TS=t=>t.type==="select-multiple",t2=t=>Hy(t)||vu(t),up=t=>Sd(t)&&t.isConnected,IS=t=>{for(const e in t)if(Is(t[e]))return!0;return!1};function Ad(t,e={}){const n=Array.isArray(t);if(wt(t)||n)for(const r in t)Array.isArray(t[r])||wt(t[r])&&!IS(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Ad(t[r],e[r])):rn(t[r])||(e[r]=!0);return e}function SS(t,e,n){const r=Array.isArray(t);if(wt(t)||r)for(const s in t)Array.isArray(t[s])||wt(t[s])&&!IS(t[s])?ct(e)||xd(n[s])?n[s]=Array.isArray(t[s])?Ad(t[s],[]):{...Ad(t[s])}:SS(t[s],rn(e)?{}:e[s],n[s]):n[s]=!gi(t[s],e[s]);return n}var cp=(t,e)=>SS(t,e,Ad(e)),CS=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>ct(t)?t:e?t===""?NaN:t&&+t:n&&wr(t)?new Date(t):r?r(t):t;function dp(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return Wy(e)?e.files:Hy(e)?ES(t.refs).value:TS(e)?[...e.selectedOptions].map(({value:n})=>n):vu(e)?wS(t.refs).value:CS(ct(e.value)?t.ref.value:e.value,t)}var n2=(t,e,n,r)=>{const s={};for(const i of t){const o=se(e,i);o&&ze(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},La=t=>ct(t)?t:Cd(t)?t.source:wt(t)?Cd(t.value)?t.value.source:t.value:t,r2=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function S0(t,e,n){const r=se(t,n);if(r||qy(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=se(e,i),a=se(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var s2=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,i2=(t,e)=>!wu(se(t,e)).length&&Pt(t,e);const o2={mode:rr.onSubmit,reValidateMode:rr.onChange,shouldFocusError:!0};function a2(t={},e){let n={...o2,...t},r={submitCount:0,isDirty:!1,isLoading:Is(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},s={},i=wt(n.defaultValues)||wt(n.values)?Ur(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:Ur(i),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:lp(),array:lp(),state:lp()},m=t.resetOptions&&t.resetOptions.keepDirtyValues,_=y0(n.mode),v=y0(n.reValidateMode),w=n.criteriaMode===rr.all,g=E=>P=>{clearTimeout(d),d=setTimeout(E,P)},p=async E=>{if(h.isValid||E){const P=n.resolver?Dn((await $()).errors):await J(s,!0);P!==r.isValid&&f.state.next({isValid:P})}},y=E=>h.isValidating&&f.state.next({isValidating:E}),I=(E,P=[],N,Q,q=!0,D=!0)=>{if(Q&&N){if(a.action=!0,D&&Array.isArray(se(s,E))){const re=N(se(s,E),Q.argA,Q.argB);q&&ze(s,E,re)}if(D&&Array.isArray(se(r.errors,E))){const re=N(se(r.errors,E),Q.argA,Q.argB);q&&ze(r.errors,E,re),i2(r.errors,E)}if(h.touchedFields&&D&&Array.isArray(se(r.touchedFields,E))){const re=N(se(r.touchedFields,E),Q.argA,Q.argB);q&&ze(r.touchedFields,E,re)}h.dirtyFields&&(r.dirtyFields=cp(i,o)),f.state.next({name:E,isDirty:Z(E,P),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ze(o,E,P)},S=(E,P)=>{ze(r.errors,E,P),f.state.next({errors:r.errors})},A=(E,P,N,Q)=>{const q=se(s,E);if(q){const D=se(o,E,ct(N)?se(i,E):N);ct(D)||Q&&Q.defaultChecked||P?ze(o,E,P?D:dp(q._f)):K(E,D),a.mount&&p()}},k=(E,P,N,Q,q)=>{let D=!1,re=!1;const Ae={name:E};if(!N||Q){h.isDirty&&(re=r.isDirty,r.isDirty=Ae.isDirty=Z(),D=re!==Ae.isDirty);const Le=gi(se(i,E),P);re=se(r.dirtyFields,E),Le?Pt(r.dirtyFields,E):ze(r.dirtyFields,E,!0),Ae.dirtyFields=r.dirtyFields,D=D||h.dirtyFields&&re!==!Le}if(N){const Le=se(r.touchedFields,E);Le||(ze(r.touchedFields,E,N),Ae.touchedFields=r.touchedFields,D=D||h.touchedFields&&Le!==N)}return D&&q&&f.state.next(Ae),D?Ae:{}},O=(E,P,N,Q)=>{const q=se(r.errors,E),D=h.isValid&&mi(P)&&r.isValid!==P;if(t.delayError&&N?(u=g(()=>S(E,N)),u(t.delayError)):(clearTimeout(d),u=null,N?ze(r.errors,E,N):Pt(r.errors,E)),(N?!gi(q,N):q)||!Dn(Q)||D){const re={...Q,...D&&mi(P)?{isValid:P}:{},errors:r.errors,name:E};r={...r,...re},f.state.next(re)}y(!1)},$=async E=>n.resolver(o,n.context,n2(E||l.mount,s,n.criteriaMode,n.shouldUseNativeValidation)),M=async E=>{const{errors:P}=await $(E);if(E)for(const N of E){const Q=se(P,N);Q?ze(r.errors,N,Q):Pt(r.errors,N)}else r.errors=P;return P},J=async(E,P,N={valid:!0})=>{for(const Q in E){const q=E[Q];if(q){const{_f:D,...re}=q;if(D){const Ae=l.array.has(D.name),Le=await I0(q,o,w,n.shouldUseNativeValidation&&!P,Ae);if(Le[D.name]&&(N.valid=!1,P))break;!P&&(se(Le,D.name)?Ae?XD(r.errors,Le,D.name):ze(r.errors,D.name,Le[D.name]):Pt(r.errors,D.name))}re&&await J(re,P,N)}}return N.valid},W=()=>{for(const E of l.unMount){const P=se(s,E);P&&(P._f.refs?P._f.refs.every(N=>!up(N)):!up(P._f.ref))&&rt(E)}l.unMount=new Set},Z=(E,P)=>(E&&P&&ze(o,E,P),!gi(ne(),i)),R=(E,P,N)=>JD(E,l,{...a.mount?o:ct(P)?i:wr(E)?{[E]:P}:P},N,P),b=E=>wu(se(a.mount?o:i,E,t.shouldUnregister?se(i,E,[]):[])),K=(E,P,N={})=>{const Q=se(s,E);let q=P;if(Q){const D=Q._f;D&&(!D.disabled&&ze(o,E,CS(P,D)),q=Sd(D.ref)&&rn(P)?"":P,TS(D.ref)?[...D.ref.options].forEach(re=>re.selected=q.includes(re.value)):D.refs?vu(D.ref)?D.refs.length>1?D.refs.forEach(re=>(!re.defaultChecked||!re.disabled)&&(re.checked=Array.isArray(q)?!!q.find(Ae=>Ae===re.value):q===re.value)):D.refs[0]&&(D.refs[0].checked=!!q):D.refs.forEach(re=>re.checked=re.value===q):Wy(D.ref)?D.ref.value="":(D.ref.value=q,D.ref.type||f.values.next({name:E,values:{...o}})))}(N.shouldDirty||N.shouldTouch)&&k(E,q,N.shouldTouch,N.shouldDirty,!0),N.shouldValidate&&U(E)},C=(E,P,N)=>{for(const Q in P){const q=P[Q],D=`${E}.${Q}`,re=se(s,D);(l.array.has(E)||!xd(q)||re&&!re._f)&&!wo(q)?C(D,q,N):K(D,q,N)}},x=(E,P,N={})=>{const Q=se(s,E),q=l.array.has(E),D=Ur(P);ze(o,E,D),q?(f.array.next({name:E,values:{...o}}),(h.isDirty||h.dirtyFields)&&N.shouldDirty&&f.state.next({name:E,dirtyFields:cp(i,o),isDirty:Z(E,D)})):Q&&!Q._f&&!rn(D)?C(E,D,N):K(E,D,N),_0(E,l)&&f.state.next({...r}),f.values.next({name:E,values:{...o}}),!a.mount&&e()},z=async E=>{const P=E.target;let N=P.name,Q=!0;const q=se(s,N),D=()=>P.type?dp(q._f):zD(E);if(q){let re,Ae;const Le=D(),Dr=E.type===g0.BLUR||E.type===g0.FOCUS_OUT,Sa=!r2(q._f)&&!n.resolver&&!se(r.errors,N)&&!q._f.deps||s2(Dr,se(r.touchedFields,N),r.isSubmitted,v,_),Ca=_0(N,l,Dr);ze(o,N,Le),Dr?(q._f.onBlur&&q._f.onBlur(E),u&&u(0)):q._f.onChange&&q._f.onChange(E);const si=k(N,Le,Dr,!1),$u=!Dn(si)||Ca;if(!Dr&&f.values.next({name:N,type:E.type,values:{...o}}),Sa)return h.isValid&&p(),$u&&f.state.next({name:N,...Ca?{}:si});if(!Dr&&Ca&&f.state.next({...r}),y(!0),n.resolver){const{errors:Fu}=await $([N]),On=S0(r.errors,s,N),xa=S0(Fu,s,On.name||N);re=xa.error,N=xa.name,Ae=Dn(Fu)}else re=(await I0(q,o,w,n.shouldUseNativeValidation))[N],Q=Number.isNaN(Le)||Le===se(o,N,Le),Q&&(re?Ae=!1:h.isValid&&(Ae=await J(s,!0)));Q&&(q._f.deps&&U(q._f.deps),O(N,Ae,re,si))}},U=async(E,P={})=>{let N,Q;const q=ap(E);if(y(!0),n.resolver){const D=await M(ct(E)?E:q);N=Dn(D),Q=E?!q.some(re=>se(D,re)):N}else E?(Q=(await Promise.all(q.map(async D=>{const re=se(s,D);return await J(re&&re._f?{[D]:re}:re)}))).every(Boolean),!(!Q&&!r.isValid)&&p()):Q=N=await J(s);return f.state.next({...!wr(E)||h.isValid&&N!==r.isValid?{}:{name:E},...n.resolver||!E?{isValid:N}:{},errors:r.errors,isValidating:!1}),P.shouldFocus&&!Q&&Fm(s,D=>D&&se(r.errors,D),E?q:l.mount),Q},ne=E=>{const P={...i,...a.mount?o:{}};return ct(E)?P:wr(E)?se(P,E):E.map(N=>se(P,N))},fe=(E,P)=>({invalid:!!se((P||r).errors,E),isDirty:!!se((P||r).dirtyFields,E),isTouched:!!se((P||r).touchedFields,E),error:se((P||r).errors,E)}),Oe=E=>{E&&ap(E).forEach(P=>Pt(r.errors,P)),f.state.next({errors:E?r.errors:{}})},je=(E,P,N)=>{const Q=(se(s,E,{_f:{}})._f||{}).ref;ze(r.errors,E,{...P,ref:Q}),f.state.next({name:E,errors:r.errors,isValid:!1}),N&&N.shouldFocus&&Q&&Q.focus&&Q.focus()},Vt=(E,P)=>Is(E)?f.values.subscribe({next:N=>E(R(void 0,P),N)}):R(E,P,!0),rt=(E,P={})=>{for(const N of E?ap(E):l.mount)l.mount.delete(N),l.array.delete(N),P.keepValue||(Pt(s,N),Pt(o,N)),!P.keepError&&Pt(r.errors,N),!P.keepDirty&&Pt(r.dirtyFields,N),!P.keepTouched&&Pt(r.touchedFields,N),!n.shouldUnregister&&!P.keepDefaultValue&&Pt(i,N);f.values.next({values:{...o}}),f.state.next({...r,...P.keepDirty?{isDirty:Z()}:{}}),!P.keepIsValid&&p()},ot=({disabled:E,name:P,field:N,fields:Q})=>{if(mi(E)){const q=E?void 0:se(o,P,dp(N?N._f:se(Q,P)._f));ze(o,P,q),k(P,q,!1,!1,!0)}},yn=(E,P={})=>{let N=se(s,E);const Q=mi(P.disabled);return ze(s,E,{...N||{},_f:{...N&&N._f?N._f:{ref:{name:E}},name:E,mount:!0,...P}}),l.mount.add(E),N?ot({field:N,disabled:P.disabled,name:E}):A(E,!0,P.value),{...Q?{disabled:P.disabled}:{},...n.progressive?{required:!!P.required,min:La(P.min),max:La(P.max),minLength:La(P.minLength),maxLength:La(P.maxLength),pattern:La(P.pattern)}:{},name:E,onChange:z,onBlur:z,ref:q=>{if(q){yn(E,P),N=se(s,E);const D=ct(q.value)&&q.querySelectorAll&&q.querySelectorAll("input,select,textarea")[0]||q,re=t2(D),Ae=N._f.refs||[];if(re?Ae.find(Le=>Le===D):D===N._f.ref)return;ze(s,E,{_f:{...N._f,...re?{refs:[...Ae.filter(up),D,...Array.isArray(se(i,E))?[{}]:[]],ref:{type:D.type,name:E}}:{ref:D}}}),A(E,!1,void 0,D)}else N=se(s,E,{}),N._f&&(N._f.mount=!1),(n.shouldUnregister||P.shouldUnregister)&&!(WD(l.array,E)&&a.action)&&l.unMount.add(E)}}},Kn=()=>n.shouldFocusError&&Fm(s,E=>E&&se(r.errors,E),l.mount),kn=(E,P)=>async N=>{N&&(N.preventDefault&&N.preventDefault(),N.persist&&N.persist());let Q=Ur(o);if(f.state.next({isSubmitting:!0}),n.resolver){const{errors:q,values:D}=await $();r.errors=q,Q=D}else await J(s);Pt(r.errors,"root"),Dn(r.errors)?(f.state.next({errors:{}}),await E(Q,N)):(P&&await P({...r.errors},N),Kn(),setTimeout(Kn)),f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Dn(r.errors),submitCount:r.submitCount+1,errors:r.errors})},bn=(E,P={})=>{se(s,E)&&(ct(P.defaultValue)?x(E,se(i,E)):(x(E,P.defaultValue),ze(i,E,P.defaultValue)),P.keepTouched||Pt(r.touchedFields,E),P.keepDirty||(Pt(r.dirtyFields,E),r.isDirty=P.defaultValue?Z(E,se(i,E)):Z()),P.keepError||(Pt(r.errors,E),h.isValid&&p()),f.state.next({...r}))},Gn=(E,P={})=>{const N=E?Ur(E):i,Q=Ur(N),q=E&&!Dn(E)?Q:i;if(P.keepDefaultValues||(i=N),!P.keepValues){if(P.keepDirtyValues||m)for(const D of l.mount)se(r.dirtyFields,D)?ze(q,D,se(o,D)):x(D,se(q,D));else{if(zy&&ct(E))for(const D of l.mount){const re=se(s,D);if(re&&re._f){const Ae=Array.isArray(re._f.refs)?re._f.refs[0]:re._f.ref;if(Sd(Ae)){const Le=Ae.closest("form");if(Le){Le.reset();break}}}}s={}}o=t.shouldUnregister?P.keepDefaultValues?Ur(i):{}:Ur(q),f.array.next({values:{...q}}),f.values.next({values:{...q}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!h.isValid||!!P.keepIsValid,a.watch=!!t.shouldUnregister,f.state.next({submitCount:P.keepSubmitCount?r.submitCount:0,isDirty:P.keepDirty?r.isDirty:!!(P.keepDefaultValues&&!gi(E,i)),isSubmitted:P.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:P.keepDirtyValues?r.dirtyFields:P.keepDefaultValues&&E?cp(i,E):{},touchedFields:P.keepTouched?r.touchedFields:{},errors:P.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},ri=(E,P)=>Gn(Is(E)?E(o):E,P);return{control:{register:yn,unregister:rt,getFieldState:fe,handleSubmit:kn,setError:je,_executeSchema:$,_getWatch:R,_getDirty:Z,_updateValid:p,_removeUnmounted:W,_updateFieldArray:I,_updateDisabledField:ot,_getFieldArray:b,_reset:Gn,_resetDefaultValues:()=>Is(n.defaultValues)&&n.defaultValues().then(E=>{ri(E,n.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:E=>{r={...r,...E}},_subjects:f,_proxyFormState:h,get _fields(){return s},get _formValues(){return o},get _state(){return a},set _state(E){a=E},get _defaultValues(){return i},get _names(){return l},set _names(E){l=E},get _formState(){return r},set _formState(E){r=E},get _options(){return n},set _options(E){n={...n,...E}}},trigger:U,register:yn,handleSubmit:kn,watch:Vt,setValue:x,getValues:ne,reset:ri,resetField:bn,clearErrors:Oe,unregister:rt,setError:je,setFocus:(E,P={})=>{const N=se(s,E),Q=N&&N._f;if(Q){const q=Q.refs?Q.refs[0]:Q.ref;q.focus&&(q.focus(),P.shouldSelect&&q.select())}},getFieldState:fe}}function Ky(t={}){const e=bt.useRef(),n=bt.useRef(),[r,s]=bt.useState({isDirty:!1,isValidating:!1,isLoading:Is(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Is(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...a2(t,()=>s(o=>({...o}))),formState:r});const i=e.current.control;return i._options=t,QD({subject:i._subjects.state,next:o=>{GD(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),bt.useEffect(()=>{t.values&&!gi(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values):i._resetDefaultValues()},[t.values,i]),bt.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=KD(r,i),e.current}var xS={exports:{}},AS={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ko=T;function l2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var u2=typeof Object.is=="function"?Object.is:l2,c2=Ko.useState,d2=Ko.useEffect,h2=Ko.useLayoutEffect,f2=Ko.useDebugValue;function p2(t,e){var n=e(),r=c2({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return h2(function(){s.value=n,s.getSnapshot=e,hp(s)&&i({inst:s})},[t,n,e]),d2(function(){return hp(s)&&i({inst:s}),t(function(){hp(s)&&i({inst:s})})},[t]),f2(n),n}function hp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!u2(t,n)}catch{return!0}}function m2(t,e){return e()}var g2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m2:p2;AS.useSyncExternalStore=Ko.useSyncExternalStore!==void 0?Ko.useSyncExternalStore:g2;xS.exports=AS;var y2=xS.exports,_2={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _h=T,v2=y2;function w2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var E2=typeof Object.is=="function"?Object.is:w2,T2=v2.useSyncExternalStore,I2=_h.useRef,S2=_h.useEffect,C2=_h.useMemo,x2=_h.useDebugValue;_2.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=I2(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=C2(function(){function l(m){if(!u){if(u=!0,d=m,m=r(m),s!==void 0&&o.hasValue){var _=o.value;if(s(_,m))return h=_}return h=m}if(_=h,E2(d,m))return _;var v=r(m);return s!==void 0&&s(_,v)?_:(d=m,h=v)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,s]);var a=T2(t,i[0],i[1]);return S2(function(){o.hasValue=!0,o.value=a},[a]),x2(a),a};function A2(t){t()}let PS=A2;const P2=t=>PS=t,R2=()=>PS,C0=Symbol.for("react-redux-context"),x0=typeof globalThis<"u"?globalThis:{};function N2(){var t;if(!T.createContext)return{};const e=(t=x0[C0])!=null?t:x0[C0]=new Map;let n=e.get(T.createContext);return n||(n=T.createContext(null),e.set(T.createContext,n)),n}const k2=N2();var RS={exports:{}},ke={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ct=typeof Symbol=="function"&&Symbol.for,Gy=Ct?Symbol.for("react.element"):60103,Qy=Ct?Symbol.for("react.portal"):60106,vh=Ct?Symbol.for("react.fragment"):60107,wh=Ct?Symbol.for("react.strict_mode"):60108,Eh=Ct?Symbol.for("react.profiler"):60114,Th=Ct?Symbol.for("react.provider"):60109,Ih=Ct?Symbol.for("react.context"):60110,Jy=Ct?Symbol.for("react.async_mode"):60111,Sh=Ct?Symbol.for("react.concurrent_mode"):60111,Ch=Ct?Symbol.for("react.forward_ref"):60112,xh=Ct?Symbol.for("react.suspense"):60113,b2=Ct?Symbol.for("react.suspense_list"):60120,Ah=Ct?Symbol.for("react.memo"):60115,Ph=Ct?Symbol.for("react.lazy"):60116,O2=Ct?Symbol.for("react.block"):60121,j2=Ct?Symbol.for("react.fundamental"):60117,D2=Ct?Symbol.for("react.responder"):60118,L2=Ct?Symbol.for("react.scope"):60119;function Nn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Gy:switch(t=t.type,t){case Jy:case Sh:case vh:case Eh:case wh:case xh:return t;default:switch(t=t&&t.$$typeof,t){case Ih:case Ch:case Ph:case Ah:case Th:return t;default:return e}}case Qy:return e}}}function NS(t){return Nn(t)===Sh}ke.AsyncMode=Jy;ke.ConcurrentMode=Sh;ke.ContextConsumer=Ih;ke.ContextProvider=Th;ke.Element=Gy;ke.ForwardRef=Ch;ke.Fragment=vh;ke.Lazy=Ph;ke.Memo=Ah;ke.Portal=Qy;ke.Profiler=Eh;ke.StrictMode=wh;ke.Suspense=xh;ke.isAsyncMode=function(t){return NS(t)||Nn(t)===Jy};ke.isConcurrentMode=NS;ke.isContextConsumer=function(t){return Nn(t)===Ih};ke.isContextProvider=function(t){return Nn(t)===Th};ke.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gy};ke.isForwardRef=function(t){return Nn(t)===Ch};ke.isFragment=function(t){return Nn(t)===vh};ke.isLazy=function(t){return Nn(t)===Ph};ke.isMemo=function(t){return Nn(t)===Ah};ke.isPortal=function(t){return Nn(t)===Qy};ke.isProfiler=function(t){return Nn(t)===Eh};ke.isStrictMode=function(t){return Nn(t)===wh};ke.isSuspense=function(t){return Nn(t)===xh};ke.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===vh||t===Sh||t===Eh||t===wh||t===xh||t===b2||typeof t=="object"&&t!==null&&(t.$$typeof===Ph||t.$$typeof===Ah||t.$$typeof===Th||t.$$typeof===Ih||t.$$typeof===Ch||t.$$typeof===j2||t.$$typeof===D2||t.$$typeof===L2||t.$$typeof===O2)};ke.typeOf=Nn;RS.exports=ke;var M2=RS.exports,kS=M2,V2={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},U2={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},bS={};bS[kS.ForwardRef]=V2;bS[kS.Memo]=U2;var be={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy=Symbol.for("react.element"),Xy=Symbol.for("react.portal"),Rh=Symbol.for("react.fragment"),Nh=Symbol.for("react.strict_mode"),kh=Symbol.for("react.profiler"),bh=Symbol.for("react.provider"),Oh=Symbol.for("react.context"),$2=Symbol.for("react.server_context"),jh=Symbol.for("react.forward_ref"),Dh=Symbol.for("react.suspense"),Lh=Symbol.for("react.suspense_list"),Mh=Symbol.for("react.memo"),Vh=Symbol.for("react.lazy"),F2=Symbol.for("react.offscreen"),OS;OS=Symbol.for("react.module.reference");function Hn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Yy:switch(t=t.type,t){case Rh:case kh:case Nh:case Dh:case Lh:return t;default:switch(t=t&&t.$$typeof,t){case $2:case Oh:case jh:case Vh:case Mh:case bh:return t;default:return e}}case Xy:return e}}}be.ContextConsumer=Oh;be.ContextProvider=bh;be.Element=Yy;be.ForwardRef=jh;be.Fragment=Rh;be.Lazy=Vh;be.Memo=Mh;be.Portal=Xy;be.Profiler=kh;be.StrictMode=Nh;be.Suspense=Dh;be.SuspenseList=Lh;be.isAsyncMode=function(){return!1};be.isConcurrentMode=function(){return!1};be.isContextConsumer=function(t){return Hn(t)===Oh};be.isContextProvider=function(t){return Hn(t)===bh};be.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yy};be.isForwardRef=function(t){return Hn(t)===jh};be.isFragment=function(t){return Hn(t)===Rh};be.isLazy=function(t){return Hn(t)===Vh};be.isMemo=function(t){return Hn(t)===Mh};be.isPortal=function(t){return Hn(t)===Xy};be.isProfiler=function(t){return Hn(t)===kh};be.isStrictMode=function(t){return Hn(t)===Nh};be.isSuspense=function(t){return Hn(t)===Dh};be.isSuspenseList=function(t){return Hn(t)===Lh};be.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Rh||t===kh||t===Nh||t===Dh||t===Lh||t===F2||typeof t=="object"&&t!==null&&(t.$$typeof===Vh||t.$$typeof===Mh||t.$$typeof===bh||t.$$typeof===Oh||t.$$typeof===jh||t.$$typeof===OS||t.getModuleId!==void 0)};be.typeOf=Hn;function B2(){const t=R2();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],s=e;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0,i=n={callback:r,next:null,prev:n};return i.prev?i.prev.next=i:e=i,function(){!s||e===null||(s=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}const A0={notify(){},get:()=>[]};function z2(t,e){let n,r=A0;function s(h){return l(),r.subscribe(h)}function i(){r.notify()}function o(){d.onStateChange&&d.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=B2())}function u(){n&&(n(),n=void 0,r.clear(),r=A0)}const d={addNestedSub:s,notifyNestedSubs:i,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return d}const q2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",W2=q2?T.useLayoutEffect:T.useEffect;function H2({store:t,context:e,children:n,serverState:r,stabilityCheck:s="once",noopCheck:i="once"}){const o=T.useMemo(()=>{const u=z2(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:s,noopCheck:i}},[t,r,s,i]),a=T.useMemo(()=>t.getState(),[t]);W2(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=e||k2;return T.createElement(l.Provider,{value:o},n)}P2(Sy.unstable_batchedUpdates);var K2="firebase",G2="10.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr(K2,G2,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="firebasestorage.googleapis.com",DS="storageBucket",Q2=2*60*1e3,J2=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt extends Or{constructor(e,n,r=0){super(fp(e),`Firebase Storage: ${n} (${fp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var et;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(et||(et={}));function fp(t){return"storage/"+t}function Zy(){const t="An unknown error occurred, please check the error payload for server response.";return new nt(et.UNKNOWN,t)}function Y2(t){return new nt(et.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function X2(t){return new nt(et.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Z2(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new nt(et.UNAUTHENTICATED,t)}function eL(){return new nt(et.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function tL(t){return new nt(et.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function nL(){return new nt(et.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rL(){return new nt(et.CANCELED,"User canceled the upload/download.")}function sL(t){return new nt(et.INVALID_URL,"Invalid URL '"+t+"'.")}function iL(t){return new nt(et.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function oL(){return new nt(et.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+DS+"' property when initializing the app?")}function aL(){return new nt(et.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function lL(){return new nt(et.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function uL(t){return new nt(et.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Bm(t){return new nt(et.INVALID_ARGUMENT,t)}function LS(){return new nt(et.APP_DELETED,"The Firebase app was deleted.")}function cL(t){return new nt(et.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cl(t,e){return new nt(et.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ma(t){throw new nt(et.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=En.makeFromUrl(e,n)}catch{return new En(e,"")}if(r.path==="")return r;throw iL(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(I){I.path_=decodeURIComponent(I.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${s}/o${f}`,"i"),_={bucket:1,path:3},v=n===jS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",g=new RegExp(`^https?://${v}/${s}/${w}`,"i"),y=[{regex:a,indices:l,postModify:i},{regex:m,indices:_,postModify:u},{regex:g,indices:{bucket:1,path:2},postModify:u}];for(let I=0;I<y.length;I++){const S=y[I],A=S.regex.exec(e);if(A){const k=A[S.indices.bucket];let O=A[S.indices.path];O||(O=""),r=new En(k,O),S.postModify(r);break}}if(r==null)throw sL(e);return r}}class dL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(...w){u||(u=!0,e.apply(null,w))}function h(w){s=setTimeout(()=>{s=null,t(m,l())},w)}function f(){i&&clearTimeout(i)}function m(w,...g){if(u){f();return}if(w){f(),d.call(null,w,...g);return}if(l()||o){f(),d.call(null,w,...g);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,h(y)}let _=!1;function v(w){_||(_=!0,f(),!u&&(s!==null?(w||(a=2),clearTimeout(s),h(0)):w||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,v(!0)},n),v}function fL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(t){return t!==void 0}function mL(t){return typeof t=="object"&&!Array.isArray(t)}function e_(t){return typeof t=="string"||t instanceof String}function P0(t){return t_()&&t instanceof Blob}function t_(){return typeof Blob<"u"&&!$N()}function R0(t,e,n,r){if(r<e)throw Bm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Bm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function MS(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ii;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ii||(Ii={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e,n,r,s,i,o,a,l,u,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,_)=>{this.resolve_=m,this.reject_=_,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new lc(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Ii.NO_ERROR,l=i.getStatus();if(!a||gL(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===Ii.ABORT;r(!1,new lc(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new lc(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());pL(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=Zy();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?LS():rL();o(l)}else{const l=nL();o(l)}};this.canceled_?n(!1,new lc(!1,null,!0)):this.backoffId_=hL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&fL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class lc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function _L(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function vL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function wL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function EL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function TL(t,e,n,r,s,i,o=!0){const a=MS(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return wL(u,e),_L(u,n),vL(u,i),EL(u,r),new yL(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function SL(...t){const e=IL();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(t_())return new Blob(t);throw new nt(et.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function CL(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t){if(typeof atob>"u")throw uL("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pp{constructor(e,n){this.data=e,this.contentType=n||null}}function AL(t,e){switch(t){case Er.RAW:return new pp(VS(e));case Er.BASE64:case Er.BASE64URL:return new pp(US(t,e));case Er.DATA_URL:return new pp(RL(e),NL(e))}throw Zy()}function VS(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function PL(t){let e;try{e=decodeURIComponent(t)}catch{throw cl(Er.DATA_URL,"Malformed data URL.")}return VS(e)}function US(t,e){switch(t){case Er.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw cl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Er.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw cl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=xL(e)}catch(s){throw s.message.includes("polyfill")?s:cl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class $S{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw cl(Er.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=kL(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function RL(t){const e=new $S(t);return e.base64?US(Er.BASE64,e.rest):PL(e.rest)}function NL(t){return new $S(t).contentType}function kL(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n){let r=0,s="";P0(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(P0(this.data_)){const r=this.data_,s=CL(r,e,n);return s===null?null:new _s(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new _s(r,!0)}}static getBlob(...e){if(t_()){const n=e.map(r=>r instanceof _s?r.data_:r);return new _s(SL.apply(null,n))}else{const n=e.map(o=>e_(o)?AL(Er.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new _s(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(t){let e;try{e=JSON.parse(t)}catch{return null}return mL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function OL(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function BS(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t,e){return e}class tn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||jL}}let uc=null;function DL(t){return!e_(t)||t.length<2?t:BS(t)}function zS(){if(uc)return uc;const t=[];t.push(new tn("bucket")),t.push(new tn("generation")),t.push(new tn("metageneration")),t.push(new tn("name","fullPath",!0));function e(i,o){return DL(o)}const n=new tn("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new tn("size");return s.xform=r,t.push(s),t.push(new tn("timeCreated")),t.push(new tn("updated")),t.push(new tn("md5Hash",null,!0)),t.push(new tn("cacheControl",null,!0)),t.push(new tn("contentDisposition",null,!0)),t.push(new tn("contentEncoding",null,!0)),t.push(new tn("contentLanguage",null,!0)),t.push(new tn("contentType",null,!0)),t.push(new tn("metadata","customMetadata",!0)),uc=t,uc}function LL(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new En(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function ML(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return LL(r,t),r}function qS(t,e,n){const r=FS(e);return r===null?null:ML(t,r,n)}function VL(t,e,n,r){const s=FS(e);if(s===null||!e_(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const d=t.bucket,h=t.fullPath,f="/b/"+o(d)+"/o/"+o(h),m=n_(f,n,r),_=MS({alt:"media",token:u});return m+_})[0]}function UL(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class WS{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t){if(!t)throw Zy()}function $L(t,e){function n(r,s){const i=qS(t,s,e);return HS(i!==null),i}return n}function FL(t,e){function n(r,s){const i=qS(t,s,e);return HS(i!==null),VL(i,s,t.host,t._protocol)}return n}function KS(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=eL():s=Z2():n.getStatus()===402?s=X2(t.bucket):n.getStatus()===403?s=tL(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function BL(t){const e=KS(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=Y2(t.path)),i.serverResponse=s.serverResponse,i}return n}function zL(t,e,n){const r=e.fullServerUrl(),s=n_(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new WS(s,i,FL(t,n),o);return a.errorHandler=BL(e),a}function qL(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function WL(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=qL(null,e)),r}function HL(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let y="";for(let I=0;I<2;I++)y=y+Math.random().toString().slice(2);return y}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=WL(e,r,s),d=UL(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",m=_s.getBlob(h,r,f);if(m===null)throw aL();const _={name:u.fullPath},v=n_(i,t.host,t._protocol),w="POST",g=t.maxUploadRetryTime,p=new WS(v,w,$L(t,n),g);return p.urlParams=_,p.headers=o,p.body=m.uploadData(),p.errorHandler=KS(e),p}class KL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ii.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ii.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ii.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Ma("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ma("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ma("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ma("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ma("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class GL extends KL{initXhr(){this.xhr_.responseType="text"}}function GS(){return new GL}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n){this._service=e,n instanceof En?this._location=n:this._location=En.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Di(e,n)}get root(){const e=new En(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return BS(this._location.path)}get storage(){return this._service}get parent(){const e=bL(this._location.path);if(e===null)return null;const n=new En(this._location.bucket,e);return new Di(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw cL(e)}}function QL(t,e,n){t._throwIfRoot("uploadBytes");const r=HL(t.storage,t._location,zS(),new _s(e,!0),n);return t.storage.makeRequestWithTokens(r,GS).then(s=>({metadata:s,ref:t}))}function JL(t){t._throwIfRoot("getDownloadURL");const e=zL(t.storage,t._location,zS());return t.storage.makeRequestWithTokens(e,GS).then(n=>{if(n===null)throw lL();return n})}function YL(t,e){const n=OL(t._location.path,e),r=new En(t._location.bucket,n);return new Di(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(t){return/^[A-Za-z]+:\/\//.test(t)}function ZL(t,e){return new Di(t,e)}function QS(t,e){if(t instanceof r_){const n=t;if(n._bucket==null)throw oL();const r=new Di(n,n._bucket);return e!=null?QS(r,e):r}else return e!==void 0?YL(t,e):t}function eM(t,e){if(e&&XL(e)){if(t instanceof r_)return ZL(t,e);throw Bm("To use ref(service, url), the first argument must be a Storage instance.")}else return QS(t,e)}function N0(t,e){const n=e==null?void 0:e[DS];return n==null?null:En.makeFromBucketSpec(n,t)}function tM(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:II(s,t.app.options.projectId))}class r_{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=jS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Q2,this._maxUploadRetryTime=J2,this._requests=new Set,s!=null?this._bucket=En.makeFromBucketSpec(s,this._host):this._bucket=N0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=En.makeFromBucketSpec(this._url,e):this._bucket=N0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){R0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){R0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Di(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new dL(LS());{const o=TL(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const k0="@firebase/storage",b0="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="storage";function dl(t,e,n){return t=Je(t),QL(t,e,n)}function ko(t){return t=Je(t),JL(t)}function bo(t,e){return t=Je(t),eM(t,e)}function nM(t=Ay(),e){t=Je(t);const r=fh(t,JS).getImmediate({identifier:e}),s=wI("storage");return s&&rM(r,...s),r}function rM(t,e,n,r={}){tM(t,e,n,r)}function sM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new r_(n,r,s,e,qi)}function iM(){bi(new qs(JS,sM,"PUBLIC").setMultipleInstances(!0)),xr(k0,b0,""),xr(k0,b0,"esm2017")}iM();var oM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},G,s_=s_||{},he=oM||self;function Uh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Eu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function aM(t){return Object.prototype.hasOwnProperty.call(t,mp)&&t[mp]||(t[mp]=++lM)}var mp="closure_uid_"+(1e9*Math.random()>>>0),lM=0;function uM(t,e,n){return t.call.apply(t.bind,arguments)}function cM(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Qt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Qt=uM:Qt=cM,Qt.apply(null,arguments)}function cc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function xt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function Zs(){this.s=this.s,this.o=this.o}var dM=0;Zs.prototype.s=!1;Zs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),dM!=0)&&aM(this)};Zs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const YS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function i_(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function O0(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Uh(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Jt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Jt.prototype.h=function(){this.defaultPrevented=!0};var hM=function(){if(!he.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{he.addEventListener("test",()=>{},e),he.removeEventListener("test",()=>{},e)}catch{}return t}();function Fl(t){return/^[\s\xa0]*$/.test(t)}function $h(){var t=he.navigator;return t&&(t=t.userAgent)?t:""}function vr(t){return $h().indexOf(t)!=-1}function o_(t){return o_[" "](t),t}o_[" "]=function(){};function fM(t,e){var n=iV;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var pM=vr("Opera"),Go=vr("Trident")||vr("MSIE"),XS=vr("Edge"),zm=XS||Go,ZS=vr("Gecko")&&!($h().toLowerCase().indexOf("webkit")!=-1&&!vr("Edge"))&&!(vr("Trident")||vr("MSIE"))&&!vr("Edge"),mM=$h().toLowerCase().indexOf("webkit")!=-1&&!vr("Edge");function eC(){var t=he.document;return t?t.documentMode:void 0}var qm;e:{var gp="",yp=function(){var t=$h();if(ZS)return/rv:([^\);]+)(\)|;)/.exec(t);if(XS)return/Edge\/([\d\.]+)/.exec(t);if(Go)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(mM)return/WebKit\/(\S+)/.exec(t);if(pM)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(yp&&(gp=yp?yp[1]:""),Go){var _p=eC();if(_p!=null&&_p>parseFloat(gp)){qm=String(_p);break e}}qm=gp}var Wm;if(he.document&&Go){var j0=eC();Wm=j0||parseInt(qm,10)||void 0}else Wm=void 0;var gM=Wm;function Bl(t,e){if(Jt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ZS){e:{try{o_(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:yM[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Bl.$.h.call(this)}}xt(Bl,Jt);var yM={2:"touch",3:"pen",4:"mouse"};Bl.prototype.h=function(){Bl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Tu="closure_listenable_"+(1e6*Math.random()|0),_M=0;function vM(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++_M,this.fa=this.ia=!1}function Fh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function a_(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function wM(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function tC(t){const e={};for(const n in t)e[n]=t[n];return e}const D0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nC(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<D0.length;i++)n=D0[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Bh(t){this.src=t,this.g={},this.h=0}Bh.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Km(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new vM(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function Hm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=YS(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Fh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Km(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var l_="closure_lm_"+(1e6*Math.random()|0),vp={};function rC(t,e,n,r,s){if(r&&r.once)return iC(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)rC(t,e[i],n,r,s);return null}return n=d_(n),t&&t[Tu]?t.O(e,n,Eu(r)?!!r.capture:!!r,s):sC(t,e,n,!1,r,s)}function sC(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=Eu(s)?!!s.capture:!!s,a=c_(t);if(a||(t[l_]=a=new Bh(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=EM(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)hM||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(aC(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function EM(){function t(n){return e.call(t.src,t.listener,n)}const e=TM;return t}function iC(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)iC(t,e[i],n,r,s);return null}return n=d_(n),t&&t[Tu]?t.P(e,n,Eu(r)?!!r.capture:!!r,s):sC(t,e,n,!0,r,s)}function oC(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)oC(t,e[i],n,r,s);else r=Eu(r)?!!r.capture:!!r,n=d_(n),t&&t[Tu]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Km(i,n,r,s),-1<n&&(Fh(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=c_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Km(e,n,r,s)),(n=-1<t?e[t]:null)&&u_(n))}function u_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Tu])Hm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(aC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=c_(e))?(Hm(n,t),n.h==0&&(n.src=null,e[l_]=null)):Fh(t)}}}function aC(t){return t in vp?vp[t]:vp[t]="on"+t}function TM(t,e){if(t.fa)t=!0;else{e=new Bl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&u_(t),t=n.call(r,e)}return t}function c_(t){return t=t[l_],t instanceof Bh?t:null}var wp="__closure_events_fn_"+(1e9*Math.random()>>>0);function d_(t){return typeof t=="function"?t:(t[wp]||(t[wp]=function(e){return t.handleEvent(e)}),t[wp])}function St(){Zs.call(this),this.i=new Bh(this),this.S=this,this.J=null}xt(St,Zs);St.prototype[Tu]=!0;St.prototype.removeEventListener=function(t,e,n,r){oC(this,t,e,n,r)};function Dt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Jt(e,t);else if(e instanceof Jt)e.target=e.target||t;else{var s=e;e=new Jt(r,t),nC(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=dc(o,r,!0,e)&&s}if(o=e.g=t,s=dc(o,r,!0,e)&&s,s=dc(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=dc(o,r,!1,e)&&s}St.prototype.N=function(){if(St.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Fh(n[r]);delete t.g[e],t.h--}}this.J=null};St.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};St.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function dc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Hm(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var h_=he.JSON.stringify;class IM{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function SM(){var t=f_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class CM{constructor(){this.h=this.g=null}add(e,n){const r=lC.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var lC=new IM(()=>new xM,t=>t.reset());class xM{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function AM(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function PM(t){he.setTimeout(()=>{throw t},0)}let zl,ql=!1,f_=new CM,uC=()=>{const t=he.Promise.resolve(void 0);zl=()=>{t.then(RM)}};var RM=()=>{for(var t;t=SM();){try{t.h.call(t.g)}catch(n){PM(n)}var e=lC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ql=!1};function zh(t,e){St.call(this),this.h=t||1,this.g=e||he,this.j=Qt(this.qb,this),this.l=Date.now()}xt(zh,St);G=zh.prototype;G.ga=!1;G.T=null;G.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Dt(this,"tick"),this.ga&&(p_(this),this.start()))}};G.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function p_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}G.N=function(){zh.$.N.call(this),p_(this),delete this.g};function m_(t,e,n){if(typeof t=="function")n&&(t=Qt(t,n));else if(t&&typeof t.handleEvent=="function")t=Qt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:he.setTimeout(t,e||0)}function cC(t){t.g=m_(()=>{t.g=null,t.i&&(t.i=!1,cC(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class NM extends Zs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:cC(this)}N(){super.N(),this.g&&(he.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wl(t){Zs.call(this),this.h=t,this.g={}}xt(Wl,Zs);var L0=[];function dC(t,e,n,r){Array.isArray(n)||(n&&(L0[0]=n.toString()),n=L0);for(var s=0;s<n.length;s++){var i=rC(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function hC(t){a_(t.g,function(e,n){this.g.hasOwnProperty(n)&&u_(e)},t),t.g={}}Wl.prototype.N=function(){Wl.$.N.call(this),hC(this)};Wl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function qh(){this.g=!0}qh.prototype.Ea=function(){this.g=!1};function kM(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var d=u[0];u=u[1];var h=d.split("_");o=2<=h.length&&h[1]=="type"?o+(d+"="+u+"&"):o+(d+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function bM(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function Eo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+jM(t,n)+(r?" "+r:"")})}function OM(t,e){t.info(function(){return"TIMEOUT: "+e})}qh.prototype.info=function(){};function jM(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return h_(n)}catch{return e}}var Ki={},M0=null;function Wh(){return M0=M0||new St}Ki.Ta="serverreachability";function fC(t){Jt.call(this,Ki.Ta,t)}xt(fC,Jt);function Hl(t){const e=Wh();Dt(e,new fC(e))}Ki.STAT_EVENT="statevent";function pC(t,e){Jt.call(this,Ki.STAT_EVENT,t),this.stat=e}xt(pC,Jt);function sn(t){const e=Wh();Dt(e,new pC(e,t))}Ki.Ua="timingevent";function mC(t,e){Jt.call(this,Ki.Ua,t),this.size=e}xt(mC,Jt);function Iu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return he.setTimeout(function(){t()},e)}var Hh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},gC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function g_(){}g_.prototype.h=null;function V0(t){return t.h||(t.h=t.i())}function yC(){}var Su={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function y_(){Jt.call(this,"d")}xt(y_,Jt);function __(){Jt.call(this,"c")}xt(__,Jt);var Gm;function Kh(){}xt(Kh,g_);Kh.prototype.g=function(){return new XMLHttpRequest};Kh.prototype.i=function(){return{}};Gm=new Kh;function Cu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Wl(this),this.P=DM,t=zm?125:void 0,this.V=new zh(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new _C}function _C(){this.i=null,this.g="",this.h=!1}var DM=45e3,Qm={},Pd={};G=Cu.prototype;G.setTimeout=function(t){this.P=t};function Jm(t,e,n){t.L=1,t.v=Qh(ts(e)),t.s=n,t.S=!0,vC(t,null)}function vC(t,e){t.G=Date.now(),xu(t),t.A=ts(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),AC(n.i,"t",r),t.C=0,n=t.l.J,t.h=new _C,t.g=GC(t.l,n?e:null,!t.s),0<t.O&&(t.M=new NM(Qt(t.Pa,t,t.g),t.O)),dC(t.U,t.g,"readystatechange",t.nb),e=t.I?tC(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Hl(),kM(t.j,t.u,t.A,t.m,t.W,t.s)}G.nb=function(t){t=t.target;const e=this.M;e&&Tr(t)==3?e.l():this.Pa(t)};G.Pa=function(t){try{if(t==this.g)e:{const d=Tr(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>d)&&(d!=3||zm||this.g&&(this.h.h||this.g.ja()||B0(this.g)))){this.J||d!=4||e==7||(e==8||0>=h?Hl(3):Hl(2)),Gh(this);var n=this.g.da();this.ca=n;t:if(wC(this)){var r=B0(this.g);t="";var s=r.length,i=Tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yi(this),hl(this);var o="";break t}this.h.i=new he.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,bM(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fl(a)){var u=a;break t}}u=null}if(n=u)Eo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ym(this,n);else{this.i=!1,this.o=3,sn(12),yi(this),hl(this);break e}}this.S?(EC(this,d,o),zm&&this.i&&d==3&&(dC(this.U,this.V,"tick",this.mb),this.V.start())):(Eo(this.j,this.m,o,null),Ym(this,o)),d==4&&yi(this),this.i&&!this.J&&(d==4?qC(this.l,this):(this.i=!1,xu(this)))}else nV(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,sn(12)):(this.o=0,sn(13)),yi(this),hl(this)}}}catch{}finally{}};function wC(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function EC(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=LM(t,n),s==Pd){e==4&&(t.o=4,sn(14),r=!1),Eo(t.j,t.m,null,"[Incomplete Response]");break}else if(s==Qm){t.o=4,sn(15),Eo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Eo(t.j,t.m,s,null),Ym(t,s);wC(t)&&s!=Pd&&s!=Qm&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,sn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),S_(e),e.M=!0,sn(11))):(Eo(t.j,t.m,n,"[Invalid Chunked Response]"),yi(t),hl(t))}G.mb=function(){if(this.g){var t=Tr(this.g),e=this.g.ja();this.C<e.length&&(Gh(this),EC(this,t,e),this.i&&t!=4&&xu(this))}};function LM(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Pd:(n=Number(e.substring(n,r)),isNaN(n)?Qm:(r+=1,r+n>e.length?Pd:(e=e.slice(r,r+n),t.C=r+n,e)))}G.cancel=function(){this.J=!0,yi(this)};function xu(t){t.Y=Date.now()+t.P,TC(t,t.P)}function TC(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Iu(Qt(t.lb,t),e)}function Gh(t){t.B&&(he.clearTimeout(t.B),t.B=null)}G.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(OM(this.j,this.A),this.L!=2&&(Hl(),sn(17)),yi(this),this.o=2,hl(this)):TC(this,this.Y-t)};function hl(t){t.l.H==0||t.J||qC(t.l,t)}function yi(t){Gh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,p_(t.V),hC(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Ym(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Xm(n.i,t))){if(!t.K&&Xm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)kd(n),Zh(n);else break e;I_(n),sn(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Iu(Qt(n.ib,n),6e3));if(1>=NC(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else _i(n,11)}else if((t.K||n.g==t)&&kd(n),!Fl(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let u=s[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const d=u[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const _=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var i=r.i;i.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(v_(i,i.h),i.h=null))}if(r.F){const v=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,Ue(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=KC(r,r.J?r.pa:null,r.Y),o.K){kC(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Gh(a),xu(a)),r.g=o}else BC(r);0<n.j.length&&ef(n)}else u[0]!="stop"&&u[0]!="close"||_i(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?_i(n,7):T_(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Hl(4)}catch{}}function MM(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Uh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function VM(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Uh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function IC(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Uh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=VM(t),r=MM(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var SC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function UM(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Si(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Si){this.h=t.h,Rd(this,t.j),this.s=t.s,this.g=t.g,Nd(this,t.m),this.l=t.l;var e=t.i,n=new Kl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),U0(this,n),this.o=t.o}else t&&(e=String(t).match(SC))?(this.h=!1,Rd(this,e[1]||"",!0),this.s=Ka(e[2]||""),this.g=Ka(e[3]||"",!0),Nd(this,e[4]),this.l=Ka(e[5]||"",!0),U0(this,e[6]||"",!0),this.o=Ka(e[7]||"")):(this.h=!1,this.i=new Kl(null,this.h))}Si.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ga(e,$0,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ga(e,$0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ga(n,n.charAt(0)=="/"?BM:FM,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ga(n,qM)),t.join("")};function ts(t){return new Si(t)}function Rd(t,e,n){t.j=n?Ka(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Nd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function U0(t,e,n){e instanceof Kl?(t.i=e,WM(t.i,t.h)):(n||(e=Ga(e,zM)),t.i=new Kl(e,t.h))}function Ue(t,e,n){t.i.set(e,n)}function Qh(t){return Ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ka(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ga(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,$M),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function $M(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var $0=/[#\/\?@]/g,FM=/[#\?:]/g,BM=/[#\?]/g,zM=/[#\?@]/g,qM=/#/g;function Kl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ei(t){t.g||(t.g=new Map,t.h=0,t.i&&UM(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}G=Kl.prototype;G.add=function(t,e){ei(this),this.i=null,t=fa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function CC(t,e){ei(t),e=fa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function xC(t,e){return ei(t),e=fa(t,e),t.g.has(e)}G.forEach=function(t,e){ei(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};G.ta=function(){ei(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};G.Z=function(t){ei(this);let e=[];if(typeof t=="string")xC(this,t)&&(e=e.concat(this.g.get(fa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};G.set=function(t,e){return ei(this),this.i=null,t=fa(this,t),xC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};G.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function AC(t,e,n){CC(t,e),0<n.length&&(t.i=null,t.g.set(fa(t,e),i_(n)),t.h+=n.length)}G.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function fa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function WM(t,e){e&&!t.j&&(ei(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(CC(this,r),AC(this,s,n))},t)),t.j=e}var HM=class{constructor(t,e){this.g=t,this.map=e}};function PC(t){this.l=t||KM,he.PerformanceNavigationTiming?(t=he.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(he.g&&he.g.Ka&&he.g.Ka()&&he.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var KM=10;function RC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function NC(t){return t.h?1:t.g?t.g.size:0}function Xm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function v_(t,e){t.g?t.g.add(e):t.h=e}function kC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}PC.prototype.cancel=function(){if(this.i=bC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function bC(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return i_(t.i)}var GM=class{stringify(t){return he.JSON.stringify(t,void 0)}parse(t){return he.JSON.parse(t,void 0)}};function QM(){this.g=new GM}function JM(t,e,n){const r=n||"";try{IC(t,function(s,i){let o=s;Eu(s)&&(o=h_(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function YM(t,e){const n=new qh;if(he.Image){const r=new Image;r.onload=cc(hc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=cc(hc,n,r,"TestLoadImage: error",!1,e),r.onabort=cc(hc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=cc(hc,n,r,"TestLoadImage: timeout",!1,e),he.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function hc(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Jh(t){this.l=t.ec||null,this.j=t.ob||!1}xt(Jh,g_);Jh.prototype.g=function(){return new Yh(this.l,this.j)};Jh.prototype.i=function(t){return function(){return t}}({});function Yh(t,e){St.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=w_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xt(Yh,St);var w_=0;G=Yh.prototype;G.open=function(t,e){if(this.readyState!=w_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Gl(this)};G.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||he).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};G.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Au(this)),this.readyState=w_};G.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Gl(this)),this.g&&(this.readyState=3,Gl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof he.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;OC(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function OC(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}G.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Au(this):Gl(this),this.readyState==3&&OC(this)}};G.Za=function(t){this.g&&(this.response=this.responseText=t,Au(this))};G.Ya=function(t){this.g&&(this.response=t,Au(this))};G.ka=function(){this.g&&Au(this)};function Au(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Gl(t)}G.setRequestHeader=function(t,e){this.v.append(t,e)};G.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};G.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Gl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Yh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var XM=he.JSON.parse;function tt(t){St.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=jC,this.L=this.M=!1}xt(tt,St);var jC="",ZM=/^https?$/i,eV=["POST","PUT"];G=tt.prototype;G.Oa=function(t){this.M=t};G.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Gm.g(),this.C=this.u?V0(this.u):V0(Gm),this.g.onreadystatechange=Qt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){F0(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=he.FormData&&t instanceof he.FormData,!(0<=YS(eV,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{MC(this),0<this.B&&((this.L=tV(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qt(this.ua,this)):this.A=m_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){F0(this,i)}};function tV(t){return Go&&typeof t.timeout=="number"&&t.ontimeout!==void 0}G.ua=function(){typeof s_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dt(this,"timeout"),this.abort(8))};function F0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,DC(t),Xh(t)}function DC(t){t.F||(t.F=!0,Dt(t,"complete"),Dt(t,"error"))}G.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Dt(this,"complete"),Dt(this,"abort"),Xh(this))};G.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xh(this,!0)),tt.$.N.call(this)};G.La=function(){this.s||(this.G||this.v||this.l?LC(this):this.kb())};G.kb=function(){LC(this)};function LC(t){if(t.h&&typeof s_<"u"&&(!t.C[1]||Tr(t)!=4||t.da()!=2)){if(t.v&&Tr(t)==4)m_(t.La,0,t);else if(Dt(t,"readystatechange"),Tr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(SC)[1]||null;!s&&he.self&&he.self.location&&(s=he.self.location.protocol.slice(0,-1)),r=!ZM.test(s?s.toLowerCase():"")}n=r}if(n)Dt(t,"complete"),Dt(t,"success");else{t.m=6;try{var i=2<Tr(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",DC(t)}}finally{Xh(t)}}}}function Xh(t,e){if(t.g){MC(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Dt(t,"ready");try{n.onreadystatechange=r}catch{}}}function MC(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(he.clearTimeout(t.A),t.A=null)}G.isActive=function(){return!!this.g};function Tr(t){return t.g?t.g.readyState:0}G.da=function(){try{return 2<Tr(this)?this.g.status:-1}catch{return-1}};G.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};G.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),XM(e)}};function B0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case jC:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function nV(t){const e={};t=(t.g&&2<=Tr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Fl(t[r]))continue;var n=AM(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}wM(e,function(r){return r.join(", ")})}G.Ia=function(){return this.m};G.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function VC(t){let e="";return a_(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function E_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=VC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ue(t,e,n))}function Va(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function UC(t){this.Ga=0,this.j=[],this.l=new qh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Va("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Va("baseRetryDelayMs",5e3,t),this.hb=Va("retryDelaySeedMs",1e4,t),this.eb=Va("forwardChannelMaxRetries",2,t),this.xa=Va("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new PC(t&&t.concurrentRequestLimit),this.Ja=new QM,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}G=UC.prototype;G.ra=8;G.H=1;function T_(t){if($C(t),t.H==3){var e=t.W++,n=ts(t.I);if(Ue(n,"SID",t.K),Ue(n,"RID",e),Ue(n,"TYPE","terminate"),Pu(t,n),e=new Cu(t,t.l,e),e.L=2,e.v=Qh(ts(n)),n=!1,he.navigator&&he.navigator.sendBeacon)try{n=he.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&he.Image&&(new Image().src=e.v,n=!0),n||(e.g=GC(e.l,null),e.g.ha(e.v)),e.G=Date.now(),xu(e)}HC(t)}function Zh(t){t.g&&(S_(t),t.g.cancel(),t.g=null)}function $C(t){Zh(t),t.u&&(he.clearTimeout(t.u),t.u=null),kd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&he.clearTimeout(t.m),t.m=null)}function ef(t){if(!RC(t.i)&&!t.m){t.m=!0;var e=t.Na;zl||uC(),ql||(zl(),ql=!0),f_.add(e,t),t.C=0}}function rV(t,e){return NC(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Iu(Qt(t.Na,t,e),WC(t,t.C)),t.C++,!0)}G.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Cu(this,this.l,t);let i=this.s;if(this.U&&(i?(i=tC(i),nC(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=FC(this,s,e),n=ts(this.I),Ue(n,"RID",t),Ue(n,"CVER",22),this.F&&Ue(n,"X-HTTP-Session-Id",this.F),Pu(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(VC(i)))+"&"+e:this.o&&E_(n,this.o,i)),v_(this.i,s),this.bb&&Ue(n,"TYPE","init"),this.P?(Ue(n,"$req",e),Ue(n,"SID","null"),s.aa=!0,Jm(s,n,null)):Jm(s,n,e),this.H=2}}else this.H==3&&(t?z0(this,t):this.j.length==0||RC(this.i)||z0(this))};function z0(t,e){var n;e?n=e.m:n=t.W++;const r=ts(t.I);Ue(r,"SID",t.K),Ue(r,"RID",n),Ue(r,"AID",t.V),Pu(t,r),t.o&&t.s&&E_(r,t.o,t.s),n=new Cu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=FC(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),v_(t.i,n),Jm(n,r,e)}function Pu(t,e){t.na&&a_(t.na,function(n,r){Ue(e,r,n)}),t.h&&IC({},function(n,r){Ue(e,r,n)})}function FC(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Qt(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let u=s[l].g;const d=s[l].map;if(u-=i,0>u)i=Math.max(0,s[l].g-100),a=!1;else try{JM(d,o,"req"+u+"_")}catch{r&&r(d)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function BC(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;zl||uC(),ql||(zl(),ql=!0),f_.add(e,t),t.A=0}}function I_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Iu(Qt(t.Ma,t),WC(t,t.A)),t.A++,!0)}G.Ma=function(){if(this.u=null,zC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Iu(Qt(this.jb,this),t)}};G.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,sn(10),Zh(this),zC(this))};function S_(t){t.B!=null&&(he.clearTimeout(t.B),t.B=null)}function zC(t){t.g=new Cu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ts(t.wa);Ue(e,"RID","rpc"),Ue(e,"SID",t.K),Ue(e,"AID",t.V),Ue(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ue(e,"TO",t.qa),Ue(e,"TYPE","xmlhttp"),Pu(t,e),t.o&&t.s&&E_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Qh(ts(e)),n.s=null,n.S=!0,vC(n,t)}G.ib=function(){this.v!=null&&(this.v=null,Zh(this),I_(this),sn(19))};function kd(t){t.v!=null&&(he.clearTimeout(t.v),t.v=null)}function qC(t,e){var n=null;if(t.g==e){kd(t),S_(t),t.g=null;var r=2}else if(Xm(t.i,e))n=e.F,kC(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=Wh(),Dt(r,new mC(r,n)),ef(t)}else BC(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&rV(t,e)||r==2&&I_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:_i(t,5);break;case 4:_i(t,10);break;case 3:_i(t,6);break;default:_i(t,2)}}}function WC(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function _i(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Qt(t.pb,t);n||(n=new Si("//www.google.com/images/cleardot.gif"),he.location&&he.location.protocol=="http"||Rd(n,"https"),Qh(n)),YM(n.toString(),r)}else sn(2);t.H=0,t.h&&t.h.za(e),HC(t),$C(t)}G.pb=function(t){t?(this.l.info("Successfully pinged google.com"),sn(2)):(this.l.info("Failed to ping google.com"),sn(1))};function HC(t){if(t.H=0,t.ma=[],t.h){const e=bC(t.i);(e.length!=0||t.j.length!=0)&&(O0(t.ma,e),O0(t.ma,t.j),t.i.i.length=0,i_(t.j),t.j.length=0),t.h.ya()}}function KC(t,e,n){var r=n instanceof Si?ts(n):new Si(n);if(r.g!="")e&&(r.g=e+"."+r.g),Nd(r,r.m);else{var s=he.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Si(null);r&&Rd(i,r),e&&(i.g=e),s&&Nd(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&Ue(r,n,e),Ue(r,"VER",t.ra),Pu(t,r),r}function GC(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new tt(new Jh({ob:!0})):new tt(t.va),e.Oa(t.J),e}G.isActive=function(){return!!this.h&&this.h.isActive(this)};function QC(){}G=QC.prototype;G.Ba=function(){};G.Aa=function(){};G.za=function(){};G.ya=function(){};G.isActive=function(){return!0};G.Va=function(){};function bd(){if(Go&&!(10<=Number(gM)))throw Error("Environmental error: no available transport.")}bd.prototype.g=function(t,e){return new xn(t,e)};function xn(t,e){St.call(this),this.g=new UC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Fl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Fl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new pa(this)}xt(xn,St);xn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;sn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=KC(t,null,t.Y),ef(t)};xn.prototype.close=function(){T_(this.g)};xn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=h_(t),t=n);e.j.push(new HM(e.fb++,t)),e.H==3&&ef(e)};xn.prototype.N=function(){this.g.h=null,delete this.j,T_(this.g),delete this.g,xn.$.N.call(this)};function JC(t){y_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}xt(JC,y_);function YC(){__.call(this),this.status=1}xt(YC,__);function pa(t){this.g=t}xt(pa,QC);pa.prototype.Ba=function(){Dt(this.g,"a")};pa.prototype.Aa=function(t){Dt(this.g,new JC(t))};pa.prototype.za=function(t){Dt(this.g,new YC)};pa.prototype.ya=function(){Dt(this.g,"b")};function sV(){this.blockSize=-1}function ur(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}xt(ur,sV);ur.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ep(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}ur.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)Ep(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){Ep(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){Ep(this,r),s=0;break}}this.h=s,this.i+=e};ur.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ne(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var iV={};function C_(t){return-128<=t&&128>t?fM(t,function(e){return new Ne([e|0],0>e?-1:0)}):new Ne([t|0],0>t?-1:0)}function Ir(t){if(isNaN(t)||!isFinite(t))return Oo;if(0>t)return kt(Ir(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Zm;return new Ne(e,0)}function XC(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return kt(XC(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ir(Math.pow(e,8)),r=Oo,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=Ir(Math.pow(e,i)),r=r.R(i).add(Ir(o))):(r=r.R(n),r=r.add(Ir(o)))}return r}var Zm=4294967296,Oo=C_(0),eg=C_(1),q0=C_(16777216);G=Ne.prototype;G.ea=function(){if(Un(this))return-kt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Zm+r)*e,e*=Zm}return t};G.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Hr(this))return"0";if(Un(this))return"-"+kt(this).toString(t);for(var e=Ir(Math.pow(t,6)),n=this,r="";;){var s=jd(n,e).g;n=Od(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Hr(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};G.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Hr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Un(t){return t.h==-1}G.X=function(t){return t=Od(this,t),Un(t)?-1:Hr(t)?0:1};function kt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ne(n,~t.h).add(eg)}G.abs=function(){return Un(this)?kt(this):this};G.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new Ne(n,n[n.length-1]&-2147483648?-1:0)};function Od(t,e){return t.add(kt(e))}G.R=function(t){if(Hr(this)||Hr(t))return Oo;if(Un(this))return Un(t)?kt(this).R(kt(t)):kt(kt(this).R(t));if(Un(t))return kt(this.R(kt(t)));if(0>this.X(q0)&&0>t.X(q0))return Ir(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,fc(n,2*r+2*s),n[2*r+2*s+1]+=i*l,fc(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,fc(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,fc(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ne(n,0)};function fc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ua(t,e){this.g=t,this.h=e}function jd(t,e){if(Hr(e))throw Error("division by zero");if(Hr(t))return new Ua(Oo,Oo);if(Un(t))return e=jd(kt(t),e),new Ua(kt(e.g),kt(e.h));if(Un(e))return e=jd(t,kt(e)),new Ua(kt(e.g),e.h);if(30<t.g.length){if(Un(t)||Un(e))throw Error("slowDivide_ only works with positive integers.");for(var n=eg,r=e;0>=r.X(t);)n=W0(n),r=W0(r);var s=no(n,1),i=no(r,1);for(r=no(r,2),n=no(n,2);!Hr(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=no(r,1),n=no(n,1)}return e=Od(t,s.R(e)),new Ua(s,e)}for(s=Oo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Ir(n),o=i.R(e);Un(o)||0<o.X(t);)n-=r,i=Ir(n),o=i.R(e);Hr(i)&&(i=eg),s=s.add(i),t=Od(t,o)}return new Ua(s,t)}G.gb=function(t){return jd(this,t).h};G.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ne(n,this.h&t.h)};G.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ne(n,this.h|t.h)};G.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ne(n,this.h^t.h)};function W0(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ne(n,t.h)}function no(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new Ne(s,t.h)}bd.prototype.createWebChannel=bd.prototype.g;xn.prototype.send=xn.prototype.u;xn.prototype.open=xn.prototype.m;xn.prototype.close=xn.prototype.close;Hh.NO_ERROR=0;Hh.TIMEOUT=8;Hh.HTTP_ERROR=6;gC.COMPLETE="complete";yC.EventType=Su;Su.OPEN="a";Su.CLOSE="b";Su.ERROR="c";Su.MESSAGE="d";St.prototype.listen=St.prototype.O;tt.prototype.listenOnce=tt.prototype.P;tt.prototype.getLastError=tt.prototype.Sa;tt.prototype.getLastErrorCode=tt.prototype.Ia;tt.prototype.getStatus=tt.prototype.da;tt.prototype.getResponseJson=tt.prototype.Wa;tt.prototype.getResponseText=tt.prototype.ja;tt.prototype.send=tt.prototype.ha;tt.prototype.setWithCredentials=tt.prototype.Oa;ur.prototype.digest=ur.prototype.l;ur.prototype.reset=ur.prototype.reset;ur.prototype.update=ur.prototype.j;Ne.prototype.add=Ne.prototype.add;Ne.prototype.multiply=Ne.prototype.R;Ne.prototype.modulo=Ne.prototype.gb;Ne.prototype.compare=Ne.prototype.X;Ne.prototype.toNumber=Ne.prototype.ea;Ne.prototype.toString=Ne.prototype.toString;Ne.prototype.getBits=Ne.prototype.D;Ne.fromNumber=Ir;Ne.fromString=XC;var oV=function(){return new bd},aV=function(){return Wh()},Tp=Hh,lV=gC,uV=Ki,H0={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},pc=yC,cV=tt,dV=ur,jo=Ne;const K0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ma="10.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new Cy("@firebase/firestore");function $a(){return Li.logLevel}function te(t,...e){if(Li.logLevel<=Ie.DEBUG){const n=e.map(x_);Li.debug(`Firestore (${ma}): ${t}`,...n)}}function ns(t,...e){if(Li.logLevel<=Ie.ERROR){const n=e.map(x_);Li.error(`Firestore (${ma}): ${t}`,...n)}}function Qo(t,...e){if(Li.logLevel<=Ie.WARN){const n=e.map(x_);Li.warn(`Firestore (${ma}): ${t}`,...n)}}function x_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t="Unexpected state"){const e=`FIRESTORE (${ma}) INTERNAL ASSERTION FAILED: `+t;throw ns(e),new Error(e)}function Be(t,e){t||de()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class fV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pV{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Gr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Gr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string"),new ZC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new Ht(e)}}class mV{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class gV{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new mV(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _V{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Be(typeof n.token=="string"),this.R=n.token,new yV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=vV(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function xe(t,e){return t<e?-1:t>e?1:0}function Jo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new vt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ge(e)}static min(){return new ge(new vt(0,0))}static max(){return new ge(new vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(),r===void 0?r=e.length-n:r>e.length-n&&de(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ql.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ql?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class $e extends Ql{construct(e,n,r){return new $e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const wV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends Ql{construct(e,n,r){return new Ot(e,n,r)}static isValidIdentifier(e){return wV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ot(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Y(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Y(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Y(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(n)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae($e.fromString(e))}static fromName(e){return new ae($e.fromString(e).popFirst(5))}static empty(){return new ae($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new $e(e.slice()))}}function EV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ge.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new Ws(s,ae.empty(),e)}function TV(t){return new Ws(t.readTime,t.key,-1)}class Ws{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ws(ge.min(),ae.empty(),-1)}static max(){return new Ws(ge.max(),ae.empty(),-1)}}function IV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ru(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==SV)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,r)=>{n(e)})}static reject(e){return new V((n,r)=>{r(e)})}static waitFor(e){return new V((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=V.resolve(!1);for(const r of e)n=n.next(s=>s?V.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new V((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new V((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Nu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}A_.ae=-1;function tf(t){return t==null}function Dd(t){return t===0&&1/t==-1/0}function xV(t){return typeof t=="number"&&Number.isInteger(t)&&!Dd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||Nt.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mc(this.root,e,this.comparator,!0)}}class mc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Nt.RED,this.left=s??Nt.EMPTY,this.right=i??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Nt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Nt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();const e=this.left.check();if(e!==this.right.check())throw de();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Q0(this.data.getIterator())}getIteratorFrom(e){return new Q0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class Q0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new Tn([])}unionWith(e){let n=new Lt(Ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new nx("Invalid base64 string: "+i):i}}(e);return new en(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const AV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hs(t){if(Be(!!t),typeof t=="string"){let e=0;const n=AV.exec(t);if(Be(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mi(t){return typeof t=="string"?en.fromBase64String(t):en.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function R_(t){const e=t.mapValue.fields.__previous_value__;return P_(e)?R_(e):e}function Jl(t){const e=Hs(t.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Yl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?P_(t)?4:RV(t)?9007199254740991:10:de()}function br(t,e){if(t===e)return!0;const n=Vi(t);if(n!==Vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jl(t).isEqual(Jl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Hs(s.timestampValue),a=Hs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Mi(s.bytesValue).isEqual(Mi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return dt(s.geoPointValue.latitude)===dt(i.geoPointValue.latitude)&&dt(s.geoPointValue.longitude)===dt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return dt(s.integerValue)===dt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=dt(s.doubleValue),a=dt(i.doubleValue);return o===a?Dd(o)===Dd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Jo(t.arrayValue.values||[],e.arrayValue.values||[],br);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(G0(o)!==G0(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!br(o[l],a[l])))return!1;return!0}(t,e);default:return de()}}function Xl(t,e){return(t.values||[]).find(n=>br(n,e))!==void 0}function Yo(t,e){if(t===e)return 0;const n=Vi(t),r=Vi(e);if(n!==r)return xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=dt(i.integerValue||i.doubleValue),l=dt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return J0(t.timestampValue,e.timestampValue);case 4:return J0(Jl(t),Jl(e));case 5:return xe(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Mi(i),l=Mi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=xe(a[u],l[u]);if(d!==0)return d}return xe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=xe(dt(i.latitude),dt(o.latitude));return a!==0?a:xe(dt(i.longitude),dt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const d=Yo(a[u],l[u]);if(d)return d}return xe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===gc.mapValue&&o===gc.mapValue)return 0;if(i===gc.mapValue)return 1;if(o===gc.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=xe(l[h],d[h]);if(f!==0)return f;const m=Yo(a[l[h]],u[d[h]]);if(m!==0)return m}return xe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw de()}}function J0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xe(t,e);const n=Hs(t),r=Hs(e),s=xe(n.seconds,r.seconds);return s!==0?s:xe(n.nanos,r.nanos)}function Xo(t){return tg(t)}function tg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Hs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Mi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=tg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${tg(n.fields[o])}`;return s+"}"}(t.mapValue):de()}function Y0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ng(t){return!!t&&"integerValue"in t}function N_(t){return!!t&&"arrayValue"in t}function X0(t){return!!t&&"nullValue"in t}function Z0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vc(t){return!!t&&"mapValue"in t}function fl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Gi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=fl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function RV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fl(n)}setAll(e){let n=Ot.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=fl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Vc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Vc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Gi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new dn(fl(this.value))}}function rx(t){const e=[];return Gi(t.fields,(n,r)=>{const s=new Ot([n]);if(Vc(r)){const i=rx(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Gt(e,0,ge.min(),ge.min(),ge.min(),dn.empty(),0)}static newFoundDocument(e,n,r,s){return new Gt(e,1,n,ge.min(),r,s,0)}static newNoDocument(e,n){return new Gt(e,2,n,ge.min(),ge.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Gt(e,3,n,ge.min(),ge.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n){this.position=e,this.inclusive=n}}function eE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=Yo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function tE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!br(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n="asc"){this.field=e,this.dir=n}}function NV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{}class ft extends sx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new bV(e,n,r):n==="array-contains"?new DV(e,r):n==="in"?new LV(e,r):n==="not-in"?new MV(e,r):n==="array-contains-any"?new VV(e,r):new ft(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new OV(e,r):new jV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Yo(n,this.value)):n!==null&&Vi(this.value)===Vi(n)&&this.matchesComparison(Yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends sx{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new cr(e,n)}matches(e){return ix(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ix(t){return t.op==="and"}function ox(t){return kV(t)&&ix(t)}function kV(t){for(const e of t.filters)if(e instanceof cr)return!1;return!0}function rg(t){if(t instanceof ft)return t.field.canonicalString()+t.op.toString()+Xo(t.value);if(ox(t))return t.filters.map(e=>rg(e)).join(",");{const e=t.filters.map(n=>rg(n)).join(",");return`${t.op}(${e})`}}function ax(t,e){return t instanceof ft?function(r,s){return s instanceof ft&&r.op===s.op&&r.field.isEqual(s.field)&&br(r.value,s.value)}(t,e):t instanceof cr?function(r,s){return s instanceof cr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&ax(o,s.filters[a]),!0):!1}(t,e):void de()}function lx(t){return t instanceof ft?function(n){return`${n.field.canonicalString()} ${n.op} ${Xo(n.value)}`}(t):t instanceof cr?function(n){return n.op.toString()+" {"+n.getFilters().map(lx).join(" ,")+"}"}(t):"Filter"}class bV extends ft{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class OV extends ft{constructor(e,n){super(e,"in",n),this.keys=ux("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jV extends ft{constructor(e,n){super(e,"not-in",n),this.keys=ux("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ux(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class DV extends ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return N_(n)&&Xl(n.arrayValue,this.value)}}class LV extends ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class MV extends ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xl(this.value.arrayValue,n)}}class VV extends ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!N_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.le=null}}function nE(t,e=null,n=[],r=[],s=null,i=null,o=null){return new UV(t,e,n,r,s,i,o)}function k_(t){const e=ye(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>rg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),tf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xo(r)).join(",")),e.le=n}return e.le}function b_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!NV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ax(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tE(t.startAt,e.startAt)&&tE(t.endAt,e.endAt)}function sg(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function $V(t,e,n,r,s,i,o,a){return new ga(t,e,n,r,s,i,o,a)}function nf(t){return new ga(t)}function rE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cx(t){return t.collectionGroup!==null}function pl(t){const e=ye(t);if(e.he===null){e.he=[];const n=new Set;for(const i of e.explicitOrderBy)e.he.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Lt(Ot.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.he.push(new Zl(i,r))}),n.has(Ot.keyField().canonicalString())||e.he.push(new Zl(Ot.keyField(),r))}return e.he}function Rr(t){const e=ye(t);return e.Pe||(e.Pe=FV(e,pl(t))),e.Pe}function FV(t,e){if(t.limitType==="F")return nE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Zl(s.field,i)});const n=t.endAt?new Ld(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ld(t.startAt.position,t.startAt.inclusive):null;return nE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ig(t,e){const n=t.filters.concat([e]);return new ga(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function og(t,e,n){return new ga(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rf(t,e){return b_(Rr(t),Rr(e))&&t.limitType===e.limitType}function dx(t){return`${k_(Rr(t))}|lt:${t.limitType}`}function so(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>lx(s)).join(", ")}]`),tf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Xo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Xo(s)).join(",")),`Target(${r})`}(Rr(t))}; limitType=${t.limitType})`}function sf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ae.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of pl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=eE(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,pl(r),s)||r.endAt&&!function(o,a,l){const u=eE(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,pl(r),s))}(t,e)}function BV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hx(t){return(e,n)=>{let r=!1;for(const s of pl(t)){const i=zV(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function zV(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Yo(l,u):de()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Gi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return tx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=new Ye(ae.comparator);function rs(){return qV}const fx=new Ye(ae.comparator);function Qa(...t){let e=fx;for(const n of t)e=e.insert(n.key,n);return e}function px(t){let e=fx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vi(){return ml()}function mx(){return ml()}function ml(){return new ya(t=>t.toString(),(t,e)=>t.isEqual(e))}const WV=new Ye(ae.comparator),HV=new Lt(ae.comparator);function Ee(...t){let e=HV;for(const n of t)e=e.add(n);return e}const KV=new Lt(xe);function GV(){return KV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dd(e)?"-0":e}}function yx(t){return{integerValue:""+t}}function QV(t,e){return xV(e)?yx(e):gx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(){this._=void 0}}function JV(t,e,n){return t instanceof eu?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&P_(i)&&(i=R_(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Zo?vx(t,e):t instanceof ea?wx(t,e):function(s,i){const o=_x(s,i),a=sE(o)+sE(s.Te);return ng(o)&&ng(s.Te)?yx(a):gx(s.serializer,a)}(t,e)}function YV(t,e,n){return t instanceof Zo?vx(t,e):t instanceof ea?wx(t,e):n}function _x(t,e){return t instanceof Md?function(r){return ng(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class eu extends of{}class Zo extends of{constructor(e){super(),this.elements=e}}function vx(t,e){const n=Ex(e);for(const r of t.elements)n.some(s=>br(s,r))||n.push(r);return{arrayValue:{values:n}}}class ea extends of{constructor(e){super(),this.elements=e}}function wx(t,e){let n=Ex(e);for(const r of t.elements)n=n.filter(s=>!br(s,r));return{arrayValue:{values:n}}}class Md extends of{constructor(e,n){super(),this.serializer=e,this.Te=n}}function sE(t){return dt(t.integerValue||t.doubleValue)}function Ex(t){return N_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,n){this.field=e,this.transform=n}}function XV(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Zo&&s instanceof Zo||r instanceof ea&&s instanceof ea?Jo(r.elements,s.elements,br):r instanceof Md&&s instanceof Md?br(r.Te,s.Te):r instanceof eu&&s instanceof eu}(t.transform,e.transform)}class ZV{constructor(e,n){this.version=e,this.transformResults=n}}class Bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class af{}function Tx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new j_(t.key,Bn.none()):new ku(t.key,t.data,Bn.none());{const n=t.data,r=dn.empty();let s=new Lt(Ot.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ti(t.key,r,new Tn(s.toArray()),Bn.none())}}function eU(t,e,n){t instanceof ku?function(s,i,o){const a=s.value.clone(),l=oE(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ti?function(s,i,o){if(!Uc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=oE(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Ix(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function gl(t,e,n,r){return t instanceof ku?function(i,o,a,l){if(!Uc(i.precondition,o))return a;const u=i.value.clone(),d=aE(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ti?function(i,o,a,l){if(!Uc(i.precondition,o))return a;const u=aE(i.fieldTransforms,l,o),d=o.data;return d.setAll(Ix(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Uc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function tU(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=_x(r.transform,s||null);i!=null&&(n===null&&(n=dn.empty()),n.set(r.field,i))}return n||null}function iE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Jo(r,s,(i,o)=>XV(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ku extends af{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ti extends af{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ix(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function oE(t,e,n){const r=new Map;Be(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,YV(o,a,n[s]))}return r}function aE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,JV(i,o,e))}return r}class j_ extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nU extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&eU(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=mx();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=Tx(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&Jo(this.mutations,e.mutations,(n,r)=>iE(n,r))&&Jo(this.baseMutations,e.baseMutations,(n,r)=>iE(n,r))}}class D_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Be(e.mutations.length===r.length);let s=function(){return WV}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new D_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Se;function oU(t){switch(t){default:return de();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function Sx(t){if(t===void 0)return ns("GRPC error has no .code"),j.UNKNOWN;switch(t){case ut.OK:return j.OK;case ut.CANCELLED:return j.CANCELLED;case ut.UNKNOWN:return j.UNKNOWN;case ut.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case ut.INTERNAL:return j.INTERNAL;case ut.UNAVAILABLE:return j.UNAVAILABLE;case ut.UNAUTHENTICATED:return j.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case ut.NOT_FOUND:return j.NOT_FOUND;case ut.ALREADY_EXISTS:return j.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return j.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case ut.ABORTED:return j.ABORTED;case ut.OUT_OF_RANGE:return j.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return j.UNIMPLEMENTED;case ut.DATA_LOSS:return j.DATA_LOSS;default:return de()}}(Se=ut||(ut={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=new jo([4294967295,4294967295],0);function lE(t){const e=aU().encode(t),n=new dV;return n.update(e),new Uint8Array(n.digest())}function uE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new jo([n,r],0),new jo([s,i],0)]}class L_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ja(`Invalid padding: ${n}`);if(r<0)throw new Ja(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ja(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ja(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=jo.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply(jo.fromNumber(r)));return s.compare(lU)===1&&(s=new jo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ee===0)return!1;const n=lE(e),[r,s]=uE(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);if(!this.Re(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new L_(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=lE(e),[r,s]=uE(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ja extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,bu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new lf(ge.min(),s,new Ye(xe),rs(),Ee())}}class bu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bu(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class Cx{constructor(e,n){this.targetId=e,this.ge=n}}class xx{constructor(e,n,r=en.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class cE{constructor(){this.pe=0,this.ye=hE(),this.we=en.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get Ce(){return this.be}ve(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ee(),n=Ee(),r=Ee();return this.ye.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:de()}}),new bu(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=hE()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1}Le(){this.be=!0,this.Se=!0}}class uU{constructor(e){this.ke=e,this.qe=new Map,this.Qe=rs(),this.Ke=dE(),this.$e=new Ye(xe)}Ue(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.We(n,e.fe):this.Ge(n,e.key,e.fe);for(const n of e.removedTargetIds)this.Ge(n,e.key,e.fe)}ze(e){this.forEachTarget(e,n=>{const r=this.je(n);switch(e.state){case 0:this.He(n)&&r.ve(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.ve(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.He(n)&&(r.Le(),r.ve(e.resumeToken));break;case 4:this.He(n)&&(this.Je(n),r.ve(e.resumeToken));break;default:de()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.He(s)&&n(s)})}Ye(e){const n=e.targetId,r=e.ge.count,s=this.Ze(n);if(s){const i=s.target;if(sg(i))if(r===0){const o=new ae(i.path);this.Ge(n,o,Gt.newNoDocument(o,ge.min()))}else Be(r===1);else{const o=this.Xe(n);if(o!==r){const a=this.et(e),l=a?this.tt(a,e,o):1;if(l!==0){this.Je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.$e=this.$e.insert(n,u)}}}}}et(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Mi(r).toUint8Array()}catch(l){if(l instanceof nx)return Qo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new L_(o,s,i)}catch(l){return Qo(l instanceof Ja?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}tt(e,n,r){return n.ge.count===r-this.it(e,n.targetId)?0:2}it(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ke.rt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ge(n,i,null),s++)}),s}st(e){const n=new Map;this.qe.forEach((i,o)=>{const a=this.Ze(o);if(a){if(i.current&&sg(a.target)){const l=new ae(a.target.path);this.Qe.get(l)!==null||this.ot(o,l)||this.Ge(o,l,Gt.newNoDocument(l,e))}i.Ce&&(n.set(o,i.Fe()),i.Me())}});let r=Ee();this.Ke.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ze(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.Qe.forEach((i,o)=>o.setReadTime(e));const s=new lf(e,n,this.$e,this.Qe,r);return this.Qe=rs(),this.Ke=dE(),this.$e=new Ye(xe),s}We(e,n){if(!this.He(e))return;const r=this.ot(e,n.key)?2:0;this.je(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.Ke=this.Ke.insert(n.key,this._t(n.key).add(e))}Ge(e,n,r){if(!this.He(e))return;const s=this.je(e);this.ot(e,n)?s.xe(n,1):s.Oe(n),this.Ke=this.Ke.insert(n,this._t(n).delete(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}Xe(e){const n=this.je(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.je(e).Ne()}je(e){let n=this.qe.get(e);return n||(n=new cE,this.qe.set(e,n)),n}_t(e){let n=this.Ke.get(e);return n||(n=new Lt(xe),this.Ke=this.Ke.insert(e,n)),n}He(e){const n=this.Ze(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Ze(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.ut(e)}Je(e){this.qe.set(e,new cE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.Ge(e,n,null)})}ot(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function dE(){return new Ye(ae.comparator)}function hE(){return new Ye(ae.comparator)}const cU=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),dU=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),hU=(()=>({and:"AND",or:"OR"}))();class fU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ag(t,e){return t.useProto3Json||tf(e)?e:{value:e}}function Vd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ax(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pU(t,e){return Vd(t,e.toTimestamp())}function Nr(t){return Be(!!t),ge.fromTimestamp(function(n){const r=Hs(n);return new vt(r.seconds,r.nanos)}(t))}function M_(t,e){return function(r){return new $e(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function Px(t){const e=$e.fromString(t);return Be(bx(e)),e}function lg(t,e){return M_(t.databaseId,e.path)}function Ip(t,e){const n=Px(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(Rx(n))}function ug(t,e){return M_(t.databaseId,e)}function mU(t){const e=Px(t);return e.length===4?$e.emptyPath():Rx(e)}function cg(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Rx(t){return Be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function fE(t,e,n){return{name:lg(t,e),fields:n.value.mapValue.fields}}function gU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:de()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(Be(d===void 0||typeof d=="string"),en.fromBase64String(d||"")):(Be(d===void 0||d instanceof Uint8Array),en.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?j.UNKNOWN:Sx(u.code);return new Y(d,u.message||"")}(o);n=new xx(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ip(t,r.document.name),i=Nr(r.document.updateTime),o=r.document.createTime?Nr(r.document.createTime):ge.min(),a=new dn({mapValue:{fields:r.document.fields}}),l=Gt.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new $c(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ip(t,r.document),i=r.readTime?Nr(r.readTime):ge.min(),o=Gt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new $c([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ip(t,r.document),i=r.removedTargetIds||[];n=new $c([],i,s,null)}else{if(!("filter"in e))return de();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new iU(s,i),a=r.targetId;n=new Cx(a,o)}}return n}function yU(t,e){let n;if(e instanceof ku)n={update:fE(t,e.key,e.value)};else if(e instanceof j_)n={delete:lg(t,e.key)};else if(e instanceof ti)n={update:fE(t,e.key,e.data),updateMask:xU(e.fieldMask)};else{if(!(e instanceof nU))return de();n={verify:lg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof eu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Zo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ea)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Md)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw de()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:pU(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:de()}(t,e.precondition)),n}function _U(t,e){return t&&t.length>0?(Be(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Nr(s.updateTime):Nr(i);return o.isEqual(ge.min())&&(o=Nr(i)),new ZV(o,s.transformResults||[])}(n,e))):[]}function vU(t,e){return{documents:[ug(t,e.path)]}}function wU(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=ug(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ug(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return kx(cr.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:io(h.field),direction:IU(h.dir)}}(u))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=ag(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function EU(t){let e=mU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Be(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const f=Nx(h);return f instanceof cr&&ox(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(_){return new Zl(oo(_.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,tf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new Ld(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new Ld(m,f)}(n.endAt)),$V(e,s,o,i,a,"F",l,u)}function TU(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Nx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=oo(n.unaryFilter.field);return ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=oo(n.unaryFilter.field);return ft.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=oo(n.unaryFilter.field);return ft.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=oo(n.unaryFilter.field);return ft.create(o,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(t):t.fieldFilter!==void 0?function(n){return ft.create(oo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return cr.create(n.compositeFilter.filters.map(r=>Nx(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return de()}}(n.compositeFilter.op))}(t):de()}function IU(t){return cU[t]}function SU(t){return dU[t]}function CU(t){return hU[t]}function io(t){return{fieldPath:t.canonicalString()}}function oo(t){return Ot.fromServerFormat(t.fieldPath)}function kx(t){return t instanceof ft?function(n){if(n.op==="=="){if(Z0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(X0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Z0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(X0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:SU(n.op),value:n.value}}}(t):t instanceof cr?function(n){const r=n.getFilters().map(s=>kx(s));return r.length===1?r[0]:{compositeFilter:{op:CU(n.op),filters:r}}}(t):de()}function xU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function bx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n,r,s,i=ge.min(),o=ge.min(),a=en.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e){this.ct=e}}function PU(t){const e=EU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?og(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(){this._n=new NU}addToCollectionParentIndex(e,n){return this._n.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(Ws.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(Ws.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class NU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Lt($e.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Lt($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ta(0)}static Bn(){return new ta(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(){this.changes=new ya(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&gl(r.mutation,s,Tn.empty(),vt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const s=vi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Qa();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=vi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=rs();const o=ml(),a=function(){return ml()}();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof ti)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),gl(d.mutation,u,d.mutation.getFieldMask(),vt.now())):o.set(u.key,Tn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new bU(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ml();let s=new Ye((o,a)=>o-a),i=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Tn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(s.get(a.batchId)||Ee()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=mx();d.forEach(f=>{if(!i.has(f)){const m=Tx(n.get(f),r.get(f));m!==null&&h.set(f,m),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return V.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):V.resolve(vi());let a=-1,l=i;return o.next(u=>V.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?V.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Ee())).next(d=>({batchId:a,changes:px(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let s=Qa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Qa();return this.indexManager.getCollectionParents(e,i).next(a=>V.forEach(a,l=>{const u=function(h,f){return new ga(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Gt.newInvalidDocument(d)))});let a=Qa();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&gl(d.mutation,u,Tn.empty(),vt.now()),sf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return V.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Nr(s.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:PU(s.bundledQuery),readTime:Nr(s.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(){this.overlays=new Ye(ae.comparator),this.hr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const r=vi();return V.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),V.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){const s=vi(),i=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return V.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ye((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=vi(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=vi(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return V.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new sU(n,r));let i=this.hr.get(n);i===void 0&&(i=Ee(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(){this.Pr=new Lt(Et.Ir),this.Tr=new Lt(Et.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Et(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Et(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ae(new $e([])),r=new Et(n,e),s=new Et(n,e+1),i=[];return this.Tr.forEachInRange([r,s],o=>{this.Ar(o),i.push(o.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ae(new $e([])),r=new Et(n,e),s=new Et(n,e+1);let i=Ee();return this.Tr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Et(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Et{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ae.comparator(e.key,n.key)||xe(e.pr,n.pr)}static Er(e,n){return xe(e.pr,n.pr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Lt(Et.Ir)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new rU(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.wr=this.wr.add(new Et(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,n){return V.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.br(r),i=s<0?0:s;return V.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Et(n,0),s=new Et(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],o=>{const a=this.Sr(o.pr);i.push(a)}),V.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(xe);return n.forEach(s=>{const i=new Et(s,0),o=new Et(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,o],a=>{r=r.add(a.pr)})}),V.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ae.isDocumentKey(i)||(i=i.child(""));const o=new Et(new ae(i),0);let a=new Lt(xe);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.pr)),!0)},o),V.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Be(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return V.forEach(n.mutations,s=>{const i=new Et(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Et(n,0),s=this.wr.firstAfterOrEqual(r);return V.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e){this.vr=e,this.docs=function(){return new Ye(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(e,n){let r=rs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Gt.newInvalidDocument(s))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=rs();const o=n.path,a=new ae(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||IV(TV(d),r)<=0||(s.has(d.key)||sf(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return V.resolve(i)}getAllFromCollectionGroup(e,n,r,s){de()}Fr(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new VU(this)}getSize(e){return V.resolve(this.size)}}class VU extends kU{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e){this.persistence=e,this.Mr=new ya(n=>k_(n),b_),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Or=0,this.Nr=new V_,this.targetCount=0,this.Br=ta.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,s)=>n(s)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),V.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new ta(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.qn(n),V.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),V.waitFor(i).next(()=>s)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),V.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),V.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e,n){this.Lr={},this.overlays={},this.kr=new A_(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new UU(this),this.indexManager=new RU,this.remoteDocumentCache=function(s){return new MU(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new AU(n),this.$r=new jU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new LU(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const s=new FU(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(e,n){return V.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class FU extends CV{constructor(e){super(),this.currentSequenceNumber=e}}class U_{constructor(e){this.persistence=e,this.zr=new V_,this.jr=null}static Hr(e){return new U_(e)}get Jr(){if(this.jr)return this.jr;throw de()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),V.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Jr,r=>{const s=ae.fromPath(r);return this.Yr(e,s).next(i=>{i||n.removeEntry(s,ge.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return V.or([()=>V.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(e,n){let r=Ee(),s=Ee();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new $_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=8}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ji(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Hi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new BU;return this.Ji(e,n,o).next(a=>{if(i.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>i.result)}Yi(e,n,r,s){return r.documentReadCount<this.Wi?($a()<=Ie.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",so(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),V.resolve()):($a()<=Ie.DEBUG&&te("QueryEngine","Query:",so(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?($a()<=Ie.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",so(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rr(n))):V.resolve())}ji(e,n){if(rE(n))return V.resolve(null);let r=Rr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=og(n,null,"F"),r=Rr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ee(...i);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,og(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,s){return rE(n)||s.isEqual(ge.min())?V.resolve(null):this.zi.getDocuments(e,r).next(i=>{const o=this.Zi(n,i);return this.Xi(n,o,r,s)?V.resolve(null):($a()<=Ie.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),so(n)),this.es(e,o,n,EV(s,-1)).next(a=>a))})}Zi(e,n){let r=new Lt(hx(e));return n.forEach((s,i)=>{sf(e,i)&&(r=r.add(i))}),r}Xi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(e,n,r){return $a()<=Ie.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",so(n)),this.zi.getDocumentsMatchingQuery(e,n,Ws.min(),r)}es(e,n,r,s){return this.zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e,n,r,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new Ye(xe),this.rs=new ya(i=>k_(i),b_),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OU(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function WU(t,e,n,r){return new qU(t,e,n,r)}async function Ox(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ee();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function HU(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let m=V.resolve();return f.forEach(_=>{m=m.next(()=>d.getEntry(l,_)).next(v=>{const w=u.docVersions.get(_);Be(w!==null),v.version.compareTo(w)<0&&(h.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ee();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function jx(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function KU(t,e){const n=ye(t),r=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const a=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;a.push(n.Qr.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(i,d.addedDocuments,h)));let m=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(en.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(h,m),function(v,w,g){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,m,d)&&a.push(n.Qr.updateTargetData(i,m))});let l=rs(),u=Ee();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(GU(i,o,e.documentUpdates).next(d=>{l=d.cs,u=d.ls})),!r.isEqual(ge.min())){const d=n.Qr.getLastRemoteSnapshotVersion(i).next(h=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return V.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.ns=s,i))}function GU(t,e,n){let r=Ee(),s=Ee();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=rs();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ge.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:s}})}function QU(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function JU(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,e).next(i=>i?(s=i,V.resolve(s)):n.Qr.allocateTargetId(r).next(o=>(s=new Ss(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function dg(t,e,n){const r=ye(t),s=r.ns.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Nu(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(s.target)}function pE(t,e,n){const r=ye(t);let s=ge.min(),i=Ee();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=ye(l),f=h.rs.get(d);return f!==void 0?V.resolve(h.ns.get(f)):h.Qr.getTargetData(u,d)}(r,o,Rr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?s:ge.min(),n?i:Ee())).next(a=>(YU(r,BV(e),a),{documents:a,hs:i})))}function YU(t,e,n){let r=t.ss.get(e)||ge.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ss.set(e,r)}class mE{constructor(){this.activeTargetIds=GV()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XU{constructor(){this.no=new mE,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new mE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yc=null;function Sp(){return yc===null?yc=function(){return 268435456+Math.round(2147483648*Math.random())}():yc++,"0x"+yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class n$ extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${s}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get wo(){return!1}So(n,r,s,i,o){const a=Sp(),l=this.bo(n,r);te("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,i,o),this.Co(n,l,u,s).then(d=>(te("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Qo("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",s),d})}vo(n,r,s,i,o,a){return this.So(n,r,s,i,o)}Do(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ma}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}bo(n,r){const s=e$[n];return`${this.fo}/v1/${r}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,s){const i=Sp();return new Promise((o,a)=>{const l=new cV;l.setWithCredentials(!0),l.listenOnce(lV.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Tp.NO_ERROR:const d=l.getResponseJson();te(Ft,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case Tp.TIMEOUT:te(Ft,`RPC '${e}' ${i} timed out`),a(new Y(j.DEADLINE_EXCEEDED,"Request time out"));break;case Tp.HTTP_ERROR:const h=l.getStatus();if(te(Ft,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const _=function(w){const g=w.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(g)>=0?g:j.UNKNOWN}(m.status);a(new Y(_,m.message))}else a(new Y(j.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Y(j.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{te(Ft,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);te(Ft,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const s=Sp(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=oV(),a=aV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");te(Ft,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,m=!1;const _=new t$({lo:w=>{m?te(Ft,`Not sending because RPC '${e}' stream ${s} is closed:`,w):(f||(te(Ft,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),te(Ft,`RPC '${e}' stream ${s} sending:`,w),h.send(w))},ho:()=>h.close()}),v=(w,g,p)=>{w.listen(g,y=>{try{p(y)}catch(I){setTimeout(()=>{throw I},0)}})};return v(h,pc.EventType.OPEN,()=>{m||te(Ft,`RPC '${e}' stream ${s} transport opened.`)}),v(h,pc.EventType.CLOSE,()=>{m||(m=!0,te(Ft,`RPC '${e}' stream ${s} transport closed`),_.Vo())}),v(h,pc.EventType.ERROR,w=>{m||(m=!0,Qo(Ft,`RPC '${e}' stream ${s} transport errored:`,w),_.Vo(new Y(j.UNAVAILABLE,"The operation could not be completed")))}),v(h,pc.EventType.MESSAGE,w=>{var g;if(!m){const p=w.data[0];Be(!!p);const y=p,I=y.error||((g=y[0])===null||g===void 0?void 0:g.error);if(I){te(Ft,`RPC '${e}' stream ${s} received error:`,I);const S=I.status;let A=function($){const M=ut[$];if(M!==void 0)return Sx(M)}(S),k=I.message;A===void 0&&(A=j.INTERNAL,k="Unknown error status: "+S+" with message "+I.message),m=!0,_.Vo(new Y(A,k)),h.close()}else te(Ft,`RPC '${e}' stream ${s} received:`,p),_.mo(p)}}),v(a,uV.STAT_EVENT,w=>{w.stat===H0.PROXY?te(Ft,`RPC '${e}' stream ${s} detected buffering proxy`):w.stat===H0.NOPROXY&&te(Ft,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.Ro()},0),_}}function Cp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t){return new fU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n,r=1e3,s=1.5,i=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=s,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),s=Math.max(0,n-r);s>0&&te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n,r,s,i,o,a,l){this.oi=e,this.$o=r,this.Uo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Dx(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(ns(n.toString()),ns("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Wo===n&&this.o_(r,s)},r=>{e(()=>{const s=new Y(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(s)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{r(()=>this.__(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class r$ extends Lx{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=gU(this.serializer,e),r=function(i){if(!("targetChange"in i))return ge.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?Nr(o.readTime):ge.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=cg(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=sg(l)?{documents:vU(i,l)}:{query:wU(i,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Ax(i,o.resumeToken);const u=ag(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=Vd(i,o.snapshotVersion.toTimestamp());const u=ag(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=TU(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=cg(this.serializer),n.removeTarget=e,this.t_(n)}}class s$ extends Lx{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=_U(e.writeResults,e.commitTime),r=Nr(e.commitTime);return this.listener.T_(r,n)}return Be(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=cg(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yU(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i$ extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new Y(j.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.So(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(j.UNKNOWN,s.toString())})}vo(e,n,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.vo(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y(j.UNKNOWN,i.toString())})}terminate(){this.A_=!0}}class o${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(ns(n),this.g_=!1):te("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(o=>{r.enqueueAndForget(async()=>{Qi(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ye(l);u.v_.add(4),await Ou(u),u.x_.set("Unknown"),u.v_.delete(4),await cf(u)}(this))})}),this.x_=new o$(r,s)}}async function cf(t){if(Qi(t))for(const e of t.F_)await e(!0)}async function Ou(t){for(const e of t.F_)await e(!1)}function Mx(t,e){const n=ye(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),z_(n)?B_(n):_a(n).Jo()&&F_(n,e))}function Vx(t,e){const n=ye(t),r=_a(n);n.C_.delete(e),r.Jo()&&Ux(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Qi(n)&&n.x_.set("Unknown"))}function F_(t,e){if(t.O_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_a(t).c_(e)}function Ux(t,e){t.O_.Ne(e),_a(t).l_(e)}function B_(t){t.O_=new uU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.C_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),_a(t).start(),t.x_.p_()}function z_(t){return Qi(t)&&!_a(t).Ho()&&t.C_.size>0}function Qi(t){return ye(t).v_.size===0}function $x(t){t.O_=void 0}async function l$(t){t.C_.forEach((e,n)=>{F_(t,e)})}async function u$(t,e){$x(t),z_(t)?(t.x_.S_(e),B_(t)):t.x_.set("Unknown")}async function c$(t,e,n){if(t.x_.set("Online"),e instanceof xx&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.C_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.C_.delete(a),s.O_.removeTarget(a))}(t,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ud(t,r)}else if(e instanceof $c?t.O_.Ue(e):e instanceof Cx?t.O_.Ye(e):t.O_.ze(e),!n.isEqual(ge.min()))try{const r=await jx(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.O_.st(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.C_.get(u);d&&i.C_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i.C_.get(l);if(!d)return;i.C_.set(l,d.withResumeToken(en.EMPTY_BYTE_STRING,d.snapshotVersion)),Ux(i,l);const h=new Ss(d.target,l,u,d.sequenceNumber);F_(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te("RemoteStore","Failed to raise snapshot:",r),await Ud(t,r)}}async function Ud(t,e,n){if(!Nu(e))throw e;t.v_.add(1),await Ou(t),t.x_.set("Offline"),n||(n=()=>jx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await cf(t)})}function Fx(t,e){return e().catch(n=>Ud(t,n,e))}async function df(t){const e=ye(t),n=Ks(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;d$(e);)try{const s=await QU(e.localStore,r);if(s===null){e.D_.length===0&&n.Xo();break}r=s.batchId,h$(e,s)}catch(s){await Ud(e,s)}Bx(e)&&zx(e)}function d$(t){return Qi(t)&&t.D_.length<10}function h$(t,e){t.D_.push(e);const n=Ks(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function Bx(t){return Qi(t)&&!Ks(t).Ho()&&t.D_.length>0}function zx(t){Ks(t).start()}async function f$(t){Ks(t).d_()}async function p$(t){const e=Ks(t);for(const n of t.D_)e.I_(n.mutations)}async function m$(t,e,n){const r=t.D_.shift(),s=D_.from(r,e,n);await Fx(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await df(t)}async function g$(t,e){e&&Ks(t).P_&&await async function(r,s){if(function(o){return oU(o)&&o!==j.ABORTED}(s.code)){const i=r.D_.shift();Ks(r).Zo(),await Fx(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await df(r)}}(t,e),Bx(t)&&zx(t)}async function yE(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const r=Qi(n);n.v_.add(3),await Ou(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await cf(n)}async function y$(t,e){const n=ye(t);e?(n.v_.delete(2),await cf(n)):e||(n.v_.add(2),await Ou(n),n.x_.set("Unknown"))}function _a(t){return t.N_||(t.N_=function(n,r,s){const i=ye(n);return i.R_(),new r$(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:l$.bind(null,t),To:u$.bind(null,t),u_:c$.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),z_(t)?B_(t):t.x_.set("Unknown")):(await t.N_.stop(),$x(t))})),t.N_}function Ks(t){return t.B_||(t.B_=function(n,r,s){const i=ye(n);return i.R_(),new s$(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:f$.bind(null,t),To:g$.bind(null,t),E_:p$.bind(null,t),T_:m$.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await df(t)):(await t.B_.stop(),t.D_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new q_(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function W_(t,e){if(ns("AsyncQueue",`${e}: ${t}`),Nu(t))return new Y(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=Qa(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new Do(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Do)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Do;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(){this.L_=new Ye(ae.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):de():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class na{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new na(e,n,Do.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(){this.q_=void 0,this.listeners=[]}}class v${constructor(){this.queries=new ya(e=>dx(e),rf),this.onlineState="Unknown",this.Q_=new Set}}async function H_(t,e){const n=ye(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new _$),s)try{i.q_=await n.onListen(r)}catch(o){const a=W_(o,`Initialization of query '${so(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.K_(n.onlineState),i.q_&&e.U_(i.q_)&&G_(n)}async function K_(t,e){const n=ye(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function w$(t,e){const n=ye(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.U_(s)&&(r=!0);o.q_=s}}r&&G_(n)}function E$(t,e,n){const r=ye(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function G_(t){t.Q_.forEach(e=>{e.next()})}class Q_{constructor(e,n,r){this.query=e,this.W_=n,this.G_=!1,this.z_=null,this.onlineState="Unknown",this.options=r||{}}U_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new na(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.G_?this.j_(e)&&(this.W_.next(e),n=!0):this.H_(e,this.onlineState)&&(this.J_(e),n=!0),this.z_=e,n}onError(e){this.W_.error(e)}K_(e){this.onlineState=e;let n=!1;return this.z_&&!this.G_&&this.H_(this.z_,e)&&(this.J_(this.z_),n=!0),n}H_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Y_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}j_(e){if(e.docChanges.length>0)return!0;const n=this.z_&&this.z_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}J_(e){e=na.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.G_=!0,this.W_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.key=e}}class Wx{constructor(e){this.key=e}}class T${constructor(e,n){this.query=e,this.sa=n,this.oa=null,this.hasCachedResults=!1,this.current=!1,this._a=Ee(),this.mutatedKeys=Ee(),this.aa=hx(e),this.ua=new Do(this.aa)}get ca(){return this.sa}la(e,n){const r=n?n.ha:new _E,s=n?n.ua:this.ua;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),m=sf(this.query,h)?h:null,_=!!f&&this.mutatedKeys.has(f.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let w=!1;f&&m?f.data.isEqual(m.data)?_!==v&&(r.track({type:3,doc:m}),w=!0):this.Pa(f,m)||(r.track({type:2,doc:m}),w=!0,(l&&this.aa(m,l)>0||u&&this.aa(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),w=!0):f&&!m&&(r.track({type:1,doc:f}),w=!0,(l||u)&&(a=!0)),w&&(m?(o=o.add(m),i=v?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{ua:o,ha:r,Xi:a,mutatedKeys:i}}Pa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ua;this.ua=e.ua,this.mutatedKeys=e.mutatedKeys;const i=e.ha.k_();i.sort((u,d)=>function(f,m){const _=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return _(f)-_(m)}(u.type,d.type)||this.aa(u.doc,d.doc)),this.Ia(r);const o=n?this.Ta():[],a=this._a.size===0&&this.current?1:0,l=a!==this.oa;return this.oa=a,i.length!==0||l?{snapshot:new na(this.query,e.ua,s,i,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}K_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ua:this.ua,ha:new _E,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Ea:[]}}da(e){return!this.sa.has(e)&&!!this.ua.has(e)&&!this.ua.get(e).hasLocalMutations}Ia(e){e&&(e.addedDocuments.forEach(n=>this.sa=this.sa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.sa=this.sa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this._a;this._a=Ee(),this.ua.forEach(r=>{this.da(r.key)&&(this._a=this._a.add(r.key))});const n=[];return e.forEach(r=>{this._a.has(r)||n.push(new Wx(r))}),this._a.forEach(r=>{e.has(r)||n.push(new qx(r))}),n}Aa(e){this.sa=e.hs,this._a=Ee();const n=this.la(e.documents);return this.applyChanges(n,!0)}Ra(){return na.fromInitialDocuments(this.query,this.ua,this.mutatedKeys,this.oa===0,this.hasCachedResults)}}class I${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class S${constructor(e){this.key=e,this.Va=!1}}class C${constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.ma={},this.fa=new ya(a=>dx(a),rf),this.ga=new Map,this.pa=new Set,this.ya=new Ye(ae.comparator),this.wa=new Map,this.Sa=new V_,this.ba={},this.Da=new Map,this.Ca=ta.Bn(),this.onlineState="Unknown",this.va=void 0}get isPrimaryClient(){return this.va===!0}}async function x$(t,e){const n=L$(t);let r,s;const i=n.fa.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Ra();else{const o=await JU(n.localStore,Rr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await A$(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&Mx(n.remoteStore,o)}return s}async function A$(t,e,n,r,s){t.Fa=(h,f,m)=>async function(v,w,g,p){let y=w.view.la(g);y.Xi&&(y=await pE(v.localStore,w.query,!1).then(({documents:A})=>w.view.la(A,y)));const I=p&&p.targetChanges.get(w.targetId),S=w.view.applyChanges(y,v.isPrimaryClient,I);return wE(v,w.targetId,S.Ea),S.snapshot}(t,h,f,m);const i=await pE(t.localStore,e,!0),o=new T$(e,i.hs),a=o.la(i.documents),l=bu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);wE(t,n,u.Ea);const d=new I$(e,n,o);return t.fa.set(e,d),t.ga.has(n)?t.ga.get(n).push(e):t.ga.set(n,[e]),u.snapshot}async function P$(t,e){const n=ye(t),r=n.fa.get(e),s=n.ga.get(r.targetId);if(s.length>1)return n.ga.set(r.targetId,s.filter(i=>!rf(i,e))),void n.fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await dg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Vx(n.remoteStore,r.targetId),hg(n,r.targetId)}).catch(Ru)):(hg(n,r.targetId),await dg(n.localStore,r.targetId,!0))}async function R$(t,e,n){const r=M$(t);try{const s=await function(o,a){const l=ye(o),u=vt.now(),d=a.reduce((m,_)=>m.add(_.key),Ee());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let _=rs(),v=Ee();return l.os.getEntries(m,d).next(w=>{_=w,_.forEach((g,p)=>{p.isValidDocument()||(v=v.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,_)).next(w=>{h=w;const g=[];for(const p of a){const y=tU(p,h.get(p.key).overlayedDocument);y!=null&&g.push(new ti(p.key,y,rx(y.value.mapValue),Bn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,g,a)}).next(w=>{f=w;const g=w.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(m,w.batchId,g)})}).then(()=>({batchId:f.batchId,changes:px(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.ba[o.currentUser.toKey()];u||(u=new Ye(xe)),u=u.insert(a,l),o.ba[o.currentUser.toKey()]=u}(r,s.batchId,n),await ju(r,s.changes),await df(r.remoteStore)}catch(s){const i=W_(s,"Failed to persist write");n.reject(i)}}async function Hx(t,e){const n=ye(t);try{const r=await KU(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.wa.get(i);o&&(Be(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Va=!0:s.modifiedDocuments.size>0?Be(o.Va):s.removedDocuments.size>0&&(Be(o.Va),o.Va=!1))}),await ju(n,r,e)}catch(r){await Ru(r)}}function vE(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.fa.forEach((i,o)=>{const a=o.view.K_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ye(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.listeners)f.K_(a)&&(u=!0)}),u&&G_(l)}(r.eventManager,e),s.length&&r.ma.u_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function N$(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.wa.get(e),i=s&&s.key;if(i){let o=new Ye(ae.comparator);o=o.insert(i,Gt.newNoDocument(i,ge.min()));const a=Ee().add(i),l=new lf(ge.min(),new Map,new Ye(xe),o,a);await Hx(r,l),r.ya=r.ya.remove(i),r.wa.delete(e),J_(r)}else await dg(r.localStore,e,!1).then(()=>hg(r,e,n)).catch(Ru)}async function k$(t,e){const n=ye(t),r=e.batch.batchId;try{const s=await HU(n.localStore,e);Gx(n,r,null),Kx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ju(n,s)}catch(s){await Ru(s)}}async function b$(t,e,n){const r=ye(t);try{const s=await function(o,a){const l=ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Be(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);Gx(r,e,n),Kx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ju(r,s)}catch(s){await Ru(s)}}function Kx(t,e){(t.Da.get(e)||[]).forEach(n=>{n.resolve()}),t.Da.delete(e)}function Gx(t,e,n){const r=ye(t);let s=r.ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.ba[r.currentUser.toKey()]=s}}function hg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ga.get(e))t.fa.delete(r),n&&t.ma.Ma(r,n);t.ga.delete(e),t.isPrimaryClient&&t.Sa.Vr(e).forEach(r=>{t.Sa.containsKey(r)||Qx(t,r)})}function Qx(t,e){t.pa.delete(e.path.canonicalString());const n=t.ya.get(e);n!==null&&(Vx(t.remoteStore,n),t.ya=t.ya.remove(e),t.wa.delete(n),J_(t))}function wE(t,e,n){for(const r of n)r instanceof qx?(t.Sa.addReference(r.key,e),O$(t,r)):r instanceof Wx?(te("SyncEngine","Document no longer in limbo: "+r.key),t.Sa.removeReference(r.key,e),t.Sa.containsKey(r.key)||Qx(t,r.key)):de()}function O$(t,e){const n=e.key,r=n.path.canonicalString();t.ya.get(n)||t.pa.has(r)||(te("SyncEngine","New document in limbo: "+n),t.pa.add(r),J_(t))}function J_(t){for(;t.pa.size>0&&t.ya.size<t.maxConcurrentLimboResolutions;){const e=t.pa.values().next().value;t.pa.delete(e);const n=new ae($e.fromString(e)),r=t.Ca.next();t.wa.set(r,new S$(n)),t.ya=t.ya.insert(n,r),Mx(t.remoteStore,new Ss(Rr(nf(n.path)),r,"TargetPurposeLimboResolution",A_.ae))}}async function ju(t,e,n){const r=ye(t),s=[],i=[],o=[];r.fa.isEmpty()||(r.fa.forEach((a,l)=>{o.push(r.Fa(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){s.push(u);const d=$_.Ki(l.targetId,u);i.push(d)}}))}),await Promise.all(o),r.ma.u_(s),await async function(l,u){const d=ye(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>V.forEach(u,f=>V.forEach(f.qi,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>V.forEach(f.Qi,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!Nu(h))throw h;te("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=d.ns.get(f),_=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(_);d.ns=d.ns.insert(f,v)}}}(r.localStore,i))}async function j$(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const r=await Ox(n.localStore,e);n.currentUser=e,function(i,o){i.Da.forEach(a=>{a.forEach(l=>{l.reject(new Y(j.CANCELLED,o))})}),i.Da.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ju(n,r.us)}}function D$(t,e){const n=ye(t),r=n.wa.get(e);if(r&&r.Va)return Ee().add(r.key);{let s=Ee();const i=n.ga.get(e);if(!i)return s;for(const o of i){const a=n.fa.get(o);s=s.unionWith(a.view.ca)}return s}}function L$(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=D$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N$.bind(null,e),e.ma.u_=w$.bind(null,e.eventManager),e.ma.Ma=E$.bind(null,e.eventManager),e}function M$(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=k$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=b$.bind(null,e),e}class EE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=uf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return WU(this.persistence,new zU,e.initialUser,this.serializer)}createPersistence(e){return new $U(U_.Hr,this.serializer)}createSharedClientState(e){return new XU}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class V${async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=j$.bind(null,this.syncEngine),await y$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new v$}()}createDatastore(e){const n=uf(e.databaseInfo.databaseId),r=function(i){return new n$(i)}(e.databaseInfo);return function(i,o,a,l){return new i$(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new a$(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>vE(this.syncEngine,n,0),function(){return gE.C()?new gE:new ZU}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,d){const h=new C$(s,i,o,a,l,u);return d&&(h.va=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ye(n);te("RemoteStore","RemoteStore shutting down."),r.v_.add(5),await Ou(r),r.M_.shutdown(),r.x_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Na(this.observer.next,e)}error(e){this.observer.error?this.Na(this.observer.error,e):ns("Uncaught Error in snapshot listener:",e.toString())}Ba(){this.muted=!0}Na(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ht.UNAUTHENTICATED,this.clientId=ex.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{te("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(te("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Y(j.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=W_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function xp(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Ox(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function TE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await F$(t);te("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>yE(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>yE(e.remoteStore,i)),t._onlineComponents=e}function $$(t){return t.name==="FirebaseError"?t.code===j.FAILED_PRECONDITION||t.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function F$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await xp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!$$(n))throw n;Qo("Error using user provided cache. Falling back to memory cache: "+n),await xp(t,new EE)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await xp(t,new EE);return t._offlineComponents}async function Jx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await TE(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await TE(t,new V$))),t._onlineComponents}function B$(t){return Jx(t).then(e=>e.syncEngine)}async function $d(t){const e=await Jx(t),n=e.eventManager;return n.onListen=x$.bind(null,e.syncEngine),n.onUnlisten=P$.bind(null,e.syncEngine),n}function z$(t,e,n={}){const r=new Gr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new Y_({next:f=>{o.enqueueAndForget(()=>K_(i,h));const m=f.docs.has(a);!m&&f.fromCache?u.reject(new Y(j.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?u.reject(new Y(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new Q_(nf(a.path),d,{includeMetadataChanges:!0,Y_:!0});return H_(i,h)}(await $d(t),t.asyncQueue,e,n,r)),r.promise}function q$(t,e,n={}){const r=new Gr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new Y_({next:f=>{o.enqueueAndForget(()=>K_(i,h)),f.fromCache&&l.source==="server"?u.reject(new Y(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new Q_(a,d,{includeMetadataChanges:!0,Y_:!0});return H_(i,h)}(await $d(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(t,e,n){if(!n)throw new Y(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function W$(t,e,n,r){if(e===!0&&r===!0)throw new Y(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function SE(t){if(!ae.isDocumentKey(t))throw new Y(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function CE(t){if(ae.isDocumentKey(t))throw new Y(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de()}function gn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hf(t);throw new Y(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}W$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Y(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Y(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Y(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ff{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Y(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Y(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hV;switch(r.type){case"firstParty":return new gV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=IE.get(n);r&&(te("ComponentProvider","Removing Datastore"),IE.delete(n),r.terminate())}(this),Promise.resolve()}}function H$(t,e,n,r={}){var s;const i=(t=gn(t,ff))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ht.MOCK_USER;else{a=II(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Y(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ht(u)}t._authCredentials=new fV(new ZC(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ni(this.firestore,e,this._query)}}class Yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}}class Ms extends ni{constructor(e,n,r){super(e,n,nf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new ae(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function Ke(t,e,...n){if(t=Je(t),Xx("collection","path",e),t instanceof ff){const r=$e.fromString(e,...n);return CE(r),new Ms(t,null,r)}{if(!(t instanceof Yt||t instanceof Ms))throw new Y(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return CE(r),new Ms(t.firestore,null,r)}}function ue(t,e,...n){if(t=Je(t),arguments.length===1&&(e=ex.V()),Xx("doc","path",e),t instanceof ff){const r=$e.fromString(e,...n);return SE(r),new Yt(t,null,new ae(r))}{if(!(t instanceof Yt||t instanceof Ms))throw new Y(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return SE(r),new Yt(t.firestore,t instanceof Ms?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(){this.Ya=Promise.resolve(),this.Za=[],this.Xa=!1,this.eu=[],this.tu=null,this.nu=!1,this.ru=!1,this.iu=[],this.jo=new Dx(this,"async_queue_retry"),this.su=()=>{const n=Cp();n&&te("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Cp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.su)}get isShuttingDown(){return this.Xa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ou(),this._u(e)}enterRestrictedMode(e){if(!this.Xa){this.Xa=!0,this.ru=e||!1;const n=Cp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.su)}}enqueue(e){if(this.ou(),this.Xa)return new Promise(()=>{});const n=new Gr;return this._u(()=>this.Xa&&this.ru?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Za.push(e),this.au()))}async au(){if(this.Za.length!==0){try{await this.Za[0](),this.Za.shift(),this.jo.reset()}catch(e){if(!Nu(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Za.length>0&&this.jo.qo(()=>this.au())}}_u(e){const n=this.Ya.then(()=>(this.nu=!0,e().catch(r=>{this.tu=r,this.nu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ns("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.nu=!1,r))));return this.Ya=n,n}enqueueAfterDelay(e,n,r){this.ou(),this.iu.indexOf(e)>-1&&(n=0);const s=q_.createAndSchedule(this,e,n,r,i=>this.uu(i));return this.eu.push(s),s}ou(){this.tu&&de()}verifyOperationInProgress(){}async cu(){let e;do e=this.Ya,await e;while(e!==this.Ya)}lu(e){for(const n of this.eu)if(n.timerId===e)return!0;return!1}hu(e){return this.cu().then(()=>{this.eu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.cu()})}Pu(e){this.iu.push(e)}uu(e){const n=this.eu.indexOf(e);this.eu.splice(n,1)}}function AE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class ss extends ff{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new K$}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Zx(this),this._firestoreClient.terminate()}}function G$(t,e){const n=typeof t=="object"?t:Ay(),r=typeof t=="string"?t:e||"(default)",s=fh(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=wI("firestore");i&&H$(s,...i)}return s}function pf(t){return t._firestoreClient||Zx(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Zx(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,d){return new PV(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Yx(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new U$(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ra(en.fromBase64String(e))}catch(n){throw new Y(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ra(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$=/^__.*__$/;class J${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ti(e,this.data,this.fieldMask,n,this.fieldTransforms):new ku(e,this.data,n,this.fieldTransforms)}}class eA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ti(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function tA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}class gf{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Iu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new gf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}du(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Eu({path:r,Au:!1});return s.Ru(e),s}Vu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Eu({path:r,Au:!1});return s.Iu(),s}mu(e){return this.Eu({path:void 0,Au:!0})}fu(e){return Fd(e,this.settings.methodName,this.settings.gu||!1,this.path,this.settings.pu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Iu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ru(this.path.get(e))}Ru(e){if(e.length===0)throw this.fu("Document fields must not be empty");if(tA(this.Tu)&&Q$.test(e))throw this.fu('Document fields cannot begin and end with "__"')}}class Y${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||uf(e)}yu(e,n,r,s=!1){return new gf({Tu:e,methodName:n,pu:r,path:Ot.emptyPath(),Au:!1,gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yf(t){const e=t._freezeSettings(),n=uf(t._databaseId);return new Y$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nA(t,e,n,r,s,i={}){const o=t.yu(i.merge||i.mergeFields?2:0,e,n,s);ev("Data must be an object, but it was:",o,r);const a=sA(r,o);let l,u;if(i.merge)l=new Tn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const f=fg(e,h,n);if(!o.contains(f))throw new Y(j.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);oA(d,f)||d.push(f)}l=new Tn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new J$(new dn(a),l,u)}class _f extends va{_toFieldTransform(e){if(e.Tu!==2)throw e.Tu===1?e.fu(`${this._methodName}() can only appear at the top level of your update data`):e.fu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _f}}function rA(t,e,n){return new gf({Tu:3,pu:e.settings.pu,methodName:t._methodName,Au:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Z_ extends va{_toFieldTransform(e){return new O_(e.path,new eu)}isEqual(e){return e instanceof Z_}}class X$ extends va{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=rA(this,e,!0),r=this.wu.map(i=>Ji(i,n)),s=new Zo(r);return new O_(e.path,s)}isEqual(e){return this===e}}class Z$ extends va{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=rA(this,e,!0),r=this.wu.map(i=>Ji(i,n)),s=new ea(r);return new O_(e.path,s)}isEqual(e){return this===e}}function eF(t,e,n,r){const s=t.yu(1,e,n);ev("Data must be an object, but it was:",s,r);const i=[],o=dn.empty();Gi(r,(l,u)=>{const d=tv(e,l,n);u=Je(u);const h=s.Vu(d);if(u instanceof _f)i.push(d);else{const f=Ji(u,h);f!=null&&(i.push(d),o.set(d,f))}});const a=new Tn(i);return new eA(o,a,s.fieldTransforms)}function tF(t,e,n,r,s,i){const o=t.yu(1,e,n),a=[fg(e,r,n)],l=[s];if(i.length%2!=0)throw new Y(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(fg(e,i[f])),l.push(i[f+1]);const u=[],d=dn.empty();for(let f=a.length-1;f>=0;--f)if(!oA(u,a[f])){const m=a[f];let _=l[f];_=Je(_);const v=o.Vu(m);if(_ instanceof _f)u.push(m);else{const w=Ji(_,v);w!=null&&(u.push(m),d.set(m,w))}}const h=new Tn(u);return new eA(d,h,o.fieldTransforms)}function nF(t,e,n,r=!1){return Ji(n,t.yu(r?4:3,e))}function Ji(t,e){if(iA(t=Je(t)))return ev("Unsupported field value:",e,t),sA(t,e);if(t instanceof va)return function(r,s){if(!tA(s.Tu))throw s.fu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.fu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Au&&e.Tu!==4)throw e.fu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Ji(a,s.mu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Je(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QV(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=vt.fromDate(r);return{timestampValue:Vd(s.serializer,i)}}if(r instanceof vt){const i=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vd(s.serializer,i)}}if(r instanceof X_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ra)return{bytesValue:Ax(s.serializer,r._byteString)};if(r instanceof Yt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.fu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:M_(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.fu(`Unsupported field value: ${hf(r)}`)}(t,e)}function sA(t,e){const n={};return tx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gi(t,(r,s)=>{const i=Ji(s,e.du(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function iA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof X_||t instanceof ra||t instanceof Yt||t instanceof va)}function ev(t,e,n){if(!iA(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=hf(n);throw r==="an object"?e.fu(t+" a custom object"):e.fu(t+" "+r)}}function fg(t,e,n){if((e=Je(e))instanceof mf)return e._internalPath;if(typeof e=="string")return tv(t,e);throw Fd("Field path arguments must be of type string or ",t,!1,void 0,n)}const rF=new RegExp("[~\\*/\\[\\]]");function tv(t,e,n){if(e.search(rF)>=0)throw Fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new mf(...e.split("."))._internalPath}catch{throw Fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fd(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Y(j.INVALID_ARGUMENT,a+t+l)}function oA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sF extends aA{data(){return super.data()}}function vf(t,e){return typeof e=="string"?tv(t,e):e instanceof mf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nv{}class uA extends nv{}function Qr(t,e,...n){let r=[];e instanceof nv&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof rv).length,a=i.filter(l=>l instanceof wf).length;if(o>1||o>0&&a>0)throw new Y(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class wf extends uA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new wf(e,n,r)}_apply(e){const n=this._parse(e);return dA(e._query,n),new ni(e.firestore,e.converter,ig(e._query,n))}_parse(e){const n=yf(e.firestore);return function(i,o,a,l,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Y(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){RE(h,d);const m=[];for(const _ of h)m.push(PE(l,i,_));f={arrayValue:{values:m}}}else f=PE(l,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||RE(h,d),f=nF(a,o,h,d==="in"||d==="not-in");return ft.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function cn(t,e,n){const r=e,s=vf("where",t);return wf._create(s,r,n)}class rv extends nv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new rv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:cr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)dA(o,l),o=ig(o,l)}(e._query,n),new ni(e.firestore,e.converter,ig(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sv extends uA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new sv(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new Y(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Y(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zl(i,o)}(e._query,this._field,this._direction);return new ni(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new ga(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function cA(t,e="asc"){const n=e,r=vf("orderBy",t);return sv._create(r,n)}function PE(t,e,n){if(typeof(n=Je(n))=="string"){if(n==="")throw new Y(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cx(e)&&n.indexOf("/")!==-1)throw new Y(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($e.fromString(n));if(!ae.isDocumentKey(r))throw new Y(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Y0(t,new ae(r))}if(n instanceof Yt)return Y0(t,n._key);throw new Y(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hf(n)}.`)}function RE(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dA(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class iF{convertValue(e,n="none"){switch(Vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw de()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Gi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new X_(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=R_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const n=Hs(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$e.fromString(e);Be(bx(r));const s=new Yl(r.get(1),r.get(3)),i=new ae(r.popFirst(5));return s.isEqual(n)||ns(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fA extends aA{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Fc extends fA{data(e={}){return super.data(e)}}class pA{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ya(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Fc(this._firestore,this._userDataWriter,r.key,r,new Ya(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Fc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ya(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Fc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ya(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:oF(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function oF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t){t=gn(t,Yt);const e=gn(t.firestore,ss);return z$(pf(e),t._key).then(n=>mA(e,t,n))}class iv extends iF{constructor(e){super(),this.firestore=e}convertBytes(e){return new ra(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function In(t){t=gn(t,ni);const e=gn(t.firestore,ss),n=pf(e),r=new iv(e);return lA(t._query),q$(n,t._query).then(s=>new pA(e,r,t,s))}function ov(t,e,n){t=gn(t,Yt);const r=gn(t.firestore,ss),s=hA(t.converter,e,n);return Ef(r,[nA(yf(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Bn.none())])}function yt(t,e,n,...r){t=gn(t,Yt);const s=gn(t.firestore,ss),i=yf(s);let o;return o=typeof(e=Je(e))=="string"||e instanceof mf?tF(i,"updateDoc",t._key,e,n,r):eF(i,"updateDoc",t._key,e),Ef(s,[o.toMutation(t._key,Bn.exists(!0))])}function pg(t){return Ef(gn(t.firestore,ss),[new j_(t._key,Bn.none())])}function Ui(t,e){const n=gn(t.firestore,ss),r=ue(t),s=hA(t.converter,e);return Ef(n,[nA(yf(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Bn.exists(!1))]).then(()=>r)}function av(t,...e){var n,r,s;t=Je(t);let i={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||AE(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges};if(AE(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,u,d;if(t instanceof Yt)u=gn(t.firestore,ss),d=nf(t._key.path),l={next:h=>{e[o]&&e[o](mA(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=gn(t,ni);u=gn(h.firestore,ss),d=h._query;const f=new iv(u);l={next:m=>{e[o]&&e[o](new pA(u,f,h,m))},error:e[o+1],complete:e[o+2]},lA(t._query)}return function(f,m,_,v){const w=new Y_(v),g=new Q_(m,w,_);return f.asyncQueue.enqueueAndForget(async()=>H_(await $d(f),g)),()=>{w.Ba(),f.asyncQueue.enqueueAndForget(async()=>K_(await $d(f),g))}}(pf(u),d,a,l)}function Ef(t,e){return function(r,s){const i=new Gr;return r.asyncQueue.enqueueAndForget(async()=>R$(await B$(r),s,i)),i.promise}(pf(t),e)}function mA(t,e,n){const r=n.docs.get(e._key),s=new iv(t);return new fA(t,s,e._key,r,new Ya(n.hasPendingWrites,n.fromCache),e.converter)}function Lo(){return new Z_("serverTimestamp")}function mg(...t){return new X$("arrayUnion",t)}function NE(...t){return new Z$("arrayRemove",t)}(function(e,n=!0){(function(s){ma=s})(qi),bi(new qs("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new ss(new pV(r.getProvider("auth-internal")),new _V(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),xr(K0,"4.3.0",e),xr(K0,"4.3.0","esm2017")})();const aF={apiKey:"AIzaSyCGQM0_diw6g0DL1t8mhAjLl1UR6lVdqc4",authDomain:"softwareengineeringproje-ce511.firebaseapp.com",projectId:"softwareengineeringproje-ce511",storageBucket:"softwareengineeringproje-ce511.appspot.com",messagingSenderId:"539519997261",appId:"1:539519997261:web:11a7ff83a73b35d8321304",measurementId:"G-8EJL2PFGMK"},gA=xI(aF);Pe(gA);const Mo=nM(gA);new nr;const ee=G$(),lF="_logoContainer_1jgbe_1",uF="_logo_1jgbe_1",cF="_logoTitle_1jgbe_13",Ap={logoContainer:lF,logo:uF,logoTitle:cF},lv=()=>c.jsxs("div",{className:Ap.logoContainer,children:[c.jsx("img",{src:"/public/logo.jpg",alt:"Your Logo",className:Ap.logo}),c.jsx("div",{className:Ap.logoTitle,children:c.jsx("h1",{children:"TAKE OFF"})})]}),dF="_dividerContainer_rfi2p_1",hF="_divider_rfi2p_1",fF="_dividerContent_rfi2p_18",_c={dividerContainer:dF,divider:hF,dividerContent:fF},yA=()=>c.jsxs("div",{className:_c.dividerContainer,children:[c.jsx("span",{className:_c.divider}),c.jsx("span",{className:_c.dividerContent,children:"or"}),c.jsx("span",{className:_c.divider})]});var _A={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],s=0;s<arguments.length;s++){var i=arguments[s];if(i){var o=typeof i;if(o==="string"||o==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var a=n.apply(null,i);a&&r.push(a)}}else if(o==="object"){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){r.push(i.toString());continue}for(var l in i)e.call(i,l)&&i[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(_A);var pF=_A.exports;const mF=Rg(pF),gF=["as","disabled"];function yF(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function _F(t){return!t||t.trim()==="#"}function vA({tagName:t,disabled:e,href:n,target:r,rel:s,role:i,onClick:o,tabIndex:a=0,type:l}){t||(n!=null||r!=null||s!=null?t="a":t="button");const u={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},u];const d=f=>{if((e||t==="a"&&_F(n))&&f.preventDefault(),e){f.stopPropagation();return}o==null||o(f)},h=f=>{f.key===" "&&(f.preventDefault(),d(f))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:i??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?s:void 0,onClick:d,onKeyDown:h},u]}const vF=T.forwardRef((t,e)=>{let{as:n,disabled:r}=t,s=yF(t,gF);const[i,{tagName:o}]=vA(Object.assign({tagName:n,disabled:r},s));return c.jsx(o,Object.assign({},s,i,{ref:e}))});vF.displayName="Button";const wF=["xxl","xl","lg","md","sm","xs"],EF="xs",TF=T.createContext({prefixes:{},breakpoints:wF,minBreakpoint:EF});function IF(t,e){const{prefixes:n}=T.useContext(TF);return t||n[e]||e}const wA=T.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:s=!1,disabled:i=!1,className:o,...a},l)=>{const u=IF(e,"btn"),[d,{tagName:h}]=vA({tagName:t,disabled:i,...a}),f=h;return c.jsx(f,{...d,...a,ref:l,disabled:i,className:mF(o,u,s&&"active",n&&`${u}-${n}`,r&&`${u}-${r}`,a.href&&i&&"disabled")})});wA.displayName="Button";const uv=wA,SF=()=>{var _,v;const{user:t,setUser:e}=gS(),{register:n,handleSubmit:r,formState:s}=Ky(),{errors:i}=s,o=jr();T.useEffect(()=>{t&&o("/feed")},[t,o]);const a=w=>{const g=Pe();eO(g,w.email,w.password).then(p=>{e(p.user),o("/feed")}).catch(p=>{console.error("Error signing in: ",p.message),alert("Error signing in: "+p.message)})},l=async()=>{const w=new nr,g=Pe();try{const y=(await oS(g,w)).user;e(y),await d(y),o("/feed")}catch(p){console.error("Error signing in with Google: ",p.message),alert("Error signing in with Google: "+p.message)}},u=async w=>{try{const g=w.uid,p=h(w);await ov(ue(ee,"users",g),p),console.log("User profile saved successfully")}catch(g){console.error("Error saving user profile:",g)}},d=async w=>{const g=ue(ee,"users",w.uid),p=await Ze(g);console.log("docSnap.exists(): ",p.exists()),p.exists()?console.log("User already exists in Firestore"):await u(w)},h=w=>({firstName:w.firstName||"",lastName:w.lastName||"",email:w.email||"",profilePicture:"https://cdn.onlinewebfonts.com/svg/img_383214.png",title:"",education:"",skills:[],interests:[],bio:"",followersCount:0,posts:[],comments:[],experience:[],contacts:[],createdAt:new Date,lastLogin:new Date}),[f,m]=T.useState(!1);return c.jsxs(c.Fragment,{children:[c.jsx(lv,{}),c.jsxs("div",{className:pr.registerContainer,children:[c.jsx("h1",{children:"Welcome back, We missed you"}),c.jsxs("form",{onSubmit:r(a),noValidate:!0,children:[c.jsxs("div",{className:pr.formGroup,children:[c.jsx("label",{htmlFor:"email",children:"Email:"}),c.jsx("input",{type:"email",id:"email",...n("email",{required:"Email is required!",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Invalid email format"}})}),c.jsx("p",{className:pr.error,children:(_=i.email)==null?void 0:_.message})]}),c.jsxs("div",{className:pr.formGroup,children:[c.jsx("label",{htmlFor:"password",children:"Password:"}),c.jsx("div",{className:pr.passwordContainer,children:c.jsx("input",{type:f?"text":"password",id:"password",...n("password",{required:"Password is required!",pattern:{value:/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*\W)(?!.* ).{8,}$/,message:"Password must contain at least one lowercase letter, one uppercase letter, one special character, and at least 8 digits without spaces."}}),className:pr.passwordInput})}),c.jsx("p",{className:pr.error,children:(v=i.password)==null?void 0:v.message})]}),c.jsx(uv,{id:"registerButton",variant:"primary",size:"lg",className:pr.registerBtn,type:"submit",style:{backgroundColor:"#7F61A9"},children:"Sign In"}),c.jsx(yA,{}),c.jsxs("div",{className:pr.googleSignIn,children:[c.jsx("img",{src:"/public/flat-color-icons_google.svg",alt:"google logo"}),c.jsxs("button",{type:"button",onClick:l,className:pr.GSignInBtn,children:[" ","Sign in with Google"]})]})]})]})]})},CF="_logo_km6mi_4",xF="_registerContainer_km6mi_10",AF="_formGroup_km6mi_27",PF="_error_km6mi_68",RF="_passwordContainer_km6mi_91",NF="_registerBtn_km6mi_96",kF="_googleSignIn_km6mi_100",bF="_GSignInBtn_km6mi_126",Yn={logo:CF,registerContainer:xF,formGroup:AF,error:PF,passwordContainer:RF,registerBtn:NF,googleSignIn:kF,GSignInBtn:bF},OF=()=>{var f,m,_;const{user:t,setUser:e}=gS(),{register:n,handleSubmit:r,formState:s}=Ky(),{errors:i}=s,o=jr(),a=v=>{const w=Pe(),{email:g,password:p}=v;Zb(w,g,p).then(y=>{const I=y.user;e(I),h(I,v),console.log("Registered successfully!",I),alert("Registered successfully! "),o("/create-profile")}).catch(y=>{console.error("Error registering:",y.message),alert("Error registering: "+y.message)})},[l,u]=T.useState(!1),d=()=>{const v=new nr,w=Pe();oS(w,v).then(g=>{var I;const p=(I=g.additionalUserInfo)==null?void 0:I.isNewUser,y=g.user;e(g.user),p&&h(y),o("/feed")}).catch(g=>{console.error("Error signing in with Google: ",g.message),alert("Error signing in with Google: "+g.message)})},h=async(v,w)=>{try{const g=v.uid,p={userID:g,email:v.email,firstName:w.firstName||"",lastName:w.lastName||"",profilePicture:w.profilePicture||"https://cdn.onlinewebfonts.com/svg/img_383214.png",title:w.title||"",education:w.education||"",skills:w.skills||[],interests:w.interests||[],bio:w.bio||"",followersCount:0,posts:[],comments:[],experience:w.experience||[],contacts:w.contacts||[],createdAt:new Date,lastLogin:new Date,birthday:w.birthday||""};await ov(ue(ee,"users",g),p),console.log("User profile saved successfully")}catch(g){console.error("Error saving user profile:",g)}};return c.jsxs(c.Fragment,{children:[c.jsx(lv,{}),c.jsxs("div",{className:Yn.registerContainer,children:[c.jsx("h1",{children:"Elevate Your Professional Journey"}),c.jsx("h6",{children:"Lets start with a few details from you"}),c.jsxs("form",{onSubmit:r(a),noValidate:!0,children:[c.jsxs("div",{className:Yn.formGroup,children:[c.jsx("label",{htmlFor:"email",children:"Email:"}),c.jsx("input",{type:"email",id:"email",...n("email",{required:"Email is required!",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Invalid email format"}})}),c.jsx("p",{className:Yn.error,children:(f=i.email)==null?void 0:f.message})]}),c.jsxs("div",{className:Yn.formGroup,children:[c.jsx("label",{htmlFor:"password",children:"Password:"}),c.jsx("div",{className:Yn.passwordContainer,children:c.jsx("input",{type:l?"text":"password",id:"password",...n("password",{required:"Password is required!",pattern:{value:/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*\W)(?!.* ).{8,}$/,message:"Password must contain at least one lowercase letter, one uppercase letter, one special character, and at least 8 digits without spaces."}}),className:Yn.passwordInput})}),c.jsx("p",{className:Yn.error,children:(m=i.password)==null?void 0:m.message})]}),c.jsxs("div",{className:Yn.formGroup,children:[c.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password:"}),c.jsx("input",{type:"password",id:"confirmPassword",...n("confirmPassword",{validate:v=>v===document.getElementById("password").value||"Passwords do not match."})}),c.jsx("p",{className:Yn.error,children:(_=i.confirmPassword)==null?void 0:_.message})]}),c.jsx(uv,{variant:"primary",size:"lg",className:"registerBtn",type:"submit",style:{backgroundColor:"#7F61A9"},children:"Register"}),c.jsx(yA,{}),c.jsxs("div",{className:Yn.googleSignIn,children:[c.jsx("img",{src:"/public/flat-color-icons_google.svg",alt:"google logo"}),c.jsxs("button",{type:"button",onClick:d,className:Yn.GSignInBtn,children:[" ","Sign in with Google"]})]})]})]})]})},jF="_navBar_1ykzh_1",DF="_navLogo_1ykzh_15",LF="_menuIcon_1ykzh_24",MF="_mobNavBar_1ykzh_24",VF="_navMenu1_1ykzh_28",UF="_navMenu1List_1ykzh_34",$F="_navMenu1ListItem_1ykzh_42",FF="_navMenu2_1ykzh_53",BF="_searchBarContainer_1ykzh_62",zF="_searchIcon_1ykzh_73",qF="_searchInput_1ykzh_79",WF="_searchResults_1ykzh_101",HF="_icons_1ykzh_117",KF="_profilePicContainer_1ykzh_124",GF="_profilePic_1ykzh_124",QF="_menu_1ykzh_24",JF="_menuItemLink_1ykzh_146",YF="_logoIcon_1ykzh_168",XF="_menuItem_1ykzh_146",ZF="_icon_1ykzh_117",pe={navBar:jF,navLogo:DF,menuIcon:LF,mobNavBar:MF,navMenu1:VF,navMenu1List:UF,navMenu1ListItem:$F,navMenu2:FF,searchBarContainer:BF,searchIcon:zF,searchInput:qF,searchResults:WF,icons:HF,profilePicContainer:KF,profilePic:GF,menu:QF,menuItemLink:JF,logoIcon:YF,menuItem:XF,icon:ZF};var EA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},kE=bt.createContext&&bt.createContext(EA),Vs=globalThis&&globalThis.__assign||function(){return Vs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Vs.apply(this,arguments)},e4=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};function TA(t){return t&&t.map(function(e,n){return bt.createElement(e.tag,Vs({key:n},e.attr),TA(e.child))})}function Yi(t){return function(e){return bt.createElement(t4,Vs({attr:Vs({},t.attr)},e),TA(t.child))}}function t4(t){var e=function(n){var r=t.attr,s=t.size,i=t.title,o=e4(t,["attr","size","title"]),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),bt.createElement("svg",Vs({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Vs(Vs({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&bt.createElement("title",null,i),t.children)};return kE!==void 0?bt.createElement(kE.Consumer,null,function(n){return e(n)}):e(EA)}function n4(t){return Yi({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M1 3h14v3h-14zM1 7h14v3h-14zM1 11h14v3h-14z"}}]})(t)}const Du=({onFindJobsClick:t,onSavedJobsClick:e,handleTabClick:n})=>{const[r,s]=T.useState(!1),[i,o]=T.useState(!1),a=()=>{s(!r)},l=()=>{o(!i)};T.useContext(_u);const u=jr(),[d,h]=T.useState(!1),[f,m]=T.useState(null),[_,v]=T.useState(null),g=Pe().currentUser,[p,y]=T.useState(""),[I,S]=T.useState([]);T.useEffect(()=>{if(g){const M=ue(ee,"users",g.uid);Ze(M).then(J=>{if(J.exists()){const W=J.data();m(W.profilePicture)}else console.error("User document doesn't exist!")}).catch(J=>{console.error("Error fetching user data:",J)})}(async()=>{const M=await k("media/logo.jpg");v(M)})()},[]);const A=()=>{const $=Pe();sO($).then(()=>{u("/")}).catch(M=>{console.error("Error signing out: ",M.message),alert("Error signing out: "+M.message)})},k=async $=>{try{const M=bo(Mo,$);return await ko(M)}catch(M){return console.error("Error fetching image URL: ",M),null}},O=$=>{y($.target.value)};return T.useEffect(()=>{(async()=>{try{const M=Ke(ee,"users"),J=Qr(M,cn("firstName",">=",p),cn("firstName","<=",p+"")),W=Qr(M,cn("lastName",">=",p),cn("lastName","<=",p+"")),[Z,R]=await Promise.all([In(J),In(W)]),b=Z.docs.map(x=>({id:x.id,firstName:x.data().firstName,lastName:x.data().lastName})),K=R.docs.map(x=>({id:x.id,firstName:x.data().firstName,lastName:x.data().lastName})),C=[...b,...K];S(C)}catch(M){console.error("Error searching users:",M)}})()},[p]),c.jsx(c.Fragment,{children:c.jsxs("div",{className:pe.navBar,children:[c.jsxs("div",{className:pe.logoIcon,children:[c.jsx("img",{className:pe.navLogo,src:_,alt:"logo"}),!d&&c.jsxs("div",{className:pe.menu,children:[c.jsx("div",{className:pe.menuItem,children:c.jsx(Wt,{to:"/feed",className:pe.menuItemLink,children:c.jsx("img",{className:pe.icon,src:"./home.svg",alt:"home",style:{fill:"#9F9BB9"}})})}),c.jsx("div",{className:pe.menuItem,children:c.jsx(Wt,{to:"/network",className:pe.menuItemLink,children:c.jsx("img",{className:pe.icon,src:"./layers.svg",alt:"network"})})}),c.jsx("div",{className:pe.menuItem,children:c.jsx(Wt,{to:"/jobs",className:pe.menuItemLink,children:c.jsx("img",{className:pe.icon,src:"./briefcase.svg",alt:"jobs"})})})]}),c.jsx(n4,{size:40,className:pe.menuIcon,onClick:()=>h(!d)})]}),c.jsx("div",{className:pe.navMenu1,children:c.jsx("ul",{className:pe.navMenu1List})}),c.jsxs("div",{className:pe.navMenu2,children:[c.jsxs("div",{className:pe.searchBarContainer,children:[c.jsx("img",{className:pe.searchIcon,src:"./search.svg",alt:"search"}),c.jsx("input",{type:"text",className:pe.searchInput,onChange:$=>O($),placeholder:"Search",value:p})]}),p!==""&&I.length>0&&c.jsx("div",{className:pe.searchResults,children:I.map(($,M)=>c.jsxs("p",{onClick:()=>u(`/:${$.id}`),className:pe.searchResult,children:[$.firstName," "," "," ",$.lastName]},M))}),c.jsx("div",{className:pe.navMenu1ListItem,onClick:A,children:"Logout"}),c.jsx("div",{className:pe.profilePicContainer,children:c.jsx("img",{className:pe.profilePic,src:f,alt:"mail"})})]}),d&&c.jsx("div",{className:pe.mobNavBar,children:c.jsxs("ul",{className:pe.navMenu1List,children:[c.jsx("li",{className:pe.navMenu1ListItem,onClick:()=>u("/feed"),children:"Home"}),c.jsx("li",{className:pe.navMenu1ListItem,onClick:()=>l(),children:"My Network"}),i&&c.jsxs("div",{className:pe.job_tabs,children:[c.jsx(Wt,{to:"/network",className:pe.menuItemLink,children:c.jsx("li",{className:pe.navMenu1ListItem,onClick:()=>u("/network"),children:" New Connections"})}),c.jsx(Wt,{to:"/network",className:pe.menuItemLink,children:c.jsx("li",{className:pe.navMenu1ListItem,onClick:()=>u("/network"),children:" Contacts"})}),c.jsx(Wt,{to:"/network",className:pe.menuItemLink,children:c.jsx("li",{className:pe.navMenu1ListItem,onClick:()=>u("/network"),children:" Requests"})})]}),c.jsx("li",{className:pe.navMenu1ListItem,onClick:()=>a(),children:"Jobs"}),r&&c.jsxs("div",{className:pe.job_tabs,children:[c.jsx(Wt,{to:"/jobs",className:pe.menuItemLink,children:c.jsx("li",{className:pe.navMenu1ListItem,onClick:t,children:" Find Jobs"})}),c.jsx(Wt,{to:"/jobs",className:pe.menuItemLink,children:c.jsx("li",{className:pe.navMenu1ListItem,onClick:e,children:" Saved Jobs"})})]}),c.jsx("li",{className:pe.navMenu1ListItem,onClick:()=>u("/profile"),children:"Profile"}),c.jsx("li",{className:pe.navMenu1ListItem,onClick:A,children:"Logout"})]})})]})})},r4="_left_1mr1x_1",s4="_user_1mr1x_6",i4="_userImage_1mr1x_15",o4="_name_1mr1x_24",a4="_jobTitle_1mr1x_35",l4="_viewProfileBtn_1mr1x_46",u4="_menu_1mr1x_64",c4="_job_tabs_1mr1x_64",d4="_menuItemLink_1mr1x_73",h4="_JobmenuItem_1mr1x_73",f4="_homeMenuItemLink_1mr1x_73",p4="_menuItem_1mr1x_73",m4="_jobItem_1mr1x_89",g4="_icon_1mr1x_103",y4="_menuText_1mr1x_108",_e={left:r4,user:s4,userImage:i4,name:o4,jobTitle:a4,viewProfileBtn:l4,menu:u4,job_tabs:c4,menuItemLink:d4,JobmenuItem:h4,homeMenuItemLink:f4,menuItem:p4,jobItem:m4,icon:g4,menuText:y4},Lu=({onFindJobsClick:t,onSavedJobsClick:e,handleTabClick:n})=>{const[r,s]=T.useState(!1),[i,o]=T.useState(!1),a=()=>{s(!r)},l=()=>{o(!i)},[u,d]=T.useState(""),[h,f]=T.useState(""),[m,_]=T.useState(""),[v,w]=T.useState(""),g=jr(),p=()=>{g("/profile")};return T.useEffect(()=>{const I=Pe().currentUser;if(I){const S=ue(ee,"users",I.uid);Ze(S).then(A=>{if(A.exists()){const k=A.data();d(k.profilePicture),f(k.firstName),_(k.lastName),w(k.title)}else console.error("User document doesn't exist!")}).catch(A=>{console.error("Error fetching user data:",A)})}},[]),c.jsxs("div",{className:_e.left,children:[c.jsxs("div",{className:_e.user,children:[c.jsx("img",{className:_e.userImage,src:u,alt:"user"}),c.jsxs("p",{className:_e.name,children:[h," ",m]}),c.jsx("p",{className:_e.jobTitle,children:v}),c.jsx("button",{className:_e.viewProfileBtn,onClick:p,children:"View Profile"}),"    "]}),c.jsxs("div",{className:_e.menu,children:[c.jsx(Wt,{to:"/feed",className:_e.homeMenuItemLink,children:c.jsxs("div",{className:_e.menuItem,children:[c.jsx("img",{className:_e.icon,src:"./home.svg",alt:"home"}),c.jsx("p",{className:_e.menuText,children:" Home"})]})}),c.jsxs("div",{className:_e.JobmenuItem,onClick:()=>l(),children:[c.jsx("img",{className:_e.icon,src:"./layers.svg",alt:"Network"}),c.jsx("p",{className:_e.menuText,children:" My Network"})]}),i&&c.jsxs("div",{className:_e.job_tabs,children:[c.jsx(Wt,{to:"/network",className:_e.menuItemLink,onClick:()=>n("Connections"),children:c.jsxs("div",{className:_e.jobItem,onClick:t,children:[c.jsx("img",{className:_e.icon,src:"./briefcase.svg",alt:"Network"}),c.jsx("p",{className:_e.menuText,children:" New Connections"})]})}),c.jsx(Wt,{to:"/network",className:_e.menuItemLink,onClick:()=>n("Contacts"),children:c.jsxs("div",{className:_e.jobItem,onClick:e,children:[c.jsx("img",{className:_e.icon,src:"./briefcase.svg",alt:"Network"}),c.jsx("p",{className:_e.menuText,children:" Contacts"})]})}),c.jsx(Wt,{to:"/network",className:_e.menuItemLink,onClick:()=>n("Requests"),children:c.jsxs("div",{className:_e.jobItem,onClick:e,children:[c.jsx("img",{className:_e.icon,src:"./briefcase.svg",alt:"Network"}),c.jsx("p",{className:_e.menuText,children:" Requests"})]})})]}),c.jsxs("div",{className:_e.JobmenuItem,onClick:()=>a(),children:[c.jsx("img",{className:_e.icon,src:"./briefcase.svg",alt:"jobs"}),c.jsx("p",{className:_e.menuText,children:" Jobs"})]}),r&&c.jsxs("div",{className:_e.job_tabs,children:[c.jsx(Wt,{to:"/jobs",className:_e.menuItemLink,children:c.jsxs("div",{className:_e.jobItem,onClick:t,children:[c.jsx("img",{className:_e.icon,src:"./briefcase.svg",alt:"jobs"}),c.jsx("p",{className:_e.menuText,children:" Find Jobs"})]})}),c.jsx(Wt,{to:"/jobs",className:_e.menuItemLink,children:c.jsxs("div",{className:_e.jobItem,onClick:e,children:[c.jsx("img",{className:_e.icon,src:"./briefcase.svg",alt:"jobs"}),c.jsx("p",{className:_e.menuText,children:" Saved Jobs"})]})})]})]})]})},_4="_addPostContainer_hz24l_44",v4="_addPostInputContainer_hz24l_56",w4="_profilePicContainer_hz24l_63",E4="_profilePic_hz24l_63",T4="_addPostInput_hz24l_56",I4="_addPostBtns_hz24l_92",S4="_addPostBtn_hz24l_92",C4="_icon_hz24l_107",x4="_btnText_hz24l_113",A4="_postBtn_hz24l_125",P4="_articleInput_hz24l_137",R4="_btns_hz24l_145",N4="_btn_hz24l_30",k4="_captionInput_hz24l_163",b4="_mediasContainer_hz24l_168",Me={addPostContainer:_4,addPostInputContainer:v4,profilePicContainer:w4,profilePic:E4,addPostInput:T4,addPostBtns:I4,addPostBtn:S4,icon:C4,btnText:x4,postBtn:A4,articleInput:P4,btns:R4,btn:N4,captionInput:k4,mediasContainer:b4};function gg(t){return Yi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z"}}]})(t)}function Xa(t){return Yi({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 21h3.75L17.81 9.94l-3.75-3.75L3 17.25V21zm2-2.92l9.06-9.06.92.92L5.92 19H5v-.92zM18.37 3.29a.996.996 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83a.996.996 0 000-1.41l-2.34-2.34z"}}]})(t)}var yg={exports:{}},$i={},IA={exports:{}},O4="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",j4=O4,D4=j4;function SA(){}function CA(){}CA.resetWarningCache=SA;var L4=function(){function t(r,s,i,o,a,l){if(l!==D4){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:CA,resetWarningCache:SA};return n.PropTypes=n,n};IA.exports=L4();var cv=IA.exports,_g={exports:{}},dr={},vg={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",s=/input|select|textarea|button|object|iframe/;function i(h,f){return f.getPropertyValue("overflow")!=="visible"||h.scrollWidth<=0&&h.scrollHeight<=0}function o(h){var f=h.offsetWidth<=0&&h.offsetHeight<=0;if(f&&!h.innerHTML)return!0;try{var m=window.getComputedStyle(h),_=m.getPropertyValue("display");return f?_!==r&&i(h,m):_===n}catch{return console.warn("Failed to inspect element style"),!1}}function a(h){for(var f=h,m=h.getRootNode&&h.getRootNode();f&&f!==document.body;){if(m&&f===m&&(f=m.host.parentNode),o(f))return!1;f=f.parentNode}return!0}function l(h,f){var m=h.nodeName.toLowerCase(),_=s.test(m)&&!h.disabled||m==="a"&&h.href||f;return _&&a(h)}function u(h){var f=h.getAttribute("tabindex");f===null&&(f=void 0);var m=isNaN(f);return(m||f>=0)&&l(h,!m)}function d(h){var f=[].slice.call(h.querySelectorAll("*"),0).reduce(function(m,_){return m.concat(_.shadowRoot?d(_.shadowRoot):[_])},[]);return f.filter(u)}t.exports=e.default})(vg,vg.exports);var xA=vg.exports;Object.defineProperty(dr,"__esModule",{value:!0});dr.resetState=$4;dr.log=F4;dr.handleBlur=tu;dr.handleFocus=nu;dr.markForFocusLater=B4;dr.returnFocus=z4;dr.popWithoutFocus=q4;dr.setupScopedFocus=W4;dr.teardownScopedFocus=H4;var M4=xA,V4=U4(M4);function U4(t){return t&&t.__esModule?t:{default:t}}var sa=[],To=null,wg=!1;function $4(){sa=[]}function F4(){}function tu(){wg=!0}function nu(){if(wg){if(wg=!1,!To)return;setTimeout(function(){if(!To.contains(document.activeElement)){var t=(0,V4.default)(To)[0]||To;t.focus()}},0)}}function B4(){sa.push(document.activeElement)}function z4(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{sa.length!==0&&(e=sa.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function q4(){sa.length>0&&sa.pop()}function W4(t){To=t,window.addEventListener?(window.addEventListener("blur",tu,!1),document.addEventListener("focus",nu,!0)):(window.attachEvent("onBlur",tu),document.attachEvent("onFocus",nu))}function H4(){To=null,window.addEventListener?(window.removeEventListener("blur",tu),document.removeEventListener("focus",nu)):(window.detachEvent("onBlur",tu),document.detachEvent("onFocus",nu))}var Eg={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=xA,r=s(n);function s(a){return a&&a.__esModule?a:{default:a}}function i(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?i(a.activeElement.shadowRoot):a.activeElement}function o(a,l){var u=(0,r.default)(a);if(!u.length){l.preventDefault();return}var d=void 0,h=l.shiftKey,f=u[0],m=u[u.length-1],_=i();if(a===_){if(!h)return;d=m}if(m===_&&!h&&(d=f),f===_&&h&&(d=m),d){l.preventDefault(),d.focus();return}var v=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),w=v!=null&&v[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(w){var g=u.indexOf(_);if(g>-1&&(g+=h?-1:1),d=u[g],typeof d>"u"){l.preventDefault(),d=h?m:f,d.focus();return}l.preventDefault(),d.focus()}}t.exports=e.default})(Eg,Eg.exports);var K4=Eg.exports,hr={},G4=function(){},Q4=G4,ar={},AA={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()})(AA);var J4=AA.exports;Object.defineProperty(ar,"__esModule",{value:!0});ar.canUseDOM=ar.SafeNodeList=ar.SafeHTMLCollection=void 0;var Y4=J4,X4=Z4(Y4);function Z4(t){return t&&t.__esModule?t:{default:t}}var Tf=X4.default,e3=Tf.canUseDOM?window.HTMLElement:{};ar.SafeHTMLCollection=Tf.canUseDOM?window.HTMLCollection:{};ar.SafeNodeList=Tf.canUseDOM?window.NodeList:{};ar.canUseDOM=Tf.canUseDOM;ar.default=e3;Object.defineProperty(hr,"__esModule",{value:!0});hr.resetState=i3;hr.log=o3;hr.assertNodeList=PA;hr.setElement=a3;hr.validateElement=dv;hr.hide=l3;hr.show=u3;hr.documentNotReadyOrSSRTesting=c3;var t3=Q4,n3=s3(t3),r3=ar;function s3(t){return t&&t.__esModule?t:{default:t}}var Ln=null;function i3(){Ln&&(Ln.removeAttribute?Ln.removeAttribute("aria-hidden"):Ln.length!=null?Ln.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(Ln).forEach(function(t){return t.removeAttribute("aria-hidden")})),Ln=null}function o3(){}function PA(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function a3(t){var e=t;if(typeof e=="string"&&r3.canUseDOM){var n=document.querySelectorAll(e);PA(n,e),e=n}return Ln=e||Ln,Ln}function dv(t){var e=t||Ln;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,n3.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function l3(t){var e=!0,n=!1,r=void 0;try{for(var s=dv(t)[Symbol.iterator](),i;!(e=(i=s.next()).done);e=!0){var o=i.value;o.setAttribute("aria-hidden","true")}}catch(a){n=!0,r=a}finally{try{!e&&s.return&&s.return()}finally{if(n)throw r}}}function u3(t){var e=!0,n=!1,r=void 0;try{for(var s=dv(t)[Symbol.iterator](),i;!(e=(i=s.next()).done);e=!0){var o=i.value;o.removeAttribute("aria-hidden")}}catch(a){n=!0,r=a}finally{try{!e&&s.return&&s.return()}finally{if(n)throw r}}}function c3(){Ln=null}var wa={};Object.defineProperty(wa,"__esModule",{value:!0});wa.resetState=d3;wa.log=h3;var yl={},_l={};function bE(t,e){t.classList.remove(e)}function d3(){var t=document.getElementsByTagName("html")[0];for(var e in yl)bE(t,yl[e]);var n=document.body;for(var r in _l)bE(n,_l[r]);yl={},_l={}}function h3(){}var f3=function(e,n){return e[n]||(e[n]=0),e[n]+=1,n},p3=function(e,n){return e[n]&&(e[n]-=1),n},m3=function(e,n,r){r.forEach(function(s){f3(n,s),e.add(s)})},g3=function(e,n,r){r.forEach(function(s){p3(n,s),n[s]===0&&e.remove(s)})};wa.add=function(e,n){return m3(e.classList,e.nodeName.toLowerCase()=="html"?yl:_l,n.split(" "))};wa.remove=function(e,n){return g3(e.classList,e.nodeName.toLowerCase()=="html"?yl:_l,n.split(" "))};var Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});Ea.log=_3;Ea.resetState=v3;function y3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var RA=function t(){var e=this;y3(this,t),this.register=function(n){e.openInstances.indexOf(n)===-1&&(e.openInstances.push(n),e.emit("register"))},this.deregister=function(n){var r=e.openInstances.indexOf(n);r!==-1&&(e.openInstances.splice(r,1),e.emit("deregister"))},this.subscribe=function(n){e.subscribers.push(n)},this.emit=function(n){e.subscribers.forEach(function(r){return r(n,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},Bd=new RA;function _3(){console.log("portalOpenInstances ----------"),console.log(Bd.openInstances.length),Bd.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function v3(){Bd=new RA}Ea.default=Bd;var hv={};Object.defineProperty(hv,"__esModule",{value:!0});hv.resetState=I3;hv.log=S3;var w3=Ea,E3=T3(w3);function T3(t){return t&&t.__esModule?t:{default:t}}var zt=void 0,Zn=void 0,Ci=[];function I3(){for(var t=[zt,Zn],e=0;e<t.length;e++){var n=t[e];n&&n.parentNode&&n.parentNode.removeChild(n)}zt=Zn=null,Ci=[]}function S3(){console.log("bodyTrap ----------"),console.log(Ci.length);for(var t=[zt,Zn],e=0;e<t.length;e++){var n=t[e],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function OE(){Ci.length!==0&&Ci[Ci.length-1].focusContent()}function C3(t,e){!zt&&!Zn&&(zt=document.createElement("div"),zt.setAttribute("data-react-modal-body-trap",""),zt.style.position="absolute",zt.style.opacity="0",zt.setAttribute("tabindex","0"),zt.addEventListener("focus",OE),Zn=zt.cloneNode(),Zn.addEventListener("focus",OE)),Ci=e,Ci.length>0?(document.body.firstChild!==zt&&document.body.insertBefore(zt,document.body.firstChild),document.body.lastChild!==Zn&&document.body.appendChild(Zn)):(zt.parentElement&&zt.parentElement.removeChild(zt),Zn.parentElement&&Zn.parentElement.removeChild(Zn))}E3.default.subscribe(C3);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(R){for(var b=1;b<arguments.length;b++){var K=arguments[b];for(var C in K)Object.prototype.hasOwnProperty.call(K,C)&&(R[C]=K[C])}return R},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},s=function(){function R(b,K){for(var C=0;C<K.length;C++){var x=K[C];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,K,C){return K&&R(b.prototype,K),C&&R(b,C),b}}(),i=T,o=cv,a=S(o),l=dr,u=I(l),d=K4,h=S(d),f=hr,m=I(f),_=wa,v=I(_),w=ar,g=S(w),p=Ea,y=S(p);function I(R){if(R&&R.__esModule)return R;var b={};if(R!=null)for(var K in R)Object.prototype.hasOwnProperty.call(R,K)&&(b[K]=R[K]);return b.default=R,b}function S(R){return R&&R.__esModule?R:{default:R}}function A(R,b){if(!(R instanceof b))throw new TypeError("Cannot call a class as a function")}function k(R,b){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:R}function O(R,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);R.prototype=Object.create(b&&b.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(R,b):R.__proto__=b)}var $={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},M=function(b){return b.code==="Tab"||b.keyCode===9},J=function(b){return b.code==="Escape"||b.keyCode===27},W=0,Z=function(R){O(b,R);function b(K){A(this,b);var C=k(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,K));return C.setOverlayRef=function(x){C.overlay=x,C.props.overlayRef&&C.props.overlayRef(x)},C.setContentRef=function(x){C.content=x,C.props.contentRef&&C.props.contentRef(x)},C.afterClose=function(){var x=C.props,z=x.appElement,U=x.ariaHideApp,ne=x.htmlOpenClassName,fe=x.bodyOpenClassName,Oe=x.parentSelector,je=Oe&&Oe().ownerDocument||document;fe&&v.remove(je.body,fe),ne&&v.remove(je.getElementsByTagName("html")[0],ne),U&&W>0&&(W-=1,W===0&&m.show(z)),C.props.shouldFocusAfterRender&&(C.props.shouldReturnFocusAfterClose?(u.returnFocus(C.props.preventScroll),u.teardownScopedFocus()):u.popWithoutFocus()),C.props.onAfterClose&&C.props.onAfterClose(),y.default.deregister(C)},C.open=function(){C.beforeOpen(),C.state.afterOpen&&C.state.beforeClose?(clearTimeout(C.closeTimer),C.setState({beforeClose:!1})):(C.props.shouldFocusAfterRender&&(u.setupScopedFocus(C.node),u.markForFocusLater()),C.setState({isOpen:!0},function(){C.openAnimationFrame=requestAnimationFrame(function(){C.setState({afterOpen:!0}),C.props.isOpen&&C.props.onAfterOpen&&C.props.onAfterOpen({overlayEl:C.overlay,contentEl:C.content})})}))},C.close=function(){C.props.closeTimeoutMS>0?C.closeWithTimeout():C.closeWithoutTimeout()},C.focusContent=function(){return C.content&&!C.contentHasFocus()&&C.content.focus({preventScroll:!0})},C.closeWithTimeout=function(){var x=Date.now()+C.props.closeTimeoutMS;C.setState({beforeClose:!0,closesAt:x},function(){C.closeTimer=setTimeout(C.closeWithoutTimeout,C.state.closesAt-Date.now())})},C.closeWithoutTimeout=function(){C.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},C.afterClose)},C.handleKeyDown=function(x){M(x)&&(0,h.default)(C.content,x),C.props.shouldCloseOnEsc&&J(x)&&(x.stopPropagation(),C.requestClose(x))},C.handleOverlayOnClick=function(x){C.shouldClose===null&&(C.shouldClose=!0),C.shouldClose&&C.props.shouldCloseOnOverlayClick&&(C.ownerHandlesClose()?C.requestClose(x):C.focusContent()),C.shouldClose=null},C.handleContentOnMouseUp=function(){C.shouldClose=!1},C.handleOverlayOnMouseDown=function(x){!C.props.shouldCloseOnOverlayClick&&x.target==C.overlay&&x.preventDefault()},C.handleContentOnClick=function(){C.shouldClose=!1},C.handleContentOnMouseDown=function(){C.shouldClose=!1},C.requestClose=function(x){return C.ownerHandlesClose()&&C.props.onRequestClose(x)},C.ownerHandlesClose=function(){return C.props.onRequestClose},C.shouldBeClosed=function(){return!C.state.isOpen&&!C.state.beforeClose},C.contentHasFocus=function(){return document.activeElement===C.content||C.content.contains(document.activeElement)},C.buildClassName=function(x,z){var U=(typeof z>"u"?"undefined":r(z))==="object"?z:{base:$[x],afterOpen:$[x]+"--after-open",beforeClose:$[x]+"--before-close"},ne=U.base;return C.state.afterOpen&&(ne=ne+" "+U.afterOpen),C.state.beforeClose&&(ne=ne+" "+U.beforeClose),typeof z=="string"&&z?ne+" "+z:ne},C.attributesFromObject=function(x,z){return Object.keys(z).reduce(function(U,ne){return U[x+"-"+ne]=z[ne],U},{})},C.state={afterOpen:!1,beforeClose:!1},C.shouldClose=null,C.moveFromContentToOverlay=null,C}return s(b,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(C,x){this.props.isOpen&&!C.isOpen?this.open():!this.props.isOpen&&C.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!x.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var C=this.props,x=C.appElement,z=C.ariaHideApp,U=C.htmlOpenClassName,ne=C.bodyOpenClassName,fe=C.parentSelector,Oe=fe&&fe().ownerDocument||document;ne&&v.add(Oe.body,ne),U&&v.add(Oe.getElementsByTagName("html")[0],U),z&&(W+=1,m.hide(x)),y.default.register(this)}},{key:"render",value:function(){var C=this.props,x=C.id,z=C.className,U=C.overlayClassName,ne=C.defaultStyles,fe=C.children,Oe=z?{}:ne.content,je=U?{}:ne.overlay;if(this.shouldBeClosed())return null;var Vt={ref:this.setOverlayRef,className:this.buildClassName("overlay",U),style:n({},je,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},rt=n({id:x,ref:this.setContentRef,style:n({},Oe,this.props.style.content),className:this.buildClassName("content",z),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),ot=this.props.contentElement(rt,fe);return this.props.overlayElement(Vt,ot)}}]),b}(i.Component);Z.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},Z.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(g.default),a.default.instanceOf(w.SafeHTMLCollection),a.default.instanceOf(w.SafeNodeList),a.default.arrayOf(a.default.instanceOf(g.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},e.default=Z,t.exports=e.default})(_g,_g.exports);var x3=_g.exports;function NA(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function kA(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function bA(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}NA.__suppressDeprecationWarning=!0;kA.__suppressDeprecationWarning=!0;bA.__suppressDeprecationWarning=!0;function A3(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,s=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?s="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(s="UNSAFE_componentWillUpdate"),n!==null||r!==null||s!==null){var i=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(s!==null?`
  `+s:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=NA,e.componentWillReceiveProps=kA),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=bA;var a=e.componentDidUpdate;e.componentDidUpdate=function(u,d,h){var f=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:h;a.call(this,u,d,f)}}return t}const P3=Object.freeze(Object.defineProperty({__proto__:null,polyfill:A3},Symbol.toStringTag,{value:"Module"})),R3=iP(P3);Object.defineProperty($i,"__esModule",{value:!0});$i.bodyOpenClassName=$i.portalClassName=void 0;var jE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N3=function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),OA=T,zd=Mu(OA),k3=Sy,qd=Mu(k3),b3=cv,me=Mu(b3),O3=x3,DE=Mu(O3),j3=hr,D3=M3(j3),Cs=ar,LE=Mu(Cs),L3=R3;function M3(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Mu(t){return t&&t.__esModule?t:{default:t}}function V3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ME(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function U3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var $3=$i.portalClassName="ReactModalPortal",F3=$i.bodyOpenClassName="ReactModal__Body--open",ui=Cs.canUseDOM&&qd.default.createPortal!==void 0,VE=function(e){return document.createElement(e)},UE=function(){return ui?qd.default.createPortal:qd.default.unstable_renderSubtreeIntoContainer};function vc(t){return t()}var Vu=function(t){U3(e,t);function e(){var n,r,s,i;V3(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return i=(r=(s=ME(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),s),s.removePortal=function(){!ui&&qd.default.unmountComponentAtNode(s.node);var u=vc(s.props.parentSelector);u&&u.contains(s.node)?u.removeChild(s.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},s.portalRef=function(u){s.portal=u},s.renderPortal=function(u){var d=UE(),h=d(s,zd.default.createElement(DE.default,jE({defaultStyles:e.defaultStyles},u)),s.node);s.portalRef(h)},r),ME(s,i)}return N3(e,[{key:"componentDidMount",value:function(){if(Cs.canUseDOM){ui||(this.node=VE("div")),this.node.className=this.props.portalClassName;var r=vc(this.props.parentSelector);r.appendChild(this.node),!ui&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var s=vc(r.parentSelector),i=vc(this.props.parentSelector);return{prevParent:s,nextParent:i}}},{key:"componentDidUpdate",value:function(r,s,i){if(Cs.canUseDOM){var o=this.props,a=o.isOpen,l=o.portalClassName;r.portalClassName!==l&&(this.node.className=l);var u=i.prevParent,d=i.nextParent;d!==u&&(u.removeChild(this.node),d.appendChild(this.node)),!(!r.isOpen&&!a)&&!ui&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!Cs.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,s=Date.now(),i=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||s+this.props.closeTimeoutMS);i?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,i-s)):this.removePortal()}}},{key:"render",value:function(){if(!Cs.canUseDOM||!ui)return null;!this.node&&ui&&(this.node=VE("div"));var r=UE();return r(zd.default.createElement(DE.default,jE({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){D3.setElement(r)}}]),e}(OA.Component);Vu.propTypes={isOpen:me.default.bool.isRequired,style:me.default.shape({content:me.default.object,overlay:me.default.object}),portalClassName:me.default.string,bodyOpenClassName:me.default.string,htmlOpenClassName:me.default.string,className:me.default.oneOfType([me.default.string,me.default.shape({base:me.default.string.isRequired,afterOpen:me.default.string.isRequired,beforeClose:me.default.string.isRequired})]),overlayClassName:me.default.oneOfType([me.default.string,me.default.shape({base:me.default.string.isRequired,afterOpen:me.default.string.isRequired,beforeClose:me.default.string.isRequired})]),appElement:me.default.oneOfType([me.default.instanceOf(LE.default),me.default.instanceOf(Cs.SafeHTMLCollection),me.default.instanceOf(Cs.SafeNodeList),me.default.arrayOf(me.default.instanceOf(LE.default))]),onAfterOpen:me.default.func,onRequestClose:me.default.func,closeTimeoutMS:me.default.number,ariaHideApp:me.default.bool,shouldFocusAfterRender:me.default.bool,shouldCloseOnOverlayClick:me.default.bool,shouldReturnFocusAfterClose:me.default.bool,preventScroll:me.default.bool,parentSelector:me.default.func,aria:me.default.object,data:me.default.object,role:me.default.string,contentLabel:me.default.string,shouldCloseOnEsc:me.default.bool,overlayRef:me.default.func,contentRef:me.default.func,id:me.default.string,overlayElement:me.default.func,contentElement:me.default.func};Vu.defaultProps={isOpen:!1,portalClassName:$3,bodyOpenClassName:F3,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,n){return zd.default.createElement("div",e,n)},contentElement:function(e,n){return zd.default.createElement("div",e,n)}};Vu.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,L3.polyfill)(Vu);$i.default=Vu;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=$i,r=s(n);function s(i){return i&&i.__esModule?i:{default:i}}e.default=r.default,t.exports=e.default})(yg,yg.exports);var B3=yg.exports;const vn=Rg(B3),z3=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState(!1),[s,i]=T.useState(""),[o,a]=T.useState([]);T.useState("");const[l,u]=T.useState(""),h=Pe().currentUser;T.useEffect(()=>{if(h){const y=ue(ee,"users",h.uid);Ze(y).then(I=>{if(I.exists()){const S=I.data();u(S.profilePicture)}else console.error("User document doesn't exist!")}).catch(I=>{console.error("Error fetching user data:",I)})}},[]);function f(){e(!0)}function m(){e(!1)}function _(){r(!0)}function v(){r(!1)}const w=y=>{const I={image:[".jpeg",".jpg",".png",".gif",".bmp",".webp"],video:[".mp4",".avi",".mkv",".mov",".wmv",".webm"]},S=y.name.slice((y.name.lastIndexOf(".")-1>>>0)+2);for(const A in I)if(I[A].includes(`.${S}`))return A;return"other"},g=y=>{const I=Array.from(y.target.files);a(S=>[...S,...I])},p=async y=>{if(y.preventDefault(),!h){console.log("User is NOT Authenticated");return}const I=h.uid,S=[],A=o.length;A===0?(console.log("Post content:",JSON.stringify(s)),S.push(Ui(Ke(ee,"posts"),{userId:I,postCont:s,TimeCreated:Lo(),likes:[]}))):(o.forEach(k=>{const O=w(k),$=`media/${I}/${O}`,M=bo(Mo,`${$}/${k.name}`),J=dl(M,k).then(()=>ko(M));S.push(J)}),Promise.all(S).then(k=>{const O=k.map(($,M)=>({url:$,type:o[M].type}));return Ui(Ke(ee,"posts"),{userId:I,postCont:s,media:O,TimeCreated:Lo(),likes:[]})}).then(()=>{console.log("Posts added with media"),alert(`Uploaded ${A} media file${A===1?"":"s"}!`)}).catch(k=>{console.error("Error adding post with media:",k)})),a([]),m(),v(),i("")};return c.jsxs("div",{className:Me.addPostContainer,children:[c.jsxs("div",{className:Me.addPostInputContainer,children:[c.jsx("div",{className:Me.profilePicContainer,children:c.jsx("img",{className:Me.profilePic,src:l,alt:"profile"})}),c.jsx("input",{type:"text",className:Me.addPostInput,value:s,onChange:y=>i(y.target.value)})]}),c.jsxs("div",{className:Me.addPostBtns,children:[c.jsxs("div",{className:Me.addPostBtn,onClick:_,children:[c.jsx("img",{className:Me.icon,src:"./Article.svg",alt:"search"}),c.jsx("p",{className:Me.btnText,children:"Write Article"})]}),c.jsx("div",{className:Me.inputPostContainer,children:c.jsx(vn,{isOpen:n,onRequestClose:v,ariaHideApp:!1,contentLabel:"Article Modal",children:c.jsxs("div",{children:[c.jsx("h2",{children:"Write your Article"}),c.jsx("textarea",{className:Me.articleInput,placeholder:"Start writing your article...",onChange:y=>i(y.target.value)}),c.jsxs("div",{className:Me.btns,children:[c.jsx("button",{className:Me.btn,onClick:v,children:"Close"}),c.jsx("button",{className:Me.btn,onClick:p,children:"Submit"})]})]})})}),c.jsxs("div",{className:Me.addPostBtn,onClick:f,children:[c.jsx("img",{className:Me.icon,src:"./play-circle.svg",alt:"search"}),c.jsx("p",{className:Me.btnText,children:"Media"})]}),c.jsx("div",{className:Me.inputPostContainer,children:c.jsxs(vn,{isOpen:t,onRequestClose:m,ariaHideApp:!1,contentLabel:"Media Modal",children:[c.jsxs("div",{className:Me.mediasContainer,children:[c.jsx("h2",{children:"Attach Media Files"}),c.jsx("input",{type:"file",multiple:!0,onChange:g})]}),c.jsxs("div",{className:Me.mediasContainer,children:[c.jsx("h2",{children:"Preview"}),o.length>0&&c.jsx("div",{children:o.map((y,I)=>c.jsx("div",{children:y.type.includes("image")?c.jsx("img",{src:URL.createObjectURL(y),alt:`Preview ${I}`}):c.jsx("video",{src:URL.createObjectURL(y),controls:!0})},I))})]}),c.jsx("div",{children:c.jsx("textarea",{type:"text",className:Me.captionInput,placeholder:"Enter caption",onChange:y=>i(y.target.value)})}),c.jsxs("div",{className:Me.btns,children:[c.jsx("button",{className:Me.btn,onClick:m,children:"Close"}),c.jsx("button",{className:Me.btn,onClick:p,children:"Submit"})]})]})}),c.jsx("button",{className:Me.postBtn,disabled:!s.trim(),onClick:p,children:"Post"})]})]})},q3="_bannerContainer_16l93_1",W3="_bannerTitles_16l93_13",H3="_bannerText_16l93_22",K3="_bannerText1_16l93_35",G3="_bannerText2_16l93_49",Q3="_bannerImg_16l93_64",J3="_banner_16l93_1",cs={bannerContainer:q3,bannerTitles:W3,bannerText:H3,bannerText1:K3,bannerText2:G3,bannerImg:Q3,banner:J3},Y3=()=>c.jsxs("div",{className:cs.bannerContainer,children:[c.jsxs("div",{className:cs.bannerTitles,children:[c.jsxs("div",{className:cs.bannerText,children:[c.jsx("p",{className:cs.bannerText1,children:"Discover your dream job with Takeoff"}),c.jsx("p",{className:cs.bannerText2,children:"Don't let your career dreams remain dreams; turn them into reality with our product and discover your dream job today"})]}),c.jsx("div",{className:cs.bannerBtns})]}),c.jsx("div",{className:cs.bannerImg,children:c.jsx("img",{src:"/public/banner.svg",alt:"Your Logo",className:cs.banner})})]}),X3="_postContainer_140jn_1",Z3="_post_140jn_1",eB="_user_140jn_26",tB="_profilePicContainer_140jn_33",nB="_profilePic_140jn_33",rB="_postUser_140jn_44",sB="_postUserName_140jn_52",iB="_postUserJobTitle_140jn_61",oB="_jobTimer_140jn_73",aB="_jobTimerImg_140jn_80",lB="_jobTime_140jn_73",uB="_addPostSettings_140jn_95",cB="_postContent_140jn_100",dB="_postImg_140jn_111",hB="_btns_140jn_121",fB="_reactionBtns_140jn_128",pB="_avatars_140jn_135",mB="_avatar_140jn_135",gB="_postComments_140jn_146",yB="_actionBtns_140jn_157",_B="_actionBtn_140jn_157",vB="_actionIcon_140jn_174",wB="_actionText_140jn_179",EB="_comments_140jn_189",TB="_commentForm_140jn_189",IB="_commentText_140jn_199",SB="_commentTime_140jn_203",CB="_commentInput_140jn_215",xB="_commentSubmit_140jn_222",AB="_postMedia_140jn_227",PB="_postOptionsDropdown_140jn_249",ve={postContainer:X3,post:Z3,user:eB,profilePicContainer:tB,profilePic:nB,postUser:rB,postUserName:sB,postUserJobTitle:iB,jobTimer:oB,jobTimerImg:aB,jobTime:lB,addPostSettings:uB,postContent:cB,postImg:dB,btns:hB,reactionBtns:fB,avatars:pB,avatar:mB,postComments:gB,actionBtns:yB,actionBtn:_B,actionIcon:vB,actionText:wB,comments:EB,commentForm:TB,commentText:IB,commentTime:SB,commentInput:CB,commentSubmit:xB,postMedia:AB,postOptionsDropdown:PB};function RB(t){return Yi({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2 2v13.5a.5.5 0 0 0 .74.439L8 13.069l5.26 2.87A.5.5 0 0 0 14 15.5V2a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2z"}}]})(t)}function NB(t){return Yi({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"}}]})(t)}const kB=()=>{const[t,e]=T.useState([]),[n,r]=T.useState("");T.useState([]);const[s,i]=T.useState(null),[o,a]=T.useState(null),[l,u]=T.useState(null),[d,h]=T.useState(!1),[f,m]=T.useState(""),[_,v]=T.useState(null),[w,g]=T.useState(null),[p,y]=T.useState(""),I=async(R,b)=>{R.preventDefault();const C=Pe().currentUser;if(!C){console.log("User is NOT Authenticated");return}const x=C.uid,z=ue(ee,"users",x),U=await Ze(z),{firstName:ne,lastName:fe}=U.data(),Oe=`${ne} ${fe}`,je=ue(ee,"posts",b),Vt=Ke(je,"comments"),rt={userId:x,username:Oe,text:n,timestamp:Lo()},ot=await Ui(Vt,rt),Kn=(await Ze(ot)).data();e(t.map(kn=>kn.id===b?{...kn,comments:[...kn.comments,{...Kn,id:ot.id,timestamp:Kn.timestamp.toDate()}]}:kn)),r("")},S=async(R,b)=>{const K=ue(ee,"posts",R),C=ue(K,"comments",b);await pg(C),e(t.map(x=>x.id===R?{...x,comments:x.comments.filter(z=>z.id!==b)}:x))};T.useEffect(()=>{const R=Ke(ee,"posts"),b=Qr(R,cA("TimeCreated","desc")),K=av(b,async C=>{console.log("Snapshot received:",C);const x=await Promise.all(C.docs.map(async z=>{const U=z.data(),{userId:ne}=U,fe=await k(ne);console.log("Doc data:",z.data());const Oe=ue(ee,"posts",z.id),je=Ke(Oe,"comments"),rt=(await In(je)).docs.map(ot=>{const yn=ot.data();return{id:ot.id,...yn,timestamp:yn.timestamp.toDate()}});return{id:z.id,...U,...fe,comments:rt}}));console.log("Posts data:",x),e(x)});return()=>K()},[]),T.useEffect(()=>{const R=b=>{s&&!b.target.closest(`.${ve.postOptionsDropdown}`)&&i(null)};return document.addEventListener("click",R),()=>{document.removeEventListener("click",R)}},[s,ve.postOptionsDropdown]),T.useEffect(()=>{const R=b=>{l&&!b.target.closest(`.${ve.commentOptionsDropdown}`)&&u(null)};return document.addEventListener("click",R),()=>{document.removeEventListener("click",R)}},[l,ve.commentOptionsDropdown]);const A=async R=>{const b=ue(ee,"posts",R),C=Pe().currentUser;if(!C){console.log("User is NOT Authenticated");return}const x=C.uid,U=(await Ze(b)).data().likes,ne=U.includes(x)?U.filter(fe=>fe!==x):[...U,x];await yt(b,{likes:ne})},k=async R=>{if(!R)return console.log("No userId provided!"),null;const b=ue(ee,"users",R),K=await Ze(b);if(K.exists()){const C=K.data(),{firstName:x,lastName:z,profilePicture:U,title:ne}=C;return{firstName:x,lastName:z,profilePicture:U,title:ne}}else return console.log("No such user!"),null},O=async R=>{const K=Pe().currentUser;if(!K){console.log("User is NOT Authenticated");return}const C=K.uid;let x;R.media?x={userId:C,postCont:R.postCont,TimeCreated:Lo(),likes:[],media:R.media}:x={userId:C,postCont:R.postCont,TimeCreated:Lo(),likes:[]},await Ui(Ke(ee,"posts"),x),e(z=>[x,...z])},$=async(R,b)=>{const K=ue(ee,"posts",R);await yt(K,{postCont:b,edited:!0}),e(t.map(C=>C.id===R?{...C,postCont:b,edited:!0}:C)),m(""),h(!1)},M=async R=>{const b=ue(ee,"posts",R),C=Pe().currentUser;if(!C){console.log("User is NOT Authenticated");return}if((await Ze(b)).data().userId!==C.uid){console.log("User is not the author of the post");return}await pg(b),e(t.filter(U=>U.id!==R))},J=R=>{const b=t.find(K=>K.id===R);if(!b){console.log("Post not found");return}m(b.postCont),v(R),h(!0)},W=(R,b)=>{const K=t.find(x=>x.id===R);if(!K){console.log("Post not found");return}const C=K.comments.find(x=>x.id===b);if(!C){console.log("Comment not found");return}y(C.text),g(b)},Z=async(R,b,K)=>{const C=ue(ee,"posts",R),x=ue(C,"comments",b);await yt(x,{text:K,edited:!0}),e(t.map(z=>z.id===R?{...z,comments:z.comments.map(U=>U.id===b?{...U,text:K,edited:!0}:U)}:z)),y(""),g(null)};return c.jsxs("div",{className:ve.postContainer,children:[c.jsx(vn,{isOpen:d,onRequestClose:()=>h(!1),contentLabel:"Edit Post",ariaHideApp:!1,children:c.jsxs("form",{onSubmit:R=>{R.preventDefault(),$(_,f),h(!1)},children:[c.jsx("textarea",{value:f,onChange:R=>m(R.target.value)}),c.jsx("button",{type:"submit",children:"Update Post"}),c.jsx("button",{type:"button",onClick:()=>h(!1),children:"Cancel"})]})}),t.map(R=>c.jsxs("div",{className:ve.post,children:[c.jsxs("div",{className:ve.user,children:[c.jsx("div",{className:ve.profilePicContainer,children:c.jsx("img",{className:ve.profilePic,src:R.profilePicture,alt:"profile"})}),c.jsxs("div",{className:ve.postUser,children:[c.jsxs("p",{className:ve.postUserName,children:[R.firstName," ",R.lastName]}),c.jsx("p",{className:ve.postUserJobTitle,children:R.title}),c.jsxs("div",{className:ve.jobTimer,children:[c.jsx("img",{className:ve.jobTimerImg,src:"./history-outline.svg",alt:"timer"}),c.jsxs("p",{className:ve.jobTime,children:[R.TimeCreated&&R.TimeCreated.toDate?R.TimeCreated.toDate().toLocaleString():"Loading...",R.edited&&c.jsx("span",{children:" (edited)"})]})]})]}),c.jsxs("div",{className:ve.addPostSettings,children:[c.jsx("img",{className:ve.settingsIcon,src:"./DotsThree.svg",alt:"settings",onClick:b=>{b.stopPropagation(),i(R.id)}}),s===R.id&&c.jsxs("div",{className:ve.postOptionsDropdown,children:[c.jsx("button",{onClick:()=>J(R.id),children:"Edit"}),c.jsx("button",{onClick:()=>M(R.id),children:"Delete"})]})]})]}),R.postCont.split(`
`).map((b,K)=>c.jsx("p",{className:ve.postContent,style:{margin:0},children:b},K)),c.jsx("div",{className:ve.postMedia,children:R.media&&R.media.map((b,K)=>c.jsx("img",{src:b.url,alt:b.url},K))}),c.jsx("div",{className:ve.btns,children:c.jsxs("div",{className:ve.actionBtns,children:[c.jsxs("div",{className:ve.actionBtn,onClick:()=>A(R.id),children:[c.jsx("img",{className:ve.actionIcon,src:"./ThumbsUp.svg",alt:"search"}),c.jsxs("p",{className:ve.actionText,children:["Like ",R.likes&&R.likes.length]})]}),c.jsxs("div",{className:ve.actionBtn,onClick:()=>a(R.id),children:[c.jsx("img",{className:ve.actionIcon,src:"./ChatText.svg",alt:"comment"}),c.jsxs("p",{className:ve.actionText,children:["Comment ",R.comments?R.comments.length:0]})]}),c.jsxs("div",{className:ve.actionBtn,onClick:()=>O(R),children:[c.jsx("img",{className:ve.actionIcon,src:"./ShareNetwork.svg",alt:"search"}),c.jsx("p",{className:ve.actionText,children:"Repost"})]})]})}),o===R.id&&c.jsxs(c.Fragment,{children:[c.jsxs("form",{onSubmit:b=>I(b,R.id),className:ve.commentForm,children:[c.jsx("input",{type:"text",placeholder:"Enter Comment",onChange:b=>r(b.target.value),value:n,className:ve.commentInput}),c.jsx("button",{type:"submit",className:ve.commentSubmit,children:"Submit"})]}),R.comments&&R.comments.sort((b,K)=>K.timestamp-b.timestamp).slice(0,3).map((b,K)=>c.jsxs("div",{className:ve.comments,children:[c.jsx("p",{className:ve.commentText,children:c.jsx("b",{children:b.username})}),w===b.id?c.jsxs("form",{onSubmit:C=>{C.preventDefault(),Z(R.id,b.id,p)},children:[c.jsx("textarea",{value:p,onChange:C=>y(C.target.value)}),c.jsx("button",{type:"submit",children:"Submit"})]}):c.jsx("p",{className:ve.commentText,children:b.text}),c.jsx("p",{className:ve.commentTime,children:b.timestamp instanceof Date?b.timestamp.toLocaleString():"Loading..."}),c.jsx("img",{src:"./DotsThree.svg",alt:"settings",onClick:C=>{C.stopPropagation(),u(b.id)}}),l===b.id&&c.jsxs("div",{className:ve.commentOptionsDropdown,children:[c.jsx("button",{onClick:()=>W(R.id,b.id),children:"Edit"}),c.jsx("button",{onClick:()=>S(R.id,b.id),children:"Delete"})]})]},K))]})]},R.id))]})},bB={},OB=()=>{const t=jr();T.useEffect(()=>{const r=Pe().currentUser;let s=!0;if(r){const i=ue(ee,"users",r.uid);Ze(i).then(o=>{if(s)if(o.exists()){const a=o.data();!a.firstName&&!a.lastName&&(alert("Please create your profile"),t("/create-profile"))}else console.error("User document doesn't exist!")}).catch(o=>{console.error("Error fetching user data:",o)})}return()=>{s=!1}},[]);async function e(){(await In(Ke(ee,"posts"))).forEach(r=>{})}return e(),T.useState([]),c.jsxs("div",{className:bB.feed,children:[c.jsx(Y3,{}),c.jsx(z3,{}),c.jsx(kB,{})]})},jB="_right_1mdby_1",DB="_viewRecommendation_1mdby_8",LB="_jobRecommendations_1mdby_20",MB="_jobsHeader_1mdby_33",VB="_jobsTitle_1mdby_40",UB="_jobTitleName_1mdby_53",$B="_jobNumber_1mdby_63",FB="_viewAllBtn_1mdby_75",BB="_joblists_1mdby_88",zB="_jobItems_1mdby_96",qB="_jobImg_1mdby_105",WB="_job_1mdby_20",HB="_jobName_1mdby_126",KB="_jobCompany_1mdby_137",GB="_jobTimer_1mdby_148",QB="_jobTimerImg_1mdby_155",JB="_jobTime_1mdby_148",At={right:jB,viewRecommendation:DB,jobRecommendations:LB,jobsHeader:MB,jobsTitle:VB,jobTitleName:UB,jobNumber:$B,viewAllBtn:FB,joblists:BB,jobItems:zB,jobImg:qB,job:WB,jobName:HB,jobCompany:KB,jobTimer:GB,jobTimerImg:QB,jobTime:JB},YB=()=>{const t=jr(),e=Ke(ee,"jobs"),[n,r]=T.useState([]);return T.useEffect(()=>{(async()=>{const i=await In(e),o=await Promise.all(i.docs.map(async a=>{const l=ue(ee,`jobs/${a.id}`),u=await Ze(l);return u.exists()?{id:a.id,...u.data()}:null}));r(o.filter(a=>a!==null))})()},[]),c.jsxs("div",{className:At.right,children:[c.jsx("a",{href:"/jobs",className:At.viewRecommendation,children:"View all recommendations"}),c.jsxs("div",{className:At.jobRecommendations,children:[c.jsxs("div",{className:At.jobsHeader,children:[c.jsxs("div",{className:At.jobsTitle,children:[c.jsx("p",{className:At.jobTitleName,children:"Jobs"}),c.jsxs("p",{className:At.jobNumber,children:[n.length," Jobs recommended for you"]})]}),c.jsx("button",{className:At.viewAllBtn,onClick:()=>t("/jobs"),children:"View all"})]}),c.jsx("div",{className:At.joblists,children:n.slice(0,4).map((s,i)=>c.jsxs("div",{className:At.jobItems,children:[c.jsx("img",{className:At.jobImg,src:s.imageUrl,alt:"job"}),c.jsxs("div",{className:At.job,children:[c.jsx("p",{className:At.jobName,children:s.title}),c.jsx("p",{className:At.jobCompany,children:s.company})]}),c.jsxs("div",{className:At.jobTimer,children:[c.jsx("img",{className:At.jobTimerImg,src:"./history-outline.svg",alt:"timer"}),c.jsxs("p",{className:At.jobTime,children:[" ",Math.ceil(Math.abs(new Date-new Date(s["posted On"].toDate()))/(1e3*60))," mins"]})]})]},i))})]})]})},XB="_home_2l3k7_1",ZB={home:XB},e6="_footerSearch_1vbzy_1",t6="_searchBarContainer_1vbzy_16",n6="_searchIcon_1vbzy_28",r6="_searchInput_1vbzy_34",wc={footerSearch:e6,searchBarContainer:t6,searchIcon:n6,searchInput:r6},s6=()=>c.jsx("div",{className:wc.footerSearch,children:c.jsxs("div",{className:wc.searchBarContainer,children:[c.jsx("img",{className:wc.searchIcon,src:"./search.svg",alt:"search"}),c.jsx("input",{type:"text",className:wc.searchInput,placeholder:"Search"})]})}),i6=()=>c.jsxs("div",{children:[c.jsx(Du,{}),c.jsxs("div",{className:ZB.home,children:[c.jsx(Lu,{}),c.jsx(OB,{}),c.jsx(YB,{})]}),c.jsx(s6,{})]}),o6="_container_urz67_1",a6="_profile_urz67_11",l6="_user_urz67_23",u6="_bannerContainer_urz67_35",c6="_banner_urz67_35",d6="_userTitles_urz67_63",h6="_pic_urz67_54",f6="_titleContainer_urz67_83",p6="_username_urz67_90",m6="_jobtitle_urz67_99",g6="_btns_urz67_109",y6="_btn_urz67_109",_6="_connectBtn_urz67_127",v6="_msgBtn_urz67_140",w6="_moreBtn_urz67_153",E6="_btnTxt_urz67_170",T6="_info_urz67_174",I6="_generalText_urz67_188",S6="_infoContainer_urz67_199",C6="_activity_urz67_208",x6="_followers_urz67_229",A6="_showPostsContainer_urz67_251",P6="_showPosts_urz67_251",R6="_experienceSection_urz67_269",N6="_experienceContainer_urz67_283",k6="_companylogo_urz67_299",b6="_job_urz67_99",O6="_jobCompany_urz67_315",j6="_jobDate_urz67_324",D6="_jobDesc_urz67_333",L6="_skillSection_urz67_345",M6="_skill_urz67_345",V6="_skillText_urz67_367",U6="_interestSection_urz67_376",$6="_interestContainer_urz67_390",F6="_experience_urz67_269",B6="_followBtn_urz67_404",z6="_others_urz67_416",q6="_background_urz67_429",W6="_experienceTitle_urz67_441",H6="_title_urz67_83",K6="_addExperienceTitle_urz67_447",G6="_modalBtn_urz67_451",Q6="_formInput_urz67_455",J6="_formInput1_urz67_455",Y6="_left_urz67_501",L={container:o6,profile:a6,user:l6,bannerContainer:u6,banner:c6,userTitles:d6,pic:h6,titleContainer:f6,username:p6,jobtitle:m6,btns:g6,btn:y6,connectBtn:_6,msgBtn:v6,moreBtn:w6,btnTxt:E6,info:T6,generalText:I6,infoContainer:S6,activity:C6,followers:x6,showPostsContainer:A6,showPosts:P6,experienceSection:R6,experienceContainer:N6,companylogo:k6,job:b6,jobCompany:O6,jobDate:j6,jobDesc:D6,skillSection:L6,skill:M6,skillText:V6,interestSection:U6,interestContainer:$6,experience:F6,followBtn:B6,others:z6,background:q6,experienceTitle:W6,title:H6,addExperienceTitle:K6,modalBtn:G6,formInput:Q6,formInput1:J6,left:Y6};function Pp(t){return Yi({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(t)}function yr(t){return Yi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z"}}]})(t)}const X6=()=>{const e=Pe().currentUser,[n,r]=T.useState(""),[s,i]=T.useState(""),[o,a]=T.useState(""),[l,u]=T.useState(""),[d,h]=T.useState(""),[f,m]=T.useState(""),[_,v]=T.useState(""),[w,g]=T.useState([]),[p,y]=T.useState([]),[I,S]=T.useState([]),[A,k]=T.useState([]),[O,$]=T.useState(!1),[M,J]=T.useState(!1),[W,Z]=T.useState(!1),[R,b]=T.useState(!1),[K,C]=T.useState(!1),[x,z]=T.useState(""),[U,ne]=T.useState({title:"",company:"",startDate:"",endDate:"",description:"",companyLogo:""}),[fe,Oe]=T.useState(""),[je,Vt]=T.useState(null),[rt,ot]=T.useState(!1),[yn,Kn]=T.useState(null),[kn,bn]=T.useState(!1),[Gn,ri]=T.useState(o||""),[Xi,Ia]=T.useState(l||""),[F,E]=T.useState(d||""),[P,N]=T.useState(!1),Q=()=>N(!0),q=()=>N(!1),D=async H=>{H.preventDefault();try{if(e){const ie=ue(ee,"users",e.uid);await yt(ie,{firstName:Gn,lastName:Xi,title:F}),console.log("User document updated successfully"),a(Gn),u(Xi),h(F),q()}}catch(ie){console.error("Error editing user information:",ie)}},re=H=>{Kn(H),Oe(p[H]),bn(!0)},Ae=()=>{Kn(null),bn(!1),J(!1),Oe("")},Le=H=>{y(ie=>{const oe=[...ie];return oe.splice(H,1),Sa(oe),oe})},Dr=H=>{H.preventDefault(),y(yn!==null?ie=>{const oe=[...ie];return oe[yn]=fe,Sa(oe),oe}:ie=>{const oe=ie?[...ie,fe]:[fe];return Sa(oe),oe}),Oe(""),Ae()},Sa=async H=>{if(e){const ie=ue(ee,"users",e.uid);try{await yt(ie,{skills:H})}catch(oe){console.error("Error updating skills:",oe)}}},Ca=H=>{Vt(H),ne(w[H]),ot(!0)},si=()=>{Vt(null),ot(!1),ne({title:"",company:"",startDate:"",endDate:"",description:"",companyLogo:""}),$(!1)},$u=async H=>{if(H.preventDefault(),e){const ie=ue(ee,"users",e.uid);try{let oe;je!==null?(oe=[...w],oe[je]=U):oe=[...w,U],await yt(ie,{experience:oe}),g(oe),si()}catch(oe){console.error("Error updating experience: ",oe)}}},Fu=async H=>{let ie=w.filter((oe,at)=>at!==H);if(g(ie),e){const oe=ue(ee,"users",e.uid);try{await yt(oe,{experience:ie})}catch(at){console.error("Error updating experience:",at)}}},On=H=>{const{name:ie,value:oe}=H.target;ne({...U,[ie]:oe})},xa=H=>{const{value:ie}=H.target;Oe(ie)},qA=async H=>{if(!H)return;const ie=bo(Mo,`logos/${H.name}`);try{const oe=await dl(ie,H);return await ko(oe.ref)}catch(oe){console.error("Error uploading logo: ",oe)}},WA=async H=>{if(!H)return;const ie=bo(Mo,`avatars/${H.name}`);try{const oe=await dl(ie,H);return await ko(oe.ref)}catch(oe){console.error("Error uploading avatar: ",oe)}},HA=async H=>{if(!H)return;const ie=bo(Mo,`banners/${H.name}`);try{const oe=await dl(ie,H);return await ko(oe.ref)}catch(oe){console.error("Error uploading avatar: ",oe)}},Sv=async H=>{const ie=H.target.files[0];if(ie){const oe=await qA(ie);ne(at=>({...at,companyLogo:oe}))}},KA=async H=>{const ie=H.target.files[0];if(ie){const oe=await WA(ie);if(oe){r(oe);const at=ue(ee,"users",e.uid);try{await yt(at,{profilePicture:oe})}catch(Qn){console.error("Error updating user's profile picture:",Qn)}}}},GA=async H=>{const ie=H.target.files[0];if(ie){const oe=await HA(ie);if(oe){i(oe);const at=ue(ee,"users",e.uid);try{await yt(at,{bannerPicture:oe})}catch(Qn){console.error("Error updating user's banner picture:",Qn)}}}};function QA(){$(!0)}function Cv(){$(!1)}function JA(){J(!0)}function Bu(){J(!1)}function YA(){Z(!0)}function XA(){Z(!1)}function ZA(){b(!0)}function xv(){b(!1)}function Av(){C(!0)}function Sf(){C(!1)}async function eP(H){if(H.preventDefault(),e){const ie=ue(ee,"users",e.uid);await yt(ie,{bio:x}).then(()=>{console.log("User document updated successfully"),m(x),Sf()}).catch(oe=>{console.error("Error updating user document:",oe)})}}T.useEffect(()=>{const ie=Pe().currentUser;if(ie){const at=ue(ee,"users",ie.uid);Ze(at).then(Qn=>{if(Qn.exists()){const pt=Qn.data();r(pt.profilePicture),a(pt.firstName),u(pt.lastName),h(pt.title),m(pt.bio),z(pt.bio),v(pt.followersCount),g(pt.experience),y(pt.skills),S(pt.interests),i(pt.bannerPicture),ri(pt.firstName),Ia(pt.lastName),E(pt.title)}else console.error("User document doesn't exist!")}).catch(Qn=>{console.error("Error fetching user data:",Qn)})}(async()=>{const at=await tP();k(at)})()},[]);const tP=async()=>{const ie=Pe().currentUser;if(ie){let at=(await In(Ke(ee,"users"))).docs.map(Aa=>({id:Aa.id,...Aa.data()}));const Qn=ue(ee,"users",ie.uid),pt=await Ze(Qn);let ii=[];return pt.exists()&&(ii=pt.data().contacts||[]),ii.push(ie.uid),at.filter(Aa=>!ii.includes(Aa.id))}},nP=A.sort(()=>.5-Math.random()).slice(0,3),rP=async H=>{const oe=Pe().currentUser;if(oe){const at=Qr(Ke(ee,"connections"),cn("userId","==",oe.uid),cn("contactId","==",H));if(!(await In(at)).empty){console.log("Connection request already exists");return}const pt={userId:oe.uid,contactId:H,timestamp:new Date,status:"requested"};try{const ii=await Ui(Ke(ee,"connections"),pt);alert("Connection request sent!"),console.log("Document written with ID: ",ii.id)}catch(ii){console.error("Error adding document: ",ii)}}};return c.jsxs("div",{children:[c.jsx(Du,{}),c.jsxs("div",{className:L.container,children:[c.jsx("div",{className:L.left,children:c.jsx(Lu,{})}),c.jsxs("div",{className:L.profile,children:[c.jsxs("div",{className:L.user,children:[c.jsx("div",{className:L.bannerContainer,onClick:ZA,children:c.jsx("img",{className:L.banner,src:s})}),c.jsxs("div",{className:L.userTitles,children:[c.jsx("img",{className:L.pic,onClick:YA,src:n}),c.jsxs("div",{className:L.titleContainer,children:[c.jsxs("h6",{className:L.username,children:[o," ",l]}),c.jsxs("p",{className:L.jobtitle,children:[d," "]})]}),c.jsx(Xa,{onClick:Q}),c.jsx(vn,{isOpen:P,onRequestClose:q,ariaHideApp:!1,contentLabel:"Edit Profile Modal",children:c.jsxs("div",{children:[c.jsxs("div",{className:L.title,children:[c.jsx("h2",{className:L.addExperienceTitle,children:"Edit Profile Information"}),c.jsx("button",{onClick:q,children:c.jsx(yr,{})})]}),c.jsxs("form",{className:L.experienceForm,onSubmit:D,children:[c.jsx("input",{type:"text",value:Gn,placeholder:"First Name",className:L.formInput1,onChange:H=>ri(H.target.value)}),c.jsx("input",{type:"text",value:Xi,placeholder:"Last Name",className:L.formInput1,onChange:H=>Ia(H.target.value)}),c.jsx("input",{type:"text",value:F,placeholder:"Job Title",className:L.formInput1,onChange:H=>E(H.target.value)}),c.jsx("div",{className:L.btns,children:c.jsx("button",{className:L.btn,onClick:D,children:"Submit"})})]})]})}),c.jsxs(vn,{isOpen:W,onRequestClose:Bu,ariaHideApp:!1,contentLabel:" Add Profile Picture Modal",children:[c.jsxs("div",{className:L.title,children:[c.jsx("h2",{className:L.addExperienceTitle,children:"Add Profile Picture"}),c.jsx("button",{onClick:XA,className:L.modalBtn,children:c.jsx(yr,{})})]}),c.jsxs("form",{className:L.experienceForm,children:[c.jsx("input",{type:"file",placeholder:"Upload Profile Picture",className:L.formInput,onChange:KA}),n&&c.jsx("img",{src:n,alt:"Profile Avatar",style:{width:"100px",height:"100px"}}),c.jsx("div",{className:L.btns,children:c.jsx("button",{className:L.btn,children:"Submit"})})]})]}),c.jsxs(vn,{isOpen:R,onRequestClose:xv,ariaHideApp:!1,contentLabel:" Add Banner Modal",children:[c.jsxs("div",{className:L.title,children:[c.jsx("h2",{className:L.addExperienceTitle,children:"Add Banner"}),c.jsx("button",{onClick:xv,className:L.modalBtn,children:c.jsx(yr,{})})]}),c.jsxs("form",{className:L.experienceForm,children:[c.jsx("input",{type:"file",placeholder:"Upload Banner",className:L.formInput,onChange:GA}),s&&c.jsx("img",{src:s,alt:"Profile Avatar",style:{width:"100px",height:"100px"}}),c.jsx("div",{className:L.btns,children:c.jsx("button",{className:L.btn,children:"Submit"})})]})]})]})]}),c.jsxs("div",{className:L.info,children:[c.jsxs("div",{className:L.infoContainer,children:[c.jsx("h6",{children:"General Information"}),f?c.jsx(Xa,{onClick:Av}):c.jsx(Pp,{onClick:Av})]}),f&&c.jsx("p",{children:f})]}),c.jsxs(vn,{isOpen:K,onRequestClose:Sf,ariaHideApp:!1,contentLabel:" Add/Edit General Information Modal",children:[c.jsxs("div",{className:L.title,children:[c.jsx("h2",{className:L.addExperienceTitle,children:"General Information"}),c.jsx("button",{onClick:Sf,className:L.modalBtn,children:c.jsx(yr,{})})]}),c.jsxs("form",{className:L.experienceForm,onSubmit:eP,children:[c.jsx("textarea",{type:"text",value:x,onChange:H=>z(H.target.value),placeholder:"Enter General Information",className:L.formInput}),c.jsx("div",{className:L.btns,children:c.jsx("button",{className:L.btn,children:"Submit"})})]})]}),c.jsxs("div",{className:L.experienceSection,children:[c.jsxs("div",{className:L.experienceTitle,children:[c.jsx("h6",{children:"Experience"}),c.jsx(Pp,{onClick:QA})]}),w&&w.map((H,ie)=>c.jsxs("div",{className:L.experienceContainer,children:[c.jsx("img",{className:L.companylogo,src:H.companyLogo}),c.jsxs("div",{className:L.experience,children:[c.jsx("p",{className:L.job,children:H.title}),c.jsx("p",{className:L.jobCompany,children:H.company}),c.jsxs("p",{className:L.jobDate,children:[H.startDate," - ",H.endDate]}),c.jsx("p",{className:L.jobDesc,children:H.description})]}),c.jsxs("div",{className:L.btns,children:[c.jsx(Xa,{onClick:()=>Ca(ie)}),c.jsx(gg,{onClick:()=>Fu(ie)})]})]},ie))]}),c.jsxs(vn,{isOpen:O,onRequestClose:Cv,ariaHideApp:!1,contentLabel:" Add Experience Modal",children:[c.jsxs("div",{className:L.title,children:[c.jsx("h2",{className:L.addExperienceTitle,children:"Add Experience"}),c.jsx("button",{onClick:Cv,className:L.modalBtn,children:c.jsx(yr,{})})]}),c.jsxs("form",{className:L.experienceForm,onSubmit:$u,children:[c.jsx("input",{type:"text",placeholder:"Enter Job Title",name:"title",className:L.formInput,onChange:H=>On(H),value:U.title}),c.jsx("input",{type:"text",placeholder:"Enter Company Name",name:"company",className:L.formInput,onChange:H=>On(H),value:U.company}),c.jsx("p",{children:"Start Date"}),c.jsx("input",{type:"date",name:"startDate",value:U.startDate,className:L.formInput,onChange:On}),c.jsx("p",{children:"End Date"}),c.jsx("input",{type:"date",name:"endDate",value:U.endDate,className:L.formInput,onChange:On}),c.jsx("textarea",{type:"text",placeholder:"Enter Description",name:"description",className:L.formInput,onChange:H=>On(H),value:U.description}),c.jsx("p",{children:"Company Logo"}),c.jsx("input",{type:"file",placeholder:"Upload Company Logo",name:"companyLogo",className:L.formInput,onChange:Sv}),U.companyLogo&&c.jsx("img",{src:U.companyLogo,alt:"Company Logo",style:{width:"100px",height:"100px"}}),c.jsx("div",{className:L.btns,children:c.jsx("button",{className:L.btn,children:"Submit"})})]})]}),c.jsxs(vn,{isOpen:rt,onRequestClose:si,ariaHideApp:!1,contentLabel:" Edit Experience Modal",children:[c.jsxs("div",{className:L.title,children:[c.jsx("h2",{className:L.addExperienceTitle,children:"Edit Experience"}),c.jsx("button",{onClick:si,className:L.modalBtn,children:c.jsx(yr,{})})]}),c.jsxs("form",{className:L.experienceForm,onSubmit:$u,children:[c.jsx("input",{type:"text",placeholder:"Enter Job Title",name:"title",className:L.formInput,onChange:H=>On(H),value:U.title}),c.jsx("input",{type:"text",placeholder:"Enter Company Name",name:"company",className:L.formInput,onChange:H=>On(H),value:U.company}),c.jsx("input",{type:"date",name:"startDate",value:U.startDate,className:L.formInput,onChange:On}),c.jsx("input",{type:"date",name:"endDate",value:U.endDate,className:L.formInput,onChange:On}),c.jsx("textarea",{type:"text",placeholder:"Enter Description",name:"description",className:L.formInput,onChange:H=>On(H),value:U.description}),c.jsx("p",{children:"Company Logo"}),c.jsx("input",{type:"file",placeholder:"Upload Company Logo",name:"companyLogo",className:L.formInput,onChange:Sv}),U.companyLogo&&c.jsx("img",{src:U.companyLogo,alt:"Company Logo",style:{width:"100px",height:"100px"}}),c.jsx("div",{className:L.btns,children:c.jsx("button",{className:L.btn,children:"Submit"})})]})]}),c.jsxs("div",{className:L.skillSection,children:[c.jsxs("div",{className:L.experienceTitle,children:[c.jsx("h6",{children:"Skills"}),c.jsx(Pp,{onClick:JA})]}),p&&p.map((H,ie)=>c.jsxs("div",{className:L.showPostsContainer,children:[c.jsx("p",{children:H}),c.jsxs("div",{className:L.btns,children:[c.jsx(Xa,{onClick:()=>re(ie)}),c.jsx(gg,{onClick:()=>Le(ie)})]})]},ie)),c.jsxs("div",{className:L.showPostsContainer,children:[c.jsx("p",{className:L.showPosts,children:" Show all skills"}),c.jsx("img",{src:"./Arrow.svg",className:L.icon})]})]}),c.jsxs(vn,{isOpen:M,onRequestClose:Bu,ariaHideApp:!1,contentLabel:" Add Skills Modal",children:[c.jsxs("div",{className:L.title,children:[c.jsx("h2",{className:L.addExperienceTitle,children:"Add Skills"}),c.jsx("button",{onClick:Bu,className:L.modalBtn,children:c.jsx(yr,{})})]}),c.jsxs("form",{className:L.experienceForm,onSubmit:Dr,children:[c.jsx("input",{type:"text",placeholder:"Enter Skill",className:L.formInput,name:"skill",onChange:H=>xa(H),value:fe}),c.jsx("div",{className:L.btns,children:c.jsx("button",{className:L.btn,children:"Submit"})})]})]}),c.jsxs(vn,{isOpen:kn,onRequestClose:Bu,ariaHideApp:!1,contentLabel:" Edit Skills Modal",children:[c.jsxs("div",{className:L.title,children:[c.jsx("h2",{className:L.addExperienceTitle,children:"Add Skills"}),c.jsx("button",{onClick:Ae,className:L.modalBtn,children:c.jsx(yr,{})})]}),c.jsxs("form",{className:L.experienceForm,onSubmit:Dr,children:[c.jsx("input",{type:"text",placeholder:"Enter Skill",className:L.formInput,name:"skill",onChange:H=>xa(H),value:fe}),c.jsx("div",{className:L.btns,children:c.jsx("button",{className:L.btn,children:"Submit"})})]})]})]}),c.jsxs("div",{className:L.others,children:[c.jsx("img",{className:L.background,src:"/public/profbackpic.svg"}),c.jsx("h6",{children:"People you may know"}),nP.map((H,ie)=>c.jsxs("div",{className:L.interestContainer,children:[c.jsx("img",{src:H.profilePicture,alt:H.firstName,className:L.companylogo}),c.jsxs("div",{className:L.experience,children:[c.jsxs("p",{className:L.job,children:[H.firstName," ",H.lastName]}),c.jsx("p",{className:L.jobCompany,children:H.bio}),c.jsx("button",{className:L.followBtn,onClick:()=>rP(H.id),children:"Connect"})]})]},ie))]})]})]})},Z6="_networks_section_14hes_1",e9="_manage_network_section_14hes_11",t9="_connection_14hes_17",n9="_contacts_14hes_18",r9="_active_14hes_31",s9="_txt_14hes_39",i9="_contactRequests_14hes_43",o9="_RequestContainer_14hes_103",a9="_leftP_14hes_136",Bt={networks_section:Z6,manage_network_section:e9,connection:t9,contacts:n9,active:r9,txt:s9,contactRequests:i9,RequestContainer:o9,leftP:a9},l9="_users_1gqt7_1",u9="_user_1gqt7_1",c9="_userImage_1gqt7_13",d9="_userName_1gqt7_19",h9="_connectBtn_1gqt7_23",f9="_acceptBtn_1gqt7_23",p9="_btns_1gqt7_35",m9="_imgContainer_1gqt7_46",mt={users:l9,user:u9,userImage:c9,userName:d9,connectBtn:h9,acceptBtn:f9,btns:p9,imgContainer:m9},Rp=({type:t})=>{const n=Pe().currentUser,r=n.uid,[s,i]=T.useState([]),[o,a]=T.useState([]),[l,u]=T.useState([]),[d,h]=T.useState(new Set);T.useEffect(()=>{const S=async()=>{if(n){const J=ue(ee,"users",n.uid),W=await Ze(J);if(W.exists){const R=W.data().contacts||[],b=[];for(let K of R){const C=ue(ee,"users",K),x=await Ze(C);x.exists&&b.push(x.data())}i(b)}}};S();const A=async()=>{const J=await m();a(J)};A();const k=async()=>{const J=await _();u(J)};k();const O=async()=>{const J=await v();h(J)};O();const $=ue(ee,"users",n.uid),M=av($,J=>{J.exists()?(S(),A(),k(),O()):console.log("No such document!")});return()=>M()},[]);const f=async S=>{const k=Pe().currentUser;if(k){const O=Qr(Ke(ee,"connections"),cn("userId","==",k.uid),cn("contactId","==",S));if(!(await In(O)).empty){console.log("Connection request already exists");return}const M={userId:k.uid,contactId:S,timestamp:new Date,status:"requested"};try{const J=await Ui(Ke(ee,"connections"),M);console.log("Document written with ID: ",J.id),alert("Connection request sent!"),h(W=>new Set([...W,S]))}catch(J){console.error("Error adding document: ",J)}}},m=async()=>{const A=Pe().currentUser;if(A){let O=(await In(Ke(ee,"users"))).docs.map(Z=>({id:Z.id,...Z.data()}));const $=ue(ee,"users",A.uid),M=await Ze($);let J=[];return M.exists()&&(J=M.data().contacts||[]),J.push(A.uid),O.filter(Z=>!J.includes(Z.id))}},_=async()=>{const S=Ke(ee,"connections"),A=Qr(S,cn("contactId","==",n.uid),cn("status","==","requested")),$=(await In(A)).docs.map(J=>({id:J.id,...J.data()})).map(async J=>{const W=ue(ee,"users",J.userId),Z=await Ze(W);return Z.exists()?{...J,userDetails:Z.data()}:{...J,userDetails:{}}});return await Promise.all($)},v=async()=>{const S=Ke(ee,"connections"),A=Qr(S,cn("userId","==",n.uid),cn("status","==","requested")),O=(await In(A)).docs.map($=>$.data().contactId);return new Set(O)},w=async(S,A,k)=>{const O=ue(ee,"connections",S);try{await yt(O,{status:"accepted"})}catch($){console.error("Error updating friend request status: ",$)}},g=async(S,A,k)=>{const O=ue(ee,"connections",S);try{await yt(O,{status:"rejected"})}catch($){console.error("Error updating friend request status: ",$)}},p=async(S,A)=>{const k=ue(ee,"users",S),O=ue(ee,"users",A);try{await yt(k,{contacts:mg(A)}),await yt(O,{contacts:mg(S)})}catch($){console.error("Error updating user contacts: ",$)}},y=async(S,A)=>{console.log("Accept request from:",A),await w(S),await p(r,A),u(k=>k.filter(O=>O.id!==S))},I=async(S,A)=>{console.log("Reject request from:",A),await g(S),u(k=>k.filter(O=>O.id!==S))};if(t==="new-connections")return c.jsx("div",{className:mt.users,children:o.map((S,A)=>c.jsxs("div",{className:mt.user,children:[c.jsxs("div",{className:mt.imgContainer,children:[c.jsx("img",{src:S.profilePicture,alt:S.firstName,className:mt.userImage}),c.jsxs("p",{className:mt.userName,children:[S.firstName," ",S.lastName]})]}),c.jsx("button",{onClick:()=>f(S.id),className:mt.connectBtn,disabled:d.has(S.id),children:d.has(S.id)?"Request Sent":"Connect"})]},A))});if(t==="contacts")return c.jsx("div",{className:mt.users,children:s.map((S,A)=>c.jsxs("div",{className:mt.user,children:[c.jsxs("div",{className:mt.imgContainer,children:[c.jsx("img",{src:S.profilePicture,alt:S.firstName,className:mt.userImage}),c.jsxs("p",{className:mt.userName,children:[S.firstName," ",S.lastName]})]}),c.jsx("button",{className:mt.connectBtn,children:"Connected"})]},A))});if(t==="requests")return c.jsx("div",{children:l.map((S,A)=>c.jsxs("div",{className:mt.user,children:[c.jsxs("div",{className:mt.imgContainer,children:[c.jsx("img",{src:S.userDetails.profilePicture,alt:"requests",className:mt.userImage}),c.jsxs("p",{className:mt.userName,children:[S.userDetails.firstName," ",S.userDetails.lastName]})]}),c.jsxs("div",{className:mt.btns,children:[c.jsx("button",{className:mt.acceptBtn,onClick:()=>y(S.id,S.userId),children:"Accept"}),c.jsx("button",{className:mt.acceptBtn,onClick:()=>I(S.id,S.userId),children:"Ignore"})]})]},A))})},g9=()=>{const[t,e]=T.useState("Connections");T.useState([]);const n=r=>{e(r)};return c.jsxs(c.Fragment,{children:[c.jsx(Du,{}),c.jsxs("div",{className:Bt.networks_section,children:[c.jsxs("div",{className:Bt.manage_network_section,children:[c.jsx("h6",{children:"Manage your networks"}),c.jsx("div",{className:`${Bt.connection} ${t==="Connections"?Bt.active:""}`,onClick:()=>n("Connections"),children:c.jsx("p",{className:Bt.txt,children:"New Connections"})}),c.jsx("div",{className:`${Bt.contacts} ${t==="Contacts"?Bt.active:""}`,onClick:()=>n("Contacts"),children:c.jsx("p",{className:Bt.txt,children:"Contacts"})}),c.jsx("div",{className:`${Bt.connection} ${t==="Requests"?Bt.active:""}`,onClick:()=>n("Requests"),children:c.jsx("p",{className:Bt.txt,children:"Requests"})})]}),c.jsx("div",{className:Bt.leftP,children:c.jsx(Lu,{handleTabClick:n})}),c.jsxs("div",{className:Bt.users,children:[t==="Connections"&&c.jsxs("div",{className:Bt.title,children:[c.jsx("h3",{children:"Connections"}),c.jsx(Rp,{type:"new-connections"})]}),t==="Contacts"&&c.jsxs("div",{className:Bt.title,children:[c.jsx("h3",{children:"Contacts"}),c.jsx(Rp,{type:"contacts"})]}),t==="Requests"&&c.jsxs("div",{className:Bt.title,children:[c.jsx("h3",{children:"Connection Requests"}),c.jsx(Rp,{type:"requests"})]})]})]})]})},y9="_jobs_section_q5udh_1",_9="_jobs_container_q5udh_10",v9="_search_post_q5udh_24",w9="_search_jobs_q5udh_35",E9="_create_job_q5udh_45",T9="_recommended_q5udh_56",I9="_title_q5udh_63",S9="_jobs_q5udh_1",C9="_job_q5udh_1",x9="_logo_q5udh_93",A9="_job_logo_q5udh_99",P9="_details_q5udh_103",R9="_job_title_q5udh_109",N9="_job_company_name_q5udh_118",k9="_job_location_q5udh_126",b9="_save_icon_q5udh_136",O9="_right_q5udh_145",j9="_job_details_column_q5udh_152",D9="_experienceTitle_q5udh_162",L9="_addExperienceTitle_q5udh_168",M9="_modalBtn_q5udh_171",V9="_formInput_q5udh_175",U9="_btns_q5udh_185",$9="_btn_q5udh_185",F9="_left_q5udh_202",B9="_jobsMain_q5udh_229",le={jobs_section:y9,jobs_container:_9,search_post:v9,search_jobs:w9,create_job:E9,recommended:T9,title:I9,jobs:S9,job:C9,logo:x9,job_logo:A9,details:P9,job_title:R9,job_company_name:N9,job_location:k9,save_icon:b9,right:O9,job_details_column:j9,experienceTitle:D9,addExperienceTitle:L9,modalBtn:M9,formInput:V9,btns:U9,btn:$9,left:F9,jobsMain:B9};var Us={},fv={},z9="Expected a function",$E=0/0,q9="[object Symbol]",W9=/^\s+|\s+$/g,H9=/^[-+]0x[0-9a-f]+$/i,K9=/^0b[01]+$/i,G9=/^0o[0-7]+$/i,Q9=parseInt,J9=typeof zu=="object"&&zu&&zu.Object===Object&&zu,Y9=typeof self=="object"&&self&&self.Object===Object&&self,X9=J9||Y9||Function("return this")(),Z9=Object.prototype,e5=Z9.toString,t5=Math.max,n5=Math.min,Np=function(){return X9.Date.now()};function r5(t,e,n){var r,s,i,o,a,l,u=0,d=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(z9);e=FE(e)||0,Tg(n)&&(d=!!n.leading,h="maxWait"in n,i=h?t5(FE(n.maxWait)||0,e):i,f="trailing"in n?!!n.trailing:f);function m(A){var k=r,O=s;return r=s=void 0,u=A,o=t.apply(O,k),o}function _(A){return u=A,a=setTimeout(g,e),d?m(A):o}function v(A){var k=A-l,O=A-u,$=e-k;return h?n5($,i-O):$}function w(A){var k=A-l,O=A-u;return l===void 0||k>=e||k<0||h&&O>=i}function g(){var A=Np();if(w(A))return p(A);a=setTimeout(g,v(A))}function p(A){return a=void 0,f&&r?m(A):(r=s=void 0,o)}function y(){a!==void 0&&clearTimeout(a),u=0,r=l=s=a=void 0}function I(){return a===void 0?o:p(Np())}function S(){var A=Np(),k=w(A);if(r=arguments,s=this,l=A,k){if(a===void 0)return _(l);if(h)return a=setTimeout(g,e),m(l)}return a===void 0&&(a=setTimeout(g,e)),o}return S.cancel=y,S.flush=I,S}function Tg(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function s5(t){return!!t&&typeof t=="object"}function i5(t){return typeof t=="symbol"||s5(t)&&e5.call(t)==q9}function FE(t){if(typeof t=="number")return t;if(i5(t))return $E;if(Tg(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Tg(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(W9,"");var n=K9.test(t);return n||G9.test(t)?Q9(t.slice(2),n?2:8):H9.test(t)?$E:+t}var o5=r5,If={};Object.defineProperty(If,"__esModule",{value:!0});If.compose=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(){for(var s=arguments.length,i=Array(s),o=0;o<s;o++)i[o]=arguments[o];n.forEach(function(a){return a&&a.apply(void 0,i)})}};If.pick=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce(function(i,o){return e&&e.hasOwnProperty(o)&&(i[o]=e[o]),i},{})};Object.defineProperty(fv,"__esModule",{value:!0});var ro=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a5=function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l5=T,u5=pv(l5),c5=cv,lt=pv(c5),d5=o5,h5=pv(d5),Mr=If;function pv(t){return t&&t.__esModule?t:{default:t}}function f5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p5(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function m5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g5=function(e){return{mainText:e.main_text,secondaryText:e.secondary_text}},mv=function(t){m5(e,t);function e(n){f5(this,e);var r=p5(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.init=function(){if(!window.google)throw new Error("[react-places-autocomplete]: Google Maps JavaScript API library must be loaded. See: https://github.com/kenny-hibino/react-places-autocomplete#load-google-library");if(!window.google.maps.places)throw new Error("[react-places-autocomplete]: Google Maps Places library must be loaded. Please add `libraries=places` to the src URL. See: https://github.com/kenny-hibino/react-places-autocomplete#load-google-library");r.autocompleteService=new window.google.maps.places.AutocompleteService,r.autocompleteOK=window.google.maps.places.PlacesServiceStatus.OK,r.setState(function(s){return s.ready?null:{ready:!0}})},r.autocompleteCallback=function(s,i){if(r.setState({loading:!1}),i!==r.autocompleteOK){r.props.onError(i,r.clearSuggestions);return}var o=r.props.highlightFirstSuggestion;r.setState({suggestions:s.map(function(a,l){return{id:a.id,description:a.description,placeId:a.place_id,active:!!(o&&l===0),index:l,formattedSuggestion:g5(a.structured_formatting),matchedSubstrings:a.matched_substrings,terms:a.terms,types:a.types}})})},r.fetchPredictions=function(){var s=r.props.value;s.length&&(r.setState({loading:!0}),r.autocompleteService.getPlacePredictions(ro({},r.props.searchOptions,{input:s}),r.autocompleteCallback))},r.clearSuggestions=function(){r.setState({suggestions:[]})},r.clearActive=function(){r.setState({suggestions:r.state.suggestions.map(function(s){return ro({},s,{active:!1})})})},r.handleSelect=function(s,i,o){r.clearSuggestions(),r.props.onSelect?r.props.onSelect(s,i,o):r.props.onChange(s)},r.getActiveSuggestion=function(){return r.state.suggestions.find(function(s){return s.active})},r.selectActiveAtIndex=function(s){var i=r.state.suggestions.find(function(o){return o.index===s}).description;r.setActiveAtIndex(s),r.props.onChange(i)},r.selectUserInputValue=function(){r.clearActive(),r.props.onChange(r.state.userInputValue)},r.handleEnterKey=function(){var s=r.getActiveSuggestion();s===void 0?r.handleSelect(r.props.value,null,null):r.handleSelect(s.description,s.placeId,s)},r.handleDownKey=function(){if(r.state.suggestions.length!==0){var s=r.getActiveSuggestion();s===void 0?r.selectActiveAtIndex(0):s.index===r.state.suggestions.length-1?r.selectUserInputValue():r.selectActiveAtIndex(s.index+1)}},r.handleUpKey=function(){if(r.state.suggestions.length!==0){var s=r.getActiveSuggestion();s===void 0?r.selectActiveAtIndex(r.state.suggestions.length-1):s.index===0?r.selectUserInputValue():r.selectActiveAtIndex(s.index-1)}},r.handleInputKeyDown=function(s){switch(s.key){case"Enter":s.preventDefault(),r.handleEnterKey();break;case"ArrowDown":s.preventDefault(),r.handleDownKey();break;case"ArrowUp":s.preventDefault(),r.handleUpKey();break;case"Escape":r.clearSuggestions();break}},r.setActiveAtIndex=function(s){r.setState({suggestions:r.state.suggestions.map(function(i,o){return o===s?ro({},i,{active:!0}):ro({},i,{active:!1})})})},r.handleInputChange=function(s){var i=s.target.value;if(r.props.onChange(i),r.setState({userInputValue:i}),!i){r.clearSuggestions();return}r.props.shouldFetchSuggestions&&r.debouncedFetchPredictions()},r.handleInputOnBlur=function(){r.mousedownOnSuggestion||r.clearSuggestions()},r.getActiveSuggestionId=function(){var s=r.getActiveSuggestion();return s?"PlacesAutocomplete__suggestion-"+s.placeId:void 0},r.getIsExpanded=function(){return r.state.suggestions.length>0},r.getInputProps=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(s.hasOwnProperty("value"))throw new Error("[react-places-autocomplete]: getInputProps does not accept `value`. Use `value` prop instead");if(s.hasOwnProperty("onChange"))throw new Error("[react-places-autocomplete]: getInputProps does not accept `onChange`. Use `onChange` prop instead");var i={type:"text",autoComplete:"off",role:"combobox","aria-autocomplete":"list","aria-expanded":r.getIsExpanded(),"aria-activedescendant":r.getActiveSuggestionId(),disabled:!r.state.ready};return ro({},i,s,{onKeyDown:(0,Mr.compose)(r.handleInputKeyDown,s.onKeyDown),onBlur:(0,Mr.compose)(r.handleInputOnBlur,s.onBlur),value:r.props.value,onChange:function(a){r.handleInputChange(a)}})},r.getSuggestionItemProps=function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.handleSuggestionMouseEnter.bind(r,s.index),a=r.handleSuggestionClick.bind(r,s);return ro({},i,{key:s.id,id:r.getActiveSuggestionId(),role:"option",onMouseEnter:(0,Mr.compose)(o,i.onMouseEnter),onMouseLeave:(0,Mr.compose)(r.handleSuggestionMouseLeave,i.onMouseLeave),onMouseDown:(0,Mr.compose)(r.handleSuggestionMouseDown,i.onMouseDown),onMouseUp:(0,Mr.compose)(r.handleSuggestionMouseUp,i.onMouseUp),onTouchStart:(0,Mr.compose)(r.handleSuggestionTouchStart,i.onTouchStart),onTouchEnd:(0,Mr.compose)(r.handleSuggestionMouseUp,i.onTouchEnd),onClick:(0,Mr.compose)(a,i.onClick)})},r.handleSuggestionMouseEnter=function(s){r.setActiveAtIndex(s)},r.handleSuggestionMouseLeave=function(){r.mousedownOnSuggestion=!1,r.clearActive()},r.handleSuggestionMouseDown=function(s){s.preventDefault(),r.mousedownOnSuggestion=!0},r.handleSuggestionTouchStart=function(){r.mousedownOnSuggestion=!0},r.handleSuggestionMouseUp=function(){r.mousedownOnSuggestion=!1},r.handleSuggestionClick=function(s,i){i&&i.preventDefault&&i.preventDefault();var o=s.description,a=s.placeId;r.handleSelect(o,a,s),setTimeout(function(){r.mousedownOnSuggestion=!1})},r.state={loading:!1,suggestions:[],userInputValue:n.value,ready:!n.googleCallbackName},r.debouncedFetchPredictions=(0,h5.default)(r.fetchPredictions,n.debounce),r}return a5(e,[{key:"componentDidMount",value:function(){var r=this.props.googleCallbackName;if(r){var s=window.google&&window.google.maps&&window.google.maps.places;s?this.init():window[r]=this.init}else this.init()}},{key:"componentWillUnmount",value:function(){var r=this.props.googleCallbackName;r&&window[r]&&delete window[r]}},{key:"render",value:function(){return this.props.children({getInputProps:this.getInputProps,getSuggestionItemProps:this.getSuggestionItemProps,loading:this.state.loading,suggestions:this.state.suggestions})}}]),e}(u5.default.Component);mv.propTypes={onChange:lt.default.func.isRequired,value:lt.default.string.isRequired,children:lt.default.func.isRequired,onError:lt.default.func,onSelect:lt.default.func,searchOptions:lt.default.shape({bounds:lt.default.object,componentRestrictions:lt.default.object,location:lt.default.object,offset:lt.default.oneOfType([lt.default.number,lt.default.string]),radius:lt.default.oneOfType([lt.default.number,lt.default.string]),types:lt.default.array}),debounce:lt.default.number,highlightFirstSuggestion:lt.default.bool,shouldFetchSuggestions:lt.default.bool,googleCallbackName:lt.default.string};mv.defaultProps={onError:function(e,n){return console.error(`[react-places-autocomplete]: error happened when fetching data from Google Maps API.
Please check the docs here (https://developers.google.com/maps/documentation/javascript/places#place_details_responses)
Status: `,e)},searchOptions:{},debounce:200,highlightFirstSuggestion:!1,shouldFetchSuggestions:!0};fv.default=mv;var Uu={};Object.defineProperty(Uu,"__esModule",{value:!0});Uu.geocodeByAddress=function(e){var n=new window.google.maps.Geocoder,r=window.google.maps.GeocoderStatus.OK;return new Promise(function(s,i){n.geocode({address:e},function(o,a){a!==r&&i(a),s(o)})})};Uu.getLatLng=function(e){return new Promise(function(n,r){try{var s={lat:e.geometry.location.lat(),lng:e.geometry.location.lng()};n(s)}catch(i){r(i)}})};Uu.geocodeByPlaceId=function(e){var n=new window.google.maps.Geocoder,r=window.google.maps.GeocoderStatus.OK;return new Promise(function(s,i){n.geocode({placeId:e},function(o,a){a!==r&&i(a),s(o)})})};Object.defineProperty(Us,"__esModule",{value:!0});Us.getLatLng=Us.geocodeByPlaceId=Us.geocodeByAddress=void 0;var y5=fv,_5=v5(y5),gv=Uu;function v5(t){return t&&t.__esModule?t:{default:t}}Us.geocodeByAddress=gv.geocodeByAddress;Us.geocodeByPlaceId=gv.geocodeByPlaceId;Us.getLatLng=gv.getLatLng;Us.default=_5.default;const BE=({job:t,onBookmarkClick:e,isBookmarked:n,onJobClick:r,onEditClick:s,onDeleteClick:i,scrollToJob:o})=>{const a=l=>{r(l),o()};return c.jsxs("div",{className:le.job,onClick:()=>a(t),children:[c.jsx("div",{className:le.logo,children:c.jsx("img",{className:le.job_logo,src:t.imageUrl,alt:`${t.company} logo`})}),c.jsxs("div",{className:le.details,children:[c.jsx("h4",{className:le.job_title,children:t.title}),c.jsx("p",{className:le.job_company_name,children:t.company}),c.jsx("p",{className:le.job_location,children:t.location})]}),c.jsxs("div",{className:le.save_icon,children:[n?c.jsx(RB,{onClick:l=>{l.stopPropagation(),e(t)}}):c.jsx(NB,{onClick:l=>{l.stopPropagation(),e(t)}}),c.jsx(Xa,{onClick:()=>s()}),c.jsx(gg,{onClick:l=>{l.stopPropagation(),i(t.id)}})]})]})},w5=({job:t,jobRef:e})=>c.jsxs("div",{className:le.job_details,ref:e,children:[c.jsx("h2",{children:t.title}),c.jsx("h3",{children:t.company}),c.jsx("p",{children:t.location}),c.jsx("button",{className:le.btn,children:"Apply"}),c.jsx("p",{children:t.description}),c.jsx("p",{children:t.requirements})]}),E5=()=>{const[t,e]=T.useState("recommended"),[n,r]=T.useState([]),[s,i]=T.useState([]),[o,a]=T.useState(!1),[l,u]=T.useState(""),[d,h]=T.useState(""),[f,m]=T.useState(""),[_,v]=T.useState(""),[w,g]=T.useState(""),[p,y]=T.useState(""),[I,S]=T.useState(""),[A,k]=T.useState(""),[O,$]=T.useState(null),[M,J]=T.useState(!1),[W,Z]=T.useState({title:"",company:"",type:"",salary:"",location:"",description:"",requirements:""}),[R,b]=T.useState(""),[K,C]=T.useState(null),x=()=>{a(!0)},z=()=>{a(!1)},U=()=>{J(!0)},ne=()=>{J(!1)},fe=F=>()=>{$(F),console.log("Handle Job Click function !@#")},Oe=async F=>{try{const P=Pe().currentUser;if(P){const N=ue(ee,"jobs",F);await pg(N);const Q=ue(ee,"users",P.uid);await yt(Q,{interests:NE(F)}),r(q=>q.filter(D=>D.id!==F)),i(q=>q.filter(D=>D.id!==F)),O&&O.id===F&&$(null)}}catch(E){console.error("Error deleting job:",E)}},je=async F=>{if(!F)return;const E=bo(Mo,`logos/${F.name}`);try{const P=await dl(E,F);return await ko(P.ref)}catch(P){console.error("Error uploading logo: ",P)}},Vt=async F=>{const E=F.target.files[0];if(E){const P=await je(E);console.log(P),C(E),b(P)}};T.useEffect(()=>{const F=Ke(ee,"jobs"),E=av(Qr(F,cA("posted On","desc")),P=>{const N=P.docs.map(D=>({...D.data(),id:D.id}));if(r(N),l){const D=N.filter(re=>re.title.toLowerCase().includes(l.toLowerCase()));r(D)}const Q=N.map(D=>D.id),q=Q.length!==new Set(Q).size;console.log("Has duplicate job IDs:",q)},[l]);return()=>E()},[l]);const rt=async F=>{F.preventDefault();const P=Pe().currentUser;if(!P){console.log("User is NOT Authenticated");return}const N=await je(K),Q=Ke(ee,"jobs"),q=ue(Q);await ov(q,{title:d,company:f,type:_,salary:w,location:p,description:I,requirements:A,"posted On":Lo(),"posted By":P.uid,imageUrl:N}),h(""),m(""),v(""),g(""),y(""),S(""),k(""),C(null),b(""),z()},ot=async F=>{if(F.preventDefault(),!Pe().currentUser||!W){console.log("User is NOT Authenticated or editingJob is undefined");return}let N=W.imageUrl;K&&(N=await je(K));const Q=Ke(ee,"jobs"),q=ue(Q,W.id);await yt(q,{title:W.title,company:W.company,type:W.type,salary:W.salary,location:W.location,description:W.description,requirements:W.requirements,imageUrl:N}),Z(null),h(""),m(""),v(""),g(""),y(""),S(""),k(""),C(null),b(""),ne()},yn=async F=>{try{const P=Pe().currentUser;if(P&&F.id){const N=ue(ee,"users",P.uid);(await Ze(N)).data().interests.includes(F.id)?(await yt(N,{interests:NE(F.id)}),i(D=>D.filter(Ae=>Ae.id!==F.id)),console.log("Removed")):(await yt(N,{interests:mg(F.id)}),i(D=>D.find(Le=>Le.id===F.id)?D:[...D,F]),console.log("Added"))}}catch(E){console.error("Error saving job:",E)}};T.useEffect(()=>{(async()=>{const P=Pe().currentUser;if(P){const N=ue(ee,"users",P.uid),Q=await Ze(N);if(Q.exists()){const q=Q.data().interests,D=await Promise.all(q.map(async re=>{const Ae=await Ze(ue(ee,"jobs",re));return{id:re,...Ae.data()}}));i(D)}else i([]);if(l){console.log("search",l);const q=s.filter(D=>D.title.toLowerCase().includes(l.toLowerCase()));i(q)}}})()},[t]);const Kn=F=>{e(F)},kn=F=>{console.log("Edit Job :",F),Z(F),U()},bn=F=>{const{name:E,value:P}=F.target;F.target.type==="file"&&(F.target.value=""),Z(N=>({...N,[E]:P}))},Gn=T.useRef(),ri=()=>{Gn.current&&Gn.current.scrollIntoView({behavior:"smooth",block:"center"})},[Xi,Ia]=T.useState(!0);return T.useEffect(()=>{const F=()=>{Ia(window.innerWidth>800)};return window.addEventListener("resize",F),F(),()=>{window.removeEventListener("resize",F)}},[]),c.jsxs(c.Fragment,{children:[c.jsx(Du,{}),c.jsxs("div",{className:le.jobs_section,children:[Xi&&c.jsx(Lu,{onFindJobsClick:()=>Kn("recommended"),onSavedJobsClick:()=>Kn("saved")}),c.jsxs("div",{className:le.right,children:[c.jsxs("div",{className:le.search_post,children:[c.jsx("input",{className:le.search_jobs,placeholder:"Search Jobs",value:l,onChange:F=>u(F.target.value)}),c.jsx("button",{className:le.create_job,onClick:x,children:"Post a Job"}),c.jsxs(vn,{isOpen:o,onRequestClose:z,ariaHideApp:!1,contentLabel:"Add Job Posting Modal",children:[c.jsxs("div",{className:le.title,children:[c.jsx("h2",{className:le.addExperienceTitle,children:"Post A Job"}),c.jsx("button",{onClick:z,className:le.modalBtn,children:c.jsx(yr,{})})]}),c.jsx("input",{type:"text",placeholder:"Job Title",className:le.formInput,value:d,onChange:F=>h(F.target.value)}),c.jsx("input",{type:"text",placeholder:"Company Name",className:le.formInput,value:f,onChange:F=>m(F.target.value)}),c.jsxs("select",{name:"jobType",id:"jobType",className:le.formInput,value:_,onChange:F=>v(F.target.value),children:[c.jsx("option",{value:"fullTime",children:"Full Time"}),c.jsx("option",{value:"partTime",children:"Part Time"}),c.jsx("option",{value:"internship",children:"Internship"}),c.jsx("option",{value:"contract",children:"Contract"}),c.jsx("option",{value:"temporary",children:"Temporary"}),c.jsx("option",{value:"volunteer",children:"Volunteer"}),c.jsx("option",{value:"other",children:"Other"})]}),c.jsx("input",{type:"text",placeholder:"Salary",className:le.formInput,value:w,onChange:F=>g(F.target.value)}),c.jsx("input",{type:"text",placeholder:"Job Location",className:le.formInput,value:p,onChange:F=>y(F.target.value)}),c.jsx("textarea",{placeholder:"Job Description",value:I,className:le.formInput,onChange:F=>S(F.target.value)}),c.jsx("textarea",{placeholder:"Requirements",value:A,className:le.formInput,onChange:F=>k(F.target.value)}),c.jsx("input",{type:"file",placeholder:"Upload Company Logo",className:le.formInput,name:"logo",onChange:F=>Vt(F)}),c.jsxs("div",{className:le.btns,children:[c.jsx("button",{className:le.btn,onClick:z,children:"Close"}),c.jsx("button",{className:le.btn,onClick:rt,children:"Submit"})]})]}),c.jsxs(vn,{isOpen:M,onRequestClose:ne,ariaHideApp:!1,contentLabel:" Edit Job Posting Modal",children:[c.jsxs("div",{className:le.title,children:[c.jsx("h2",{className:le.addExperienceTitle,children:" Edit a Job Posting"}),c.jsx("button",{onClick:ne,className:le.modalBtn,children:c.jsx(yr,{})})]}),c.jsx("input",{type:"text",placeholder:"Job Title",className:le.formInput,name:"title",value:W==null?void 0:W.title,onChange:F=>bn(F)}),c.jsx("input",{type:"text",placeholder:"Company Name",className:le.formInput,name:"company",value:W==null?void 0:W.company,onChange:F=>bn(F)}),c.jsxs("select",{name:"jobType",id:"jobType",className:le.formInput,value:W==null?void 0:W.type,onChange:F=>bn(F),children:[c.jsx("option",{value:"fullTime",children:"Full Time"}),c.jsx("option",{value:"partTime",children:"Part Time"}),c.jsx("option",{value:"internship",children:"Internship"}),c.jsx("option",{value:"contract",children:"Contract"}),c.jsx("option",{value:"temporary",children:"Temporary"}),c.jsx("option",{value:"volunteer",children:"Volunteer"}),c.jsx("option",{value:"other",children:"Other"})]}),c.jsx("input",{type:"text",placeholder:"Salary",className:le.formInput,name:"salary",value:W==null?void 0:W.salary,onChange:F=>bn(F)}),c.jsx("input",{type:"text",placeholder:"Job Location",className:le.formInput,name:"location",value:W==null?void 0:W.location,onChange:F=>bn(F)}),c.jsx("textarea",{placeholder:"Job Description",value:W==null?void 0:W.description,className:le.formInput,name:"description",onChange:F=>bn(F)}),c.jsx("textarea",{placeholder:"Requirements",value:W==null?void 0:W.requirements,className:le.formInput,name:"requirements",onChange:F=>bn(F)}),c.jsx("input",{type:"file",placeholder:"Upload Company Logo",className:le.formInput,name:"logo",onChange:F=>Vt(F)}),c.jsxs("div",{className:le.btns,children:[c.jsx("button",{className:le.btn,onClick:ne,children:"Close"}),c.jsx("button",{className:le.btn,onClick:ot,children:"Submit"})]})]})]}),c.jsxs("div",{className:le.jobsMain,style:{display:"flex"},children:[c.jsxs("div",{className:le.jobs_container,children:[t==="recommended"&&c.jsx("div",{className:le.recommended,children:c.jsx("div",{className:le.jobs,children:n.map(F=>c.jsx(BE,{job:F,onBookmarkClick:yn,isBookmarked:s.some(E=>E.id===F.id),onJobClick:fe(F),onEditClick:()=>kn(F),onDeleteClick:Oe,scrollToJob:ri,jobRef:Gn},F.id))})}),t==="saved"&&c.jsx("div",{className:le.recommended,children:c.jsx("div",{className:le.jobs,children:s.length>0?s.map(F=>(console.log("Job:",F),c.jsx(BE,{job:F,isBookmarked:!0,onBookmarkClick:yn,onJobClick:fe(F),onEditClick:()=>kn(F),onDeleteClick:Oe},F.id?F.id.toString():""))):c.jsx("h3",{children:"No Saved Jobs"})})})]}),O&&c.jsx("div",{className:le.job_details_column,children:c.jsx(w5,{job:O,jobRef:Gn})})]})]})]})]})},T5="_logo_g0ln6_4",I5="_registerContainer_g0ln6_10",S5="_formGroup_g0ln6_27",C5="_error_g0ln6_68",x5="_passwordContainer_g0ln6_91",A5="_registerBtn_g0ln6_96",P5="_googleSignIn_g0ln6_100",R5="_GSignInBtn_g0ln6_126",Vr={logo:T5,registerContainer:I5,formGroup:S5,error:C5,passwordContainer:x5,registerBtn:A5,googleSignIn:P5,GSignInBtn:R5},N5=()=>{var l,u,d,h;const{register:t,handleSubmit:e,formState:n}=Ky(),{errors:r}=n,i=Pe().currentUser;T.useState(""),T.useState(""),T.useState(""),T.useState("");const o=jr(),a=async f=>{try{if(i){const m=ue(ee,"users",i.uid);await yt(m,{firstName:f.firstName,lastName:f.lastName,dateOfBirth:f.dateOfBirth,age:f.age}),o("/feed")}}catch(m){console.error("Error adding user to firestore:",m)}};return c.jsxs(c.Fragment,{children:[c.jsx(lv,{}),c.jsxs("div",{className:Vr.registerContainer,children:[c.jsx("h1",{children:"User"}),c.jsx("h6",{children:" To begin, we'll need some basic information from you"}),c.jsxs("form",{onSubmit:e(a),noValidate:!0,children:[c.jsxs("div",{className:Vr.formGroup,children:[c.jsx("label",{htmlFor:"text",children:"First Name:"}),c.jsx("input",{type:"text",id:"fname",...t("firstName",{required:"First Name is required"})}),c.jsx("p",{className:Vr.error,children:(l=r.firstName)==null?void 0:l.message})]}),c.jsxs("div",{className:Vr.formGroup,children:[c.jsx("label",{htmlFor:"text",children:"Last Name:"}),c.jsx("input",{type:"text",id:"lname",...t("lastName",{required:"Last Name is required"})}),c.jsx("p",{className:Vr.error,children:(u=r.lastName)==null?void 0:u.message})]}),c.jsxs("div",{className:Vr.formGroup,children:[c.jsx("label",{htmlFor:"date",children:"Date of Birth:"}),c.jsx("input",{type:"date",id:"dob",...t("dateOfBirth",{required:"Date of Birth is required"}),max:`${new Date().getFullYear()}-12-31`}),c.jsx("p",{className:Vr.error,children:(d=r.dateOfBirth)==null?void 0:d.message})]}),c.jsxs("div",{className:Vr.formGroup,children:[c.jsx("label",{htmlFor:"number",children:"Age: "}),c.jsx("input",{type:"number",id:"age",...t("age",{required:"Age is required"})}),c.jsx("p",{className:Vr.error,children:(h=r.age)==null?void 0:h.message})]}),c.jsx(uv,{variant:"primary",size:"lg",className:"registerBtn",type:"submit",style:{backgroundColor:"#7F61A9"},onSubmit:a,children:"Register"})]})]})]})},k5="_container_1jvy3_1",b5="_profile_1jvy3_11",O5="_user_1jvy3_23",j5="_bannerContainer_1jvy3_35",D5="_banner_1jvy3_35",L5="_userTitles_1jvy3_63",M5="_pic_1jvy3_54",V5="_titleContainer_1jvy3_83",U5="_username_1jvy3_90",$5="_jobtitle_1jvy3_99",F5="_btns_1jvy3_109",B5="_btn_1jvy3_109",z5="_connectBtn_1jvy3_127",q5="_msgBtn_1jvy3_142",W5="_moreBtn_1jvy3_155",H5="_btnTxt_1jvy3_172",K5="_info_1jvy3_176",G5="_generalText_1jvy3_190",Q5="_infoContainer_1jvy3_201",J5="_activity_1jvy3_210",Y5="_followers_1jvy3_231",X5="_showPostsContainer_1jvy3_253",Z5="_showPosts_1jvy3_253",ez="_experienceSection_1jvy3_271",tz="_experienceContainer_1jvy3_285",nz="_companylogo_1jvy3_301",rz="_job_1jvy3_99",sz="_jobCompany_1jvy3_317",iz="_jobDate_1jvy3_326",oz="_jobDesc_1jvy3_335",az="_skillSection_1jvy3_347",lz="_skill_1jvy3_347",uz="_skillText_1jvy3_369",cz="_interestSection_1jvy3_378",dz="_interestContainer_1jvy3_392",hz="_experience_1jvy3_271",fz="_followBtn_1jvy3_406",pz="_others_1jvy3_418",mz="_background_1jvy3_431",gz="_experienceTitle_1jvy3_443",yz="_title_1jvy3_83",_z="_addExperienceTitle_1jvy3_449",vz="_modalBtn_1jvy3_453",wz="_formInput_1jvy3_457",Ez="_formInput1_1jvy3_457",Tz="_left_1jvy3_503",we={container:k5,profile:b5,user:O5,bannerContainer:j5,banner:D5,userTitles:L5,pic:M5,titleContainer:V5,username:U5,jobtitle:$5,btns:F5,btn:B5,connectBtn:z5,msgBtn:q5,moreBtn:W5,btnTxt:H5,info:K5,generalText:G5,infoContainer:Q5,activity:J5,followers:Y5,showPostsContainer:X5,showPosts:Z5,experienceSection:ez,experienceContainer:tz,companylogo:nz,job:rz,jobCompany:sz,jobDate:iz,jobDesc:oz,skillSection:az,skill:lz,skillText:uz,interestSection:cz,interestContainer:dz,experience:hz,followBtn:fz,others:pz,background:mz,experienceTitle:gz,title:yz,addExperienceTitle:_z,modalBtn:vz,formInput:wz,formInput1:Ez,left:Tz},Iz=()=>{const e=Pe().currentUser,[n,r]=T.useState([]);T.useEffect(()=>{(async()=>{const f=await s();r(f)})()},[]);const s=async()=>{if(e){let f=(await In(Ke(ee,"users"))).docs.map(g=>({id:g.id,...g.data()}));const m=ue(ee,"users",e.uid),_=await Ze(m);let v=[];return _.exists()&&(v=_.data().contacts||[]),v.push(e.uid),f.filter(g=>!v.includes(g.id))}},o=n.sort(()=>.5-Math.random()).slice(0,3),a=async h=>{if(e){const f=Qr(Ke(ee,"connections"),cn("userId","==",e.uid),cn("contactId","==",h));if(!(await In(f)).empty){console.log("Connection request already exists");return}const _={userId:e.uid,contactId:h,timestamp:new Date,status:"requested"};try{const v=await Ui(Ke(ee,"connections"),_);alert("Connection request sent!"),console.log("Document written with ID: ",v.id)}catch(v){console.error("Error adding document: ",v)}}},{userID:l}=zj(),[u,d]=T.useState(null);return T.useEffect(()=>{console.log("id",l);let h=l.slice(1);console.log(" after",h),console.log(typeof l),(async()=>{try{const m=ue(ee,"users",h);console.log("Path:",m.path);const _=await Ze(m);console.log("shot",_);const v=_.data();if(console.log("data",v),_.exists()){const w=_.data();console.log("data",w),d(_.data())}else console.error("User Not Found")}catch(m){console.log(m)}})()},[l]),console.log("prof",u),c.jsxs("div",{children:[c.jsx(Du,{}),c.jsxs("div",{className:we.container,children:[c.jsx("div",{className:we.left,children:c.jsx(Lu,{})}),c.jsx("div",{className:we.profileContainer,children:c.jsxs("div",{className:we.profile,children:[c.jsxs("div",{className:we.user,children:[c.jsx("div",{className:we.bannerContainer,children:c.jsx("img",{className:we.banner,src:u==null?void 0:u.backPicture})}),c.jsxs("div",{className:we.userTitles,children:[c.jsx("img",{className:we.pic,src:u==null?void 0:u.profilePicture}),c.jsxs("div",{className:we.titleContainer,children:[c.jsxs("h6",{className:we.username,children:[u==null?void 0:u.firstName," ",u==null?void 0:u.lastName]}),c.jsxs("p",{className:we.jobtitle,children:[u==null?void 0:u.title," "]})]}),c.jsx("div",{className:we.btns,children:c.jsxs("button",{className:we.connectBtn,children:[c.jsx("img",{src:"./connect.svg",className:we.icon}),c.jsx("p",{className:we.btnTxt,onClick:()=>a(u==null?void 0:u.userID),children:" Connect"})]})})]})]}),c.jsxs("div",{className:we.info,children:[c.jsx("div",{className:we.infoContainer,children:c.jsx("h6",{children:"General Information"})}),(u==null?void 0:u.generalInfo)&&c.jsx("p",{children:u==null?void 0:u.generalInfo})]}),c.jsxs("div",{className:we.experienceSection,children:[c.jsx("div",{className:we.experienceTitle,children:c.jsx("h6",{children:"Experience"})}),(u==null?void 0:u.experience)&&(u==null?void 0:u.experience.map((h,f)=>c.jsxs("div",{className:we.experienceContainer,children:[c.jsx("img",{className:we.companylogo,src:h.companyLogo}),c.jsxs("div",{className:we.experience,children:[c.jsx("p",{className:we.job,children:h.title}),c.jsx("p",{className:we.jobCompany,children:h.company}),c.jsxs("p",{className:we.jobDate,children:[h.startDate," - ",h.endDate]}),c.jsx("p",{className:we.jobDesc,children:h.description})]})]},f)))]}),c.jsxs("div",{className:we.skillSection,children:[c.jsx("div",{className:we.experienceTitle,children:c.jsx("h6",{children:"Skills"})}),u==null?void 0:u.skills.map((h,f)=>c.jsx("div",{className:we.showPostsContainer,children:c.jsx("p",{children:h})},f))]})]})}),c.jsxs("div",{className:we.others,children:[c.jsx("img",{className:we.background,src:"/public/profbackpic.svg"}),c.jsx("h6",{children:"People you may know"}),o==null?void 0:o.map((h,f)=>c.jsxs("div",{className:we.interestContainer,children:[c.jsx("img",{src:h.profilePicture,alt:h.firstName,className:we.companylogo}),c.jsxs("div",{className:we.experience,children:[c.jsxs("p",{className:we.job,children:[h.firstName," ",h.lastName]}),c.jsx("p",{className:we.jobCompany,children:h.bio}),c.jsx("button",{className:we.followBtn,onClick:()=>a(h.id),children:"Connect"})]})]},f))]})]})]})},Sz=()=>{const[t,e]=T.useState(null),[n,r]=T.useState(!0),s=Pe();return T.useEffect(()=>{const i=rO(s,o=>{e(o),r(!1)});return()=>i()},[s]),n?c.jsx(yS,{}):c.jsx(_u.Provider,{value:{user:t,setUser:e},children:c.jsx(cD,{children:c.jsxs(sD,{children:[c.jsx(mr,{path:"/",element:c.jsx(AD,{})}),c.jsx(mr,{path:"/register",element:c.jsx(OF,{})}),c.jsx(mr,{path:"/login",element:c.jsx(SF,{})}),c.jsx(mr,{path:"/feed",element:c.jsx(eo,{children:c.jsx(i6,{})})}),c.jsx(mr,{path:"/profile",element:c.jsx(eo,{children:c.jsx(X6,{})})}),c.jsx(mr,{path:"/network",element:c.jsx(eo,{children:c.jsx(g9,{})})}),c.jsx(mr,{path:"/jobs",element:c.jsx(eo,{children:c.jsx(E5,{})})}),c.jsx(mr,{path:"/create-profile",element:c.jsx(eo,{children:c.jsx(N5,{})})}),c.jsx(mr,{path:"/:userID",element:c.jsx(eo,{children:c.jsx(Iz,{})})})]})})})};function sr(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Gs(t){return!!t&&!!t[qe]}function is(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var s=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return s===Object||typeof s=="function"&&Function.toString.call(s)===Oz}(t)||Array.isArray(t)||!!t[QE]||!!(!((e=t.constructor)===null||e===void 0)&&e[QE])||yv(t)||_v(t))}function Fi(t,e,n){n===void 0&&(n=!1),Ta(t)===0?(n?Object.keys:Uo)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,s){return e(s,r,t)})}function Ta(t){var e=t[qe];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:yv(t)?2:_v(t)?3:0}function Vo(t,e){return Ta(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Cz(t,e){return Ta(t)===2?t.get(e):t[e]}function jA(t,e,n){var r=Ta(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function DA(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function yv(t){return kz&&t instanceof Map}function _v(t){return bz&&t instanceof Set}function ci(t){return t.o||t.t}function vv(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=MA(t);delete e[qe];for(var n=Uo(e),r=0;r<n.length;r++){var s=n[r],i=e[s];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[s]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[s]})}return Object.create(Object.getPrototypeOf(t),e)}function wv(t,e){return e===void 0&&(e=!1),Ev(t)||Gs(t)||!is(t)||(Ta(t)>1&&(t.set=t.add=t.clear=t.delete=xz),Object.freeze(t),e&&Fi(t,function(n,r){return wv(r,!0)},!0)),t}function xz(){sr(2)}function Ev(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function kr(t){var e=xg[t];return e||sr(18,t),e}function Az(t,e){xg[t]||(xg[t]=e)}function Ig(){return ru}function kp(t,e){e&&(kr("Patches"),t.u=[],t.s=[],t.v=e)}function Wd(t){Sg(t),t.p.forEach(Pz),t.p=null}function Sg(t){t===ru&&(ru=t.l)}function zE(t){return ru={p:[],l:ru,h:t,m:!0,_:0}}function Pz(t){var e=t[qe];e.i===0||e.i===1?e.j():e.g=!0}function bp(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||kr("ES5").S(e,t,r),r?(n[qe].P&&(Wd(e),sr(4)),is(t)&&(t=Hd(e,t),e.l||Kd(e,t)),e.u&&kr("Patches").M(n[qe].t,t,e.u,e.s)):t=Hd(e,n,[]),Wd(e),e.u&&e.v(e.u,e.s),t!==LA?t:void 0}function Hd(t,e,n){if(Ev(e))return e;var r=e[qe];if(!r)return Fi(e,function(a,l){return qE(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Kd(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var s=r.i===4||r.i===5?r.o=vv(r.k):r.o,i=s,o=!1;r.i===3&&(i=new Set(s),s.clear(),o=!0),Fi(i,function(a,l){return qE(t,r,s,a,l,n,o)}),Kd(t,s,!1),n&&t.u&&kr("Patches").N(r,n,t.u,t.s)}return r.o}function qE(t,e,n,r,s,i,o){if(Gs(s)){var a=Hd(t,s,i&&e&&e.i!==3&&!Vo(e.R,r)?i.concat(r):void 0);if(jA(n,r,a),!Gs(a))return;t.m=!1}else o&&n.add(s);if(is(s)&&!Ev(s)){if(!t.h.D&&t._<1)return;Hd(t,s),e&&e.A.l||Kd(t,s)}}function Kd(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&wv(e,n)}function Op(t,e){var n=t[qe];return(n?ci(n):t)[e]}function WE(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function vs(t){t.P||(t.P=!0,t.l&&vs(t.l))}function jp(t){t.o||(t.o=vv(t.t))}function Cg(t,e,n){var r=yv(e)?kr("MapSet").F(e,n):_v(e)?kr("MapSet").T(e,n):t.O?function(s,i){var o=Array.isArray(s),a={i:o?1:0,A:i?i.A:Ig(),P:!1,I:!1,R:{},l:i,t:s,k:null,o:null,j:null,C:!1},l=a,u=su;o&&(l=[a],u=Za);var d=Proxy.revocable(l,u),h=d.revoke,f=d.proxy;return a.k=f,a.j=h,f}(e,n):kr("ES5").J(e,n);return(n?n.A:Ig()).p.push(r),r}function Rz(t){return Gs(t)||sr(22,t),function e(n){if(!is(n))return n;var r,s=n[qe],i=Ta(n);if(s){if(!s.P&&(s.i<4||!kr("ES5").K(s)))return s.t;s.I=!0,r=HE(n,i),s.I=!1}else r=HE(n,i);return Fi(r,function(o,a){s&&Cz(s.t,o)===a||jA(r,o,e(a))}),i===3?new Set(r):r}(t)}function HE(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return vv(t)}function Nz(){function t(i,o){var a=s[i];return a?a.enumerable=o:s[i]=a={configurable:!0,enumerable:o,get:function(){var l=this[qe];return su.get(l,i)},set:function(l){var u=this[qe];su.set(u,i,l)}},a}function e(i){for(var o=i.length-1;o>=0;o--){var a=i[o][qe];if(!a.P)switch(a.i){case 5:r(a)&&vs(a);break;case 4:n(a)&&vs(a)}}}function n(i){for(var o=i.t,a=i.k,l=Uo(a),u=l.length-1;u>=0;u--){var d=l[u];if(d!==qe){var h=o[d];if(h===void 0&&!Vo(o,d))return!0;var f=a[d],m=f&&f[qe];if(m?m.t!==h:!DA(f,h))return!0}}var _=!!o[qe];return l.length!==Uo(o).length+(_?0:1)}function r(i){var o=i.k;if(o.length!==i.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var s={};Az("ES5",{J:function(i,o){var a=Array.isArray(i),l=function(d,h){if(d){for(var f=Array(h.length),m=0;m<h.length;m++)Object.defineProperty(f,""+m,t(m,!0));return f}var _=MA(h);delete _[qe];for(var v=Uo(_),w=0;w<v.length;w++){var g=v[w];_[g]=t(g,d||!!_[g].enumerable)}return Object.create(Object.getPrototypeOf(h),_)}(a,i),u={i:a?5:4,A:o?o.A:Ig(),P:!1,I:!1,R:{},l:o,t:i,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,qe,{value:u,writable:!0}),l},S:function(i,o,a){a?Gs(o)&&o[qe].A===i&&e(i.p):(i.u&&function l(u){if(u&&typeof u=="object"){var d=u[qe];if(d){var h=d.t,f=d.k,m=d.R,_=d.i;if(_===4)Fi(f,function(y){y!==qe&&(h[y]!==void 0||Vo(h,y)?m[y]||l(f[y]):(m[y]=!0,vs(d)))}),Fi(h,function(y){f[y]!==void 0||Vo(f,y)||(m[y]=!1,vs(d))});else if(_===5){if(r(d)&&(vs(d),m.length=!0),f.length<h.length)for(var v=f.length;v<h.length;v++)m[v]=!1;else for(var w=h.length;w<f.length;w++)m[w]=!0;for(var g=Math.min(f.length,h.length),p=0;p<g;p++)f.hasOwnProperty(p)||(m[p]=!0),m[p]===void 0&&l(f[p])}}}}(i.p[0]),e(i.p))},K:function(i){return i.i===4?n(i):r(i)}})}var KE,ru,Tv=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",kz=typeof Map<"u",bz=typeof Set<"u",GE=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",LA=Tv?Symbol.for("immer-nothing"):((KE={})["immer-nothing"]=!0,KE),QE=Tv?Symbol.for("immer-draftable"):"__$immer_draftable",qe=Tv?Symbol.for("immer-state"):"__$immer_state",Oz=""+Object.prototype.constructor,Uo=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,MA=Object.getOwnPropertyDescriptors||function(t){var e={};return Uo(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},xg={},su={get:function(t,e){if(e===qe)return t;var n=ci(t);if(!Vo(n,e))return function(s,i,o){var a,l=WE(i,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(s.k):void 0}(t,n,e);var r=n[e];return t.I||!is(r)?r:r===Op(t.t,e)?(jp(t),t.o[e]=Cg(t.A.h,r,t)):r},has:function(t,e){return e in ci(t)},ownKeys:function(t){return Reflect.ownKeys(ci(t))},set:function(t,e,n){var r=WE(ci(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var s=Op(ci(t),e),i=s==null?void 0:s[qe];if(i&&i.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(DA(n,s)&&(n!==void 0||Vo(t.t,e)))return!0;jp(t),vs(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Op(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,jp(t),vs(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=ci(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){sr(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){sr(12)}},Za={};Fi(su,function(t,e){Za[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Za.deleteProperty=function(t,e){return Za.set.call(this,t,e,void 0)},Za.set=function(t,e,n){return su.set.call(this,t[0],e,n,t[0])};var jz=function(){function t(n){var r=this;this.O=GE,this.D=!0,this.produce=function(s,i,o){if(typeof s=="function"&&typeof i!="function"){var a=i;i=s;var l=r;return function(v){var w=this;v===void 0&&(v=a);for(var g=arguments.length,p=Array(g>1?g-1:0),y=1;y<g;y++)p[y-1]=arguments[y];return l.produce(v,function(I){var S;return(S=i).call.apply(S,[w,I].concat(p))})}}var u;if(typeof i!="function"&&sr(6),o!==void 0&&typeof o!="function"&&sr(7),is(s)){var d=zE(r),h=Cg(r,s,void 0),f=!0;try{u=i(h),f=!1}finally{f?Wd(d):Sg(d)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(v){return kp(d,o),bp(v,d)},function(v){throw Wd(d),v}):(kp(d,o),bp(u,d))}if(!s||typeof s!="object"){if((u=i(s))===void 0&&(u=s),u===LA&&(u=void 0),r.D&&wv(u,!0),o){var m=[],_=[];kr("Patches").M(s,u,m,_),o(m,_)}return u}sr(21,s)},this.produceWithPatches=function(s,i){if(typeof s=="function")return function(u){for(var d=arguments.length,h=Array(d>1?d-1:0),f=1;f<d;f++)h[f-1]=arguments[f];return r.produceWithPatches(u,function(m){return s.apply(void 0,[m].concat(h))})};var o,a,l=r.produce(s,i,function(u,d){o=u,a=d});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){is(n)||sr(8),Gs(n)&&(n=Rz(n));var r=zE(this),s=Cg(this,n,void 0);return s[qe].C=!0,Sg(r),s},e.finishDraft=function(n,r){var s=n&&n[qe],i=s.A;return kp(i,r),bp(void 0,i)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!GE&&sr(20),this.O=n},e.applyPatches=function(n,r){var s;for(s=r.length-1;s>=0;s--){var i=r[s];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}s>-1&&(r=r.slice(s+1));var o=kr("Patches").$;return Gs(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),An=new jz,VA=An.produce;An.produceWithPatches.bind(An);An.setAutoFreeze.bind(An);An.setUseProxies.bind(An);An.applyPatches.bind(An);An.createDraft.bind(An);An.finishDraft.bind(An);function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function Dz(t,e){if(iu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(iu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lz(t){var e=Dz(t,"string");return iu(e)==="symbol"?e:String(e)}function Mz(t,e,n){return e=Lz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function YE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JE(Object(n),!0).forEach(function(r){Mz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var XE=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Dp=function(){return Math.random().toString(36).substring(7).split("").join(".")},Gd={INIT:"@@redux/INIT"+Dp(),REPLACE:"@@redux/REPLACE"+Dp(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Dp()}};function Vz(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function UA(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(qt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(qt(1));return n(UA)(t,e)}if(typeof t!="function")throw new Error(qt(2));var s=t,i=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function d(){if(l)throw new Error(qt(3));return i}function h(v){if(typeof v!="function")throw new Error(qt(4));if(l)throw new Error(qt(5));var w=!0;return u(),a.push(v),function(){if(w){if(l)throw new Error(qt(6));w=!1,u();var p=a.indexOf(v);a.splice(p,1),o=null}}}function f(v){if(!Vz(v))throw new Error(qt(7));if(typeof v.type>"u")throw new Error(qt(8));if(l)throw new Error(qt(9));try{l=!0,i=s(i,v)}finally{l=!1}for(var w=o=a,g=0;g<w.length;g++){var p=w[g];p()}return v}function m(v){if(typeof v!="function")throw new Error(qt(10));s=v,f({type:Gd.REPLACE})}function _(){var v,w=h;return v={subscribe:function(p){if(typeof p!="object"||p===null)throw new Error(qt(11));function y(){p.next&&p.next(d())}y();var I=w(y);return{unsubscribe:I}}},v[XE]=function(){return this},v}return f({type:Gd.INIT}),r={dispatch:f,subscribe:h,getState:d,replaceReducer:m},r[XE]=_,r}function Uz(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Gd.INIT});if(typeof r>"u")throw new Error(qt(12));if(typeof n(void 0,{type:Gd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(qt(13))})}function $z(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var s=e[r];typeof t[s]=="function"&&(n[s]=t[s])}var i=Object.keys(n),o;try{Uz(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var d=!1,h={},f=0;f<i.length;f++){var m=i[f],_=n[m],v=l[m],w=_(v,u);if(typeof w>"u")throw u&&u.type,new Error(qt(14));h[m]=w,d=d||w!==v}return d=d||i.length!==Object.keys(l).length,d?h:l}}function Qd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,s){return function(){return r(s.apply(void 0,arguments))}})}function Fz(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var s=r.apply(void 0,arguments),i=function(){throw new Error(qt(15))},o={getState:s.getState,dispatch:function(){return i.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return i=Qd.apply(void 0,a)(s.dispatch),YE(YE({},s),{},{dispatch:i})}}}function $A(t){var e=function(r){var s=r.dispatch,i=r.getState;return function(o){return function(a){return typeof a=="function"?a(s,i,t):o(a)}}};return e}var FA=$A();FA.withExtraArgument=$A;const Ag=FA;var BA=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bz=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return l([u,d])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ia=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,s=t.length;n<r;n++,s++)t[s]=e[n];return t},zz=Object.defineProperty,qz=Object.defineProperties,Wz=Object.getOwnPropertyDescriptors,ZE=Object.getOwnPropertySymbols,Hz=Object.prototype.hasOwnProperty,Kz=Object.prototype.propertyIsEnumerable,e1=function(t,e,n){return e in t?zz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},$s=function(t,e){for(var n in e||(e={}))Hz.call(e,n)&&e1(t,n,e[n]);if(ZE)for(var r=0,s=ZE(e);r<s.length;r++){var n=s[r];Kz.call(e,n)&&e1(t,n,e[n])}return t},Lp=function(t,e){return qz(t,Wz(e))},Gz=function(t,e,n){return new Promise(function(r,s){var i=function(l){try{a(n.next(l))}catch(u){s(u)}},o=function(l){try{a(n.throw(l))}catch(u){s(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(i,o)};a((n=n.apply(t,e)).next())})},Qz=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Qd:Qd.apply(null,arguments)};function Jz(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var Yz=function(t){BA(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=t.apply(this,n)||this;return Object.setPrototypeOf(s,e.prototype),s}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,ia([void 0],n[0].concat(this)))):new(e.bind.apply(e,ia([void 0],n.concat(this))))},e}(Array),Xz=function(t){BA(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=t.apply(this,n)||this;return Object.setPrototypeOf(s,e.prototype),s}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,ia([void 0],n[0].concat(this)))):new(e.bind.apply(e,ia([void 0],n.concat(this))))},e}(Array);function Pg(t){return is(t)?VA(t,function(){}):t}function Zz(t){return typeof t=="boolean"}function eq(){return function(e){return tq(e)}}function tq(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new Yz;return n&&(Zz(n)?r.push(Ag):r.push(Ag.withExtraArgument(n.extraArgument))),r}var nq=!0;function rq(t){var e=eq(),n=t||{},r=n.reducer,s=r===void 0?void 0:r,i=n.middleware,o=i===void 0?e():i,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,d=u===void 0?void 0:u,h=n.enhancers,f=h===void 0?void 0:h,m;if(typeof s=="function")m=s;else if(Jz(s))m=$z(s);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var _=o;typeof _=="function"&&(_=_(e));var v=Fz.apply(void 0,_),w=Qd;l&&(w=Qz($s({trace:!nq},typeof l=="object"&&l)));var g=new Xz(v),p=g;Array.isArray(f)?p=ia([v],f):typeof f=="function"&&(p=f(g));var y=w.apply(void 0,p);return UA(m,d,y)}function Fs(t,e){function n(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(e){var i=e.apply(void 0,r);if(!i)throw new Error("prepareAction did not return an object");return $s($s({type:t,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function zA(t){var e={},n=[],r,s={addCase:function(i,o){var a=typeof i=="string"?i:i.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,s},addMatcher:function(i,o){return n.push({matcher:i,reducer:o}),s},addDefaultCase:function(i){return r=i,s}};return t(s),[e,n,r]}function sq(t){return typeof t=="function"}function iq(t,e,n,r){n===void 0&&(n=[]);var s=typeof e=="function"?zA(e):[e,n,r],i=s[0],o=s[1],a=s[2],l;if(sq(t))l=function(){return Pg(t())};else{var u=Pg(t);l=function(){return u}}function d(h,f){h===void 0&&(h=l());var m=ia([i[f.type]],o.filter(function(_){var v=_.matcher;return v(f)}).map(function(_){var v=_.reducer;return v}));return m.filter(function(_){return!!_}).length===0&&(m=[a]),m.reduce(function(_,v){if(v)if(Gs(_)){var w=_,g=v(w,f);return g===void 0?_:g}else{if(is(_))return VA(_,function(p){return v(p,f)});var g=v(_,f);if(g===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return _},h)}return d.getInitialState=l,d}function oq(t,e){return t+"/"+e}function aq(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:Pg(t.initialState),r=t.reducers||{},s=Object.keys(r),i={},o={},a={};s.forEach(function(d){var h=r[d],f=oq(e,d),m,_;"reducer"in h?(m=h.reducer,_=h.prepare):m=h,i[d]=m,o[f]=m,a[d]=_?Fs(f,_):Fs(f)});function l(){var d=typeof t.extraReducers=="function"?zA(t.extraReducers):[t.extraReducers],h=d[0],f=h===void 0?{}:h,m=d[1],_=m===void 0?[]:m,v=d[2],w=v===void 0?void 0:v,g=$s($s({},f),o);return iq(n,function(p){for(var y in g)p.addCase(y,g[y]);for(var I=0,S=_;I<S.length;I++){var A=S[I];p.addMatcher(A.matcher,A.reducer)}w&&p.addDefaultCase(w)})}var u;return{name:e,reducer:function(d,h){return u||(u=l()),u(d,h)},actions:a,caseReducers:i,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var lq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",uq=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=lq[Math.random()*64|0];return e},cq=["name","message","stack","code"],Mp=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),t1=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),dq=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=cq;n<r.length;n++){var s=r[n];typeof t[s]=="string"&&(e[s]=t[s])}return e}return{message:String(t)}};(function(){function t(e,n,r){var s=Fs(e+"/fulfilled",function(u,d,h,f){return{payload:u,meta:Lp($s({},f||{}),{arg:h,requestId:d,requestStatus:"fulfilled"})}}),i=Fs(e+"/pending",function(u,d,h){return{payload:void 0,meta:Lp($s({},h||{}),{arg:d,requestId:u,requestStatus:"pending"})}}),o=Fs(e+"/rejected",function(u,d,h,f,m){return{payload:f,error:(r&&r.serializeError||dq)(u||"Rejected"),meta:Lp($s({},m||{}),{arg:h,requestId:d,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(d,h,f){var m=r!=null&&r.idGenerator?r.idGenerator(u):uq(),_=new a,v;function w(p){v=p,_.abort()}var g=function(){return Gz(this,null,function(){var p,y,I,S,A,k,O;return Bz(this,function($){switch($.label){case 0:return $.trys.push([0,4,,5]),S=(p=r==null?void 0:r.condition)==null?void 0:p.call(r,u,{getState:h,extra:f}),fq(S)?[4,S]:[3,2];case 1:S=$.sent(),$.label=2;case 2:if(S===!1||_.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return A=new Promise(function(M,J){return _.signal.addEventListener("abort",function(){return J({name:"AbortError",message:v||"Aborted"})})}),d(i(m,u,(y=r==null?void 0:r.getPendingMeta)==null?void 0:y.call(r,{requestId:m,arg:u},{getState:h,extra:f}))),[4,Promise.race([A,Promise.resolve(n(u,{dispatch:d,getState:h,extra:f,requestId:m,signal:_.signal,abort:w,rejectWithValue:function(M,J){return new Mp(M,J)},fulfillWithValue:function(M,J){return new t1(M,J)}})).then(function(M){if(M instanceof Mp)throw M;return M instanceof t1?s(M.payload,m,u,M.meta):s(M,m,u)})])];case 3:return I=$.sent(),[3,5];case 4:return k=$.sent(),I=k instanceof Mp?o(null,m,u,k.payload,k.meta):o(k,m,u),[3,5];case 5:return O=r&&!r.dispatchConditionRejection&&o.match(I)&&I.meta.condition,O||d(I),[2,I]}})})}();return Object.assign(g,{abort:w,requestId:m,arg:u,unwrap:function(){return g.then(hq)}})}}return Object.assign(l,{pending:i,rejected:o,fulfilled:s,typePrefix:e})}return t.withTypes=function(){return t},t})();function hq(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function fq(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Iv="listenerMiddleware";Fs(Iv+"/add");Fs(Iv+"/removeAll");Fs(Iv+"/remove");var n1;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);Nz();const pq=aq({name:"counter",initialState:{value:0},reducers:{increment:t=>{t.value+=1},decrement:t=>{t.value-=1},incrementByAmount:(t,e)=>{t.value+=e.payload}}}),mq=pq.reducer,gq=rq({reducer:{counter:mq},middleware:[Ag]});Vp.createRoot(document.getElementById("root")).render(c.jsx(bt.StrictMode,{children:c.jsx(H2,{store:gq,children:c.jsx(Sz,{})})}));
